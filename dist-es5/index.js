'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _get2=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _createClass2=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _typeof3=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _templateObject=_taggedTemplateLiteral(['\n            <div style="display:flex; justify-content:space-between; align-items:center; border:solid thin green;">\n                <div style="padding:10px;">','</div>\n                <div>\n                    <paper-button>remove</paper-button>\n                </div>\n                \n            </div>\n            <div class="propertiesContainer"></div>\n            <div class="contentContainer">content</div>\n            \n        '],['\n            <div style="display:flex; justify-content:space-between; align-items:center; border:solid thin green;">\n                <div style="padding:10px;">','</div>\n                <div>\n                    <paper-button>remove</paper-button>\n                </div>\n                \n            </div>\n            <div class="propertiesContainer"></div>\n            <div class="contentContainer">content</div>\n            \n        ']),_templateObject2=_taggedTemplateLiteral(['\n        <div style="position:relative;">\n            <div class = "header" style="display:flex; justify-content:space-between; align-items:center; border:solid thin green; cursor:pointer">\n                <div style="padding:10px;">',': ','</div>\n                \n                <div class="close-button" style="font-size:1.5em; padding:10px">\n                    <ion-icon name="close-circle"></ion-icon>\n                </div>\n                \n            </div>\n            <div class="popup" style="padding:10px; position:absolute; min-width:350px; display:none; box-shadow: 2px 2px 5px 5px rgba(0,0,0,0.5); background-color:white; z-index:1000;">\n                <div class="propertiesContainer"></div>\n                <div class="contentContainer">content</div>\n            </div>\n        </div>\n        '],['\n        <div style="position:relative;">\n            <div class = "header" style="display:flex; justify-content:space-between; align-items:center; border:solid thin green; cursor:pointer">\n                <div style="padding:10px;">',': ','</div>\n                \n                <div class="close-button" style="font-size:1.5em; padding:10px">\n                    <ion-icon name="close-circle"></ion-icon>\n                </div>\n                \n            </div>\n            <div class="popup" style="padding:10px; position:absolute; min-width:350px; display:none; box-shadow: 2px 2px 5px 5px rgba(0,0,0,0.5); background-color:white; z-index:1000;">\n                <div class="propertiesContainer"></div>\n                <div class="contentContainer">content</div>\n            </div>\n        </div>\n        ']),_templateObject3=_taggedTemplateLiteral(['<style>\n            :host{\n                font-family:"Roboto";\n            }\n            .booleanDiv{\n                display:inline-block;\n                padding:10px;\n            }\n\n            .stringDiv{\n                padding:10px;\n            }\n        </style>'],['<style>\n            :host{\n                font-family:"Roboto";\n            }\n            .booleanDiv{\n                display:inline-block;\n                padding:10px;\n            }\n\n            .stringDiv{\n                padding:10px;\n            }\n        </style>']),_templateObject4=_taggedTemplateLiteral(['<style>\n        :host{\n            display:block;\n            font-family: Roboto, Noto, sans-serif;   \n        }\n        .top-section{\n            height:40px;\n            width:100%;\n        }\n        .top-left{\n            text-align:left;\n        }\n        .top-label{\n            text-align:center;\n        }\n        .top-right{\n            text-align:right;\n        }\n        .bottom-left{\n            text-align:left;\n        }\n        .bottom{\n            text-align:center;\n        }\n        .bottom-right{\n            text-align:right;\n        }\n        .top-left-corner{\n            width:40px;\n            height:40px;\n        }\n        .top-right-corner{\n            width:40px;\n            height:40px;\n        }\n        .bottom-left-corner{\n            width:40px;\n            height:40px;\n        }\n        .bottom-right-corner{\n            width:40px;\n            height:40px;\n        }\n        .middle-section{\n         \n            flex-grow:2;\n        }\n        .bottom-section{\n           \n            height:40px;\n            width:100%;\n        }\n        .left-margin{\n            width:40px;\n            height:100%;\n        }\n        .right-margin{\n            width:40px;\n            height:100%;\n        }\n        .grid{\n            display:grid;\n            grid-template-columns: repeat(',', ','%);\n            \n            flex-grow:2;\n            width:100%;\n            height:100%;\n        }\n        .cell{\n            border:solid thin;\n            /* transition:background-color 0.2s; */\n        }\n        .cell.top{\n            border-top:solid 2px;\n        }\n        .cell.bottom{\n            border-bottom:solid 2px;\n        }\n        .cell.left{\n            border-left:solid 2px;\n        }\n        .cell.right{\n            border-right: solid 2px;\n        }\n        .cell.selected{\n            background-color: #3367D6;\n            \n        }\n        .label{\n            flex-grow:1\n        }\n        </style>\n        '],['<style>\n        :host{\n            display:block;\n            font-family: Roboto, Noto, sans-serif;   \n        }\n        .top-section{\n            height:40px;\n            width:100%;\n        }\n        .top-left{\n            text-align:left;\n        }\n        .top-label{\n            text-align:center;\n        }\n        .top-right{\n            text-align:right;\n        }\n        .bottom-left{\n            text-align:left;\n        }\n        .bottom{\n            text-align:center;\n        }\n        .bottom-right{\n            text-align:right;\n        }\n        .top-left-corner{\n            width:40px;\n            height:40px;\n        }\n        .top-right-corner{\n            width:40px;\n            height:40px;\n        }\n        .bottom-left-corner{\n            width:40px;\n            height:40px;\n        }\n        .bottom-right-corner{\n            width:40px;\n            height:40px;\n        }\n        .middle-section{\n         \n            flex-grow:2;\n        }\n        .bottom-section{\n           \n            height:40px;\n            width:100%;\n        }\n        .left-margin{\n            width:40px;\n            height:100%;\n        }\n        .right-margin{\n            width:40px;\n            height:100%;\n        }\n        .grid{\n            display:grid;\n            grid-template-columns: repeat(',', ','%);\n            \n            flex-grow:2;\n            width:100%;\n            height:100%;\n        }\n        .cell{\n            border:solid thin;\n            /* transition:background-color 0.2s; */\n        }\n        .cell.top{\n            border-top:solid 2px;\n        }\n        .cell.bottom{\n            border-bottom:solid 2px;\n        }\n        .cell.left{\n            border-left:solid 2px;\n        }\n        .cell.right{\n            border-right: solid 2px;\n        }\n        .cell.selected{\n            background-color: #3367D6;\n            \n        }\n        .label{\n            flex-grow:1\n        }\n        </style>\n        ']),_templateObject5=_taggedTemplateLiteral(['<div class="cell  ',' ','  ','  ','" data-x="','" data-y="','">\n            </div>'],['<div class="cell  ',' ','  ','  ','" data-x="','" data-y="','">\n            </div>']),_templateObject6=_taggedTemplateLiteral(['\n            <div class="total-container" style="position:relative; display:flex; flex-direction:column;">\n                \n                <div class="top-section" style="display:flex; flex-direction:row">\n                    <div class="top-left-corner"></div>    \n                    <div style="width:100%; display:flex; flex-direction:row; justify-content:space-between">\n                        <div class="top-left label" style="width:33.3%">','</div>\n                        <div class="top-label" style="width:33.3%; text-align:center">','</div>\n                        <div class="top-right label" style="width:33.3%">','</div>\n                    </div>\n                    <div class="top-right-corner"></div>    \n                </div>\n            \n                \n                <div class="middle-section" style="display:flex; flex-direction:row">\n                    <div class="left-margin" style="display:flex; flex-direction:column;"></div>\n                    <div class="grid" style="padding:0px">','</div>\n                    <div class="right-margin" style="display:flex; flex-direction:column"></div>\n                </div>\n                \n\n                <div class="bottom-section" style="display:flex; flex-direction:row;margin-top:10px">\n                <div class="bottom-left-corner" ></div>    \n                <div style="width:100%; display:flex; flex-direction:row; justify-content:space-between">\n                    <div class="bottom-left label" style="width:33.3%">','</div>\n                    <div class="bottom label" style="width:33.3%">','</div>\n                    <div class="bottom-right label" style="width:33.3%">','</div>\n                \n                </div>\n                    <div class="bottom-right-corner"></div>    \n                \n                </div>\n\n                <div class="leftLabels" style="position:absolute; bottom:30px; left:0px;  display:flex; flex-direction:row; justify-content:space-between; transform:rotate(-90deg); transform-origin:top left;">\n                    <div style="width:33.3%; text-align:left; ">','</div>    \n                    <div style="width:33.3%; text-align:center; flex-grow:2">','</div>    \n                    <div style="width:33.3%;text-align:right">','</div>    \n                </div>\n\n                <div class="rightLabels" style="position:absolute; bottom:50px; right:20px; display:flex; flex-direction:row; justify-content:space-between; transform:rotate(90deg); transform-origin:bottom right;">\n                    <div style="width:33.3%; text-align:left">','</div>    \n                    <div style="width:33.3%; text-align:center; flex-grow:2">','</div>    \n                    <div style="width:33.3%; text-align:right">','</div>    \n                </div>\n\n            </div>\n        \n        '],['\n            <div class="total-container" style="position:relative; display:flex; flex-direction:column;">\n                \n                <div class="top-section" style="display:flex; flex-direction:row">\n                    <div class="top-left-corner"></div>    \n                    <div style="width:100%; display:flex; flex-direction:row; justify-content:space-between">\n                        <div class="top-left label" style="width:33.3%">','</div>\n                        <div class="top-label" style="width:33.3%; text-align:center">','</div>\n                        <div class="top-right label" style="width:33.3%">','</div>\n                    </div>\n                    <div class="top-right-corner"></div>    \n                </div>\n            \n                \n                <div class="middle-section" style="display:flex; flex-direction:row">\n                    <div class="left-margin" style="display:flex; flex-direction:column;"></div>\n                    <div class="grid" style="padding:0px">','</div>\n                    <div class="right-margin" style="display:flex; flex-direction:column"></div>\n                </div>\n                \n\n                <div class="bottom-section" style="display:flex; flex-direction:row;margin-top:10px">\n                <div class="bottom-left-corner" ></div>    \n                <div style="width:100%; display:flex; flex-direction:row; justify-content:space-between">\n                    <div class="bottom-left label" style="width:33.3%">','</div>\n                    <div class="bottom label" style="width:33.3%">','</div>\n                    <div class="bottom-right label" style="width:33.3%">','</div>\n                \n                </div>\n                    <div class="bottom-right-corner"></div>    \n                \n                </div>\n\n                <div class="leftLabels" style="position:absolute; bottom:30px; left:0px;  display:flex; flex-direction:row; justify-content:space-between; transform:rotate(-90deg); transform-origin:top left;">\n                    <div style="width:33.3%; text-align:left; ">','</div>    \n                    <div style="width:33.3%; text-align:center; flex-grow:2">','</div>    \n                    <div style="width:33.3%;text-align:right">','</div>    \n                </div>\n\n                <div class="rightLabels" style="position:absolute; bottom:50px; right:20px; display:flex; flex-direction:row; justify-content:space-between; transform:rotate(90deg); transform-origin:bottom right;">\n                    <div style="width:33.3%; text-align:left">','</div>    \n                    <div style="width:33.3%; text-align:center; flex-grow:2">','</div>    \n                    <div style="width:33.3%; text-align:right">','</div>    \n                </div>\n\n            </div>\n        \n        ']),_templateObject7=_taggedTemplateLiteral(['<style>\n            :host{\n                cursor:pointer;\n                font-family:Roboto;\n            }\n            :host(:focus) {\n                 outline: none;\n            }\n\n            .label-horizontal{\n                padding-left:10px;\n            }\n            \n            .label-vertical{\n                padding-top:10px;\n            }\n            \n            \n\n            \n        paper-radio-button {\n            \n            user-select:none;\n            display: block;\n        }\n        </style>'],['<style>\n            :host{\n                cursor:pointer;\n                font-family:Roboto;\n            }\n            :host(:focus) {\n                 outline: none;\n            }\n\n            .label-horizontal{\n                padding-left:10px;\n            }\n            \n            .label-vertical{\n                padding-top:10px;\n            }\n            \n            \n\n            \n        paper-radio-button {\n            \n            user-select:none;\n            display: block;\n        }\n        </style>']),_templateObject8=_taggedTemplateLiteral(['\n            <style>\n                    :host{\n                        display:block;\n                        font-family: Roboto, Noto, sans-serif;\n                        font-weight:bold;\n                        margin-top:40px;\n                        margin-bottom:10px;\n                        \n                    }\n\n            </style>\n        '],['\n            <style>\n                    :host{\n                        display:block;\n                        font-family: Roboto, Noto, sans-serif;\n                        font-weight:bold;\n                        margin-top:40px;\n                        margin-bottom:10px;\n                        \n                    }\n\n            </style>\n        ']),_templateObject9=_taggedTemplateLiteral(['<div>\n                                <aa-multiple-choice horizontal="true" name="','">','</aa-multiple-choice>\n                                ','    \n                            </div>\n                                '],['<div>\n                                <aa-multiple-choice horizontal="true" name="','">','</aa-multiple-choice>\n                                ','    \n                            </div>\n                                ']),_templateObject10=_taggedTemplateLiteral(['<paper-button class=\'submitButton darkBlue\' raised class=\'indigo\'>','</paper-button>'],['<paper-button class=\'submitButton darkBlue\' raised class=\'indigo\'>','</paper-button>']),_templateObject11=_taggedTemplateLiteral(['<button class=\'submitButton\'>','</button>'],['<button class=\'submitButton\'>','</button>']),_templateObject12=_taggedTemplateLiteral(['\n                    <div style=\'display:flex; align-items:center\'>\n                        <div>please fill out the required fields</div>\n                        <div id=\'attention\'\n                            style=\'color: red; font-size: 20px;  border: solid thin; border-radius: 50%; width: 20px;\n                                                                                                                                                    margin-left:20px; height: 20px; \n                                                                                                                                                    text-align: center;\n                                                                                                                                                    padding: 5px;\'>\n                            !</div>\n                    </div>'],['\n                    <div style=\'display:flex; align-items:center\'>\n                        <div>please fill out the required fields</div>\n                        <div id=\'attention\'\n                            style=\'color: red; font-size: 20px;  border: solid thin; border-radius: 50%; width: 20px;\n                                                                                                                                                    margin-left:20px; height: 20px; \n                                                                                                                                                    text-align: center;\n                                                                                                                                                    padding: 5px;\'>\n                            !</div>\n                    </div>']),_templateObject13=_taggedTemplateLiteral(['<style>\n                :host {\n                    display: block;\n                    height: fit-content;\n                    padding:20px;\n                    font-family:sans-serif;\n                }\n\n                .submitButtonContainer{\n                    text-align:right;\n                    justify-content: space-between; \n                    align-items:center;\n                    padding:20px;\n                }\n\n\n                paper-button.darkBlue {\n                    background-color: #0d47a1;\n                    color: white;\n                 }\n  \n         </style>'],['<style>\n                :host {\n                    display: block;\n                    height: fit-content;\n                    padding:20px;\n                    font-family:sans-serif;\n                }\n\n                .submitButtonContainer{\n                    text-align:right;\n                    justify-content: space-between; \n                    align-items:center;\n                    padding:20px;\n                }\n\n\n                paper-button.darkBlue {\n                    background-color: #0d47a1;\n                    color: white;\n                 }\n  \n         </style>']),_templateObject14=_taggedTemplateLiteral(['\n            <slot></slot>\n            <div id=\'userMessage\'>\n                <div class=\'submitButtonContainer\'>\n                    <div>\n                        ','\n                    </div>\n                    <div id=\'userMessage\'></div>\n                </div>'],['\n            <slot></slot>\n            <div id=\'userMessage\'>\n                <div class=\'submitButtonContainer\'>\n                    <div>\n                        ','\n                    </div>\n                    <div id=\'userMessage\'></div>\n                </div>']),_templateObject15=_taggedTemplateLiteral(['\n            <style>\n                :host {\n                    display: block;\n                }\n            </style>\n        '],['\n            <style>\n                :host {\n                    display: block;\n                }\n            </style>\n        ']),_templateObject16=_taggedTemplateLiteral(['\n            <slot></slot>\n            <button id=\'nextButton\' hidden></button>\n        '],['\n            <slot></slot>\n            <button id=\'nextButton\' hidden></button>\n        ']),_templateObject17=_taggedTemplateLiteral(['\n        <div>','</div>\n        <div style="display:flex; justify-content:space-between">\n            <div class="minLabel">','</div>\n            <div style="text-align:right" class="maxLabel">','</div>\n        </div>\n        '],['\n        <div>','</div>\n        <div style="display:flex; justify-content:space-between">\n            <div class="minLabel">','</div>\n            <div style="text-align:right" class="maxLabel">','</div>\n        </div>\n        ']),_templateObject18=_taggedTemplateLiteral(['',''],['','']);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step("next",value);},function(err){step("throw",err);});}}return step("next");});};}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function _classCallCheck2(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn2(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits2(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}(function webpackUniversalModuleDefinition(root,factory){if((typeof exports==='undefined'?'undefined':_typeof3(exports))==='object'&&(typeof module==='undefined'?'undefined':_typeof3(module))==='object')module.exports=factory();else if(typeof define==='function'&&define.amd)define([],factory);else if((typeof exports==='undefined'?'undefined':_typeof3(exports))==='object')exports["executableHTML"]=factory();else root["executableHTML"]=factory();})(window,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter});}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}Object.defineProperty(exports,'__esModule',{value:true});};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&(typeof value==='undefined'?'undefined':_typeof3(value))==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value){__webpack_require__.d(ns,key,function(key){return value[key];}.bind(null,key));}return ns;};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s="./src/index.js");}({"./node_modules/webpack/buildin/global.js":function node_modulesWebpackBuildinGlobalJs(module,exports){var g;g=function(){return this;}();try{g=g||new Function("return this")();}catch(e){if((typeof window==='undefined'?'undefined':_typeof3(window))==="object")g=window;}module.exports=g;},"./node_modules/webpack/buildin/harmony-module.js":function node_modulesWebpackBuildinHarmonyModuleJs(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function get(){return module.l;}});Object.defineProperty(module,"id",{enumerable:true,get:function get(){return module.i;}});Object.defineProperty(module,"exports",{enumerable:true});module.webpackPolyfill=1;}return module;};},"./src/componentEditors/generic-editor/generic-editor.js":function srcComponentEditorsGenericEditorGenericEditorJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return GenericEditor;});var _customElements_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var _index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/index.js");var GenericEditor=function(_customElements_aa_ba){_inherits2(GenericEditor,_customElements_aa_ba);_createClass2(GenericEditor,null,[{key:'tag',get:function get(){return'generic-editor';}},{key:'properties',get:function get(){return{for:{type:String,userDefined:true}};}}]);function GenericEditor(){_classCallCheck2(this,GenericEditor);var _this5=_possibleConstructorReturn2(this,(GenericEditor.__proto__||Object.getPrototypeOf(GenericEditor)).call(this));_this5.propInputsMap={};_this5.root=_this5.attachShadow({mode:'open'});return _this5;}_createClass2(GenericEditor,[{key:'buildInterfaceForElement',value:function buildInterfaceForElement(elementOrId){var element=void 0;if(typeof elementOrId==="string"){element=document.getElementById(elementOrId);}else{element=elementOrId;}if(!element){return;}if(_customElements_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].isAAElement(element)){return this.buildInterfaceForAAElement(element);}else{return this.buildIntefaceForRegularElement(element);}}},{key:'elementContainer',value:function elementContainer(element){var elementContainer=document.createElement("div");elementContainer.innerHTML=html(_templateObject,element.tagName);elementContainer.style.border="solid thin";elementContainer.style.margin="10px";elementContainer.propertiesContainer=elementContainer.querySelector(".propertiesContainer");elementContainer.contentContainer=elementContainer.querySelector(".contentContainer");return elementContainer;}},{key:'extractAttributes',value:function extractAttributes(element){var openingTag=element.outerHTML.match(/<.*?>/g)[0];var attributes=openingTag.split(' ').filter(function(item){if(item.indexOf('=')!==-1){if(item.indexOf('slot=')==-1){return item;}}});return attributes;}},{key:'childElementContainer',value:function childElementContainer(element){var attributes=this.extractAttributes(element);var attrString=attributes.reduce(function(prev,next){return prev+" "+next;},"");var elementContainer=document.createElement("div");elementContainer.innerHTML=html(_templateObject2,element.tagName,attrString);elementContainer.style.border="solid thin";elementContainer.style.margin="10px";elementContainer.propertiesContainer=elementContainer.querySelector(".propertiesContainer");elementContainer.contentContainer=elementContainer.querySelector(".contentContainer");elementContainer.header=elementContainer.querySelector(".header");elementContainer.popup=elementContainer.querySelector(".popup");elementContainer.header.addEventListener("click",function(){if(elementContainer.popup.style.display=="none"){elementContainer.popup.style.display="block";}else{elementContainer.popup.style.display="none";}});return elementContainer;}},{key:'buildIntefaceForRegularElement',value:function buildIntefaceForRegularElement(element){var containerNode=this.elementContainer(element);return containerNode;}},{key:'buildInterfaceForAAElement',value:function buildInterfaceForAAElement(element){var _this6=this;var containerNode=this.elementContainer(element);var elementProps=element.constructor.properties;var propNames=Object.keys(elementProps);containerNode.addEventListener("click",function(){setTimeout(function(){_this6.updateConfig(element);},10);});propNames.forEach(function(prop){if(elementProps[prop].userDefined){var e=_this6.getConfigurationElementForProperty(prop,elementProps[prop],element);if(e){_this6.propInputsMap[prop]=e;var containerDiv=document.createElement('div');containerDiv.appendChild(document.createTextNode(prop+':'));containerDiv.appendChild(e);if(elementProps[prop].type===Boolean){containerDiv.classList.add("booleanDiv");}if(elementProps[prop].type===String){containerDiv.classList.add("stringDiv");}containerNode.propertiesContainer.appendChild(containerDiv);}}});for(var i=0;i<element.childNodes.length;i++){var content=this.buildInterfaceForChildElement(element.childNodes[i]);if(content){containerNode.contentContainer.appendChild(content);}}var acceptedElements=element.constructor.acceptsElements;var _loop=function _loop(_i2){var acceptedElement=acceptedElements[_i2];var addContentButton=document.createElement('paper-button');addContentButton.style.backgroundColor="indigo";addContentButton.style.color="white";containerNode.contentContainer.appendChild(addContentButton);if(typeof acceptedElement==="string"){addContentButton.innerHTML=acceptedElement;addContentButton.addEventListener("click",function(){if(acceptedElement=="#text"){var textArea=document.createElement('paper-textarea');containerNode.contentContainer.appendChild(textArea);}});}};for(var _i2=0;_i2<acceptedElements.length;_i2++){_loop(_i2);}return containerNode;}},{key:'buildInterfaceForChildElement',value:function buildInterfaceForChildElement(element){var _this7=this;if(!_customElements_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].isAAElement(element)){return;}var containerNode=this.childElementContainer(element);var elementProps=element.constructor.properties;var propNames=Object.keys(elementProps);containerNode.addEventListener("click",function(){setTimeout(function(){_this7.updateConfig(element);},10);});propNames.forEach(function(prop){if(elementProps[prop].userDefined){var e=_this7.getConfigurationElementForProperty(prop,elementProps[prop],element);if(e){_this7.propInputsMap[prop]=e;var containerDiv=document.createElement('div');containerDiv.appendChild(document.createTextNode(prop+':'));containerDiv.appendChild(e);if(elementProps[prop].type===Boolean){containerDiv.classList.add("booleanDiv");}if(elementProps[prop].type===String){containerDiv.classList.add("stringDiv");}containerNode.propertiesContainer.appendChild(containerDiv);}}});for(var i=0;i<element.childNodes.length;i++){var content=this.buildInterfaceForChildElement(element.childNodes[i]);if(content){containerNode.contentContainer.appendChild(content);}}if(element.innerText.trim()){var textArea=document.createElement('paper-textarea');textArea.value=element.innerText;containerNode.contentContainer.appendChild(textArea);}var acceptedElements=element.constructor.acceptsElements;var _loop2=function _loop2(_i3){var acceptedElement=acceptedElements[_i3];var addContentButton=document.createElement('paper-button');addContentButton.style.backgroundColor="indigo";addContentButton.style.color="white";containerNode.contentContainer.appendChild(addContentButton);if(typeof acceptedElement==="string"){addContentButton.innerHTML=acceptedElement;addContentButton.addEventListener("click",function(){if(acceptedElement=="#text"){var _textArea=document.createElement('paper-textarea');containerNode.contentContainer.appendChild(_textArea);}});}};for(var _i3=0;_i3<acceptedElements.length;_i3++){_loop2(_i3);}return containerNode;}},{key:'updateConfig',value:function updateConfig(element){var _this8=this;var props=Object.keys(this.propInputsMap);props.forEach(function(prop){var propElement=_this8.propInputsMap[prop];if(propElement.type=="checkbox"){propElement.checked=element.getAttribute(prop)==="true"?true:false;}if(propElement.type=="text"){propElement.value=element.getAttribute(prop);}});}},{key:'connectedCallback',value:function connectedCallback(){_get2(GenericEditor.prototype.__proto__||Object.getPrototypeOf(GenericEditor.prototype),'connectedCallback',this).call(this);if(this.getAttribute("for")){if(this.elementId!==this.getAttribute("for")){this.for=this.getAttribute("for");}}}},{key:'getConfigurationElementForProperty',value:function getConfigurationElementForProperty(propertyName,propertyObject,element){switch(propertyObject.type){case String:var inputElement=document.createElement('paper-input');inputElement.type="text";inputElement.name=propertyName;inputElement.value=propertyObject.value;inputElement.addEventListener("change",function(e){if(element){element.setAttribute(propertyName,e.target.value);}});return inputElement;case Boolean:var checkbox=document.createElement('input');checkbox.type="checkbox";checkbox.name=propertyName;checkbox.checked=propertyObject.value==="true"||propertyObject.value===true?true:false;checkbox.addEventListener("change",function(e){var isChecked=e.target.checked;if(element){element.setAttribute(propertyName,String(isChecked));}});return checkbox;default:return undefined;}}},{key:'for',set:function set(elementId){this.root.innerHTML=this.css;this.elementId=elementId;var container=this.buildInterfaceForElement(elementId);if(!container){console.warn('could not find element with id '+elementId);return;}container.style.width="350px";this.root.appendChild(container);}},{key:'css',get:function get(){return html(_templateObject3);}}]);return GenericEditor;}(_customElements_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_customElements_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('generic-editor',GenericEditor);},"./src/customElements/aa-affect-grid/aa-affect-grid.js":function srcCustomElementsAaAffectGridAaAffectGridJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAAffectGrid;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AAAffectGrid=function(_aa_baseElement_baseE){_inherits2(AAAffectGrid,_aa_baseElement_baseE);_createClass2(AAAffectGrid,[{key:'x',get:function get(){var val=this.getAttribute("value");if(!val)return null;return parseInt(val.split(",")[0]);}},{key:'y',get:function get(){var val=this.getAttribute("value");if(!val)return null;return parseInt(val.split(",")[1]);}},{key:'value',get:function get(){var val=this.getAttribute("value");if(!val)return null;var s=val.split(",");return[parseInt(s[0]),parseInt(s[1])];},set:function set(val){this.setAttribute('value',val);}},{key:'minLabel',get:function get(){return this.getAttribute('min-label');},set:function set(val){this.setAttribute('min-label',val);}},{key:'maxLabel',get:function get(){return this.getAttribute('max-label');},set:function set(val){this.setAttribute('max-label',val);}},{key:'min',set:function set(val){this.setAttribute('min',val);}},{key:'max',set:function set(val){this.setAttribute('max',val);}}],[{key:'category',get:function get(){return"response item";}},{key:'tag',get:function get(){return'aa-affect-grid';}},{key:'properties',get:function get(){return{'top-label':{type:String,userDefined:true,value:''},'bottom-label':{type:String,userDefined:true,value:''},'left-label':{type:String,userDefined:true,value:''},'center-label':{type:String,userDefined:true,value:''},'right-label':{type:String,userDefined:true,value:''},'top-left-label':{type:String,userDefined:true,value:''},'top-right-label':{type:String,userDefined:true,value:''},'bottom-left-label':{type:String,userDefined:true,value:''},'bottom-right-label':{type:String,userDefined:true,value:''},'left-top-label':{type:String,userDefined:true,value:''},'left-bottom-label':{type:String,userDefined:true,value:''},'right-top-label':{type:String,userDefined:true,value:''},'right-bottom-label':{type:String,userDefined:true,value:''},rows:{type:Number,userDefined:true,value:11},columns:{type:Number,userDefined:true,value:11},value:{type:Array}};}},{key:'acceptsElements',get:function get(){return null;}},{key:'observedAttributes',get:function get(){return Object.keys(AAAffectGrid.properties);}}]);function AAAffectGrid(){_classCallCheck2(this,AAAffectGrid);var _this9=_possibleConstructorReturn2(this,(AAAffectGrid.__proto__||Object.getPrototypeOf(AAAffectGrid)).call(this));if(_this9.topLeftLabel===null)_this9.topLeftLabel='';if(_this9.topLabel===null)_this9.topLabel='';if(_this9.topRightLabel===null)_this9.topRightLabel='';if(_this9.leftTopLabel===null)_this9.leftTopLabel='';if(_this9.leftLabel===null)_this9.leftLabel='';if(_this9.leftBottomLabel===null)_this9.leftBottomLabel='';if(_this9.rightTopLabel===null)_this9.rightTopLabel='';if(_this9.rightLabel===null)_this9.rightLabel='';if(_this9.rightBottomLabel===null)_this9.rightBottomLabel='';if(_this9.bottomLeftLabel===null)_this9.bottomLeftLabel='';if(_this9.bottomLabel===null)_this9.bottomLabel='';if(_this9.bottomRightLabel===null)_this9.bottomRightLabel='';_this9.root=_this9.attachShadow({mode:'open'});return _this9;}_createClass2(AAAffectGrid,[{key:'connectedCallback',value:function connectedCallback(){var _this10=this;_get2(AAAffectGrid.prototype.__proto__||Object.getPrototypeOf(AAAffectGrid.prototype),'connectedCallback',this).call(this);this.root.innerHTML=this.css+this.html;this.grid=this.root.querySelector('.grid');this.grid.addEventListener("mousedown",function(e){var currentValue=_this10.value;var cell=e.path[0];_this10.value=[cell.dataset.x,cell.dataset.y];if(_this10.selectedCell){_this10.selectedCell.classList.remove('selected');}_this10.selectedCell=cell;_this10.selectedCell.classList.add('selected');var newValue=_this10.value;console.log(currentValue,newValue);if(!currentValue)_this10.dispatchEvent(new CustomEvent("change",{bubbles:true}));else{if(currentValue[0]!=newValue[0]||currentValue[1]!=newValue[1]){_this10.dispatchEvent(new CustomEvent("change",{bubbles:true}));}}});this.totalContainer=this.root.querySelector('.total-container');this.totalContainer.style.height=window.getComputedStyle(this.totalContainer).width;this.root.querySelector(".leftLabels").style.width=window.getComputedStyle(this.grid).height;this.root.querySelector(".rightLabels").style.width=window.getComputedStyle(this.grid).height;if(ResizeObserver){new ResizeObserver(function(){_this10.totalContainer.style.height=window.getComputedStyle(_this10.totalContainer).width;_this10.root.querySelector(".leftLabels").style.width=window.getComputedStyle(_this10.grid).height;_this10.root.querySelector(".rightLabels").style.width=window.getComputedStyle(_this10.grid).height;}).observe(this.root.querySelector('.top-label'));}}},{key:'css',get:function get(){return html(_templateObject4,this.columns,100/this.columns);}},{key:'html',get:function get(){var grid='';for(var j=0;j<this.rows;j++){for(var i=0;i<this.columns;i++){grid+=html(_templateObject5,j==0?'top':'',j==this.rows-1?'bottom':'',i==0?'left':'',i==this.columns-1?'right':'',i+1-Math.round(this.columns/2),Math.round(this.rows/2)-j-1);}}var source=html(_templateObject6,this.topLeftLabel,this.topLabel,this.topRightLabel,grid,this.bottomLeftLabel,this.bottomLabel,this.bottomRightLabel,this.leftBottomLabel,this.leftLabel,this.leftTopLabel,this.rightTopLabel,this.rightLabel,this.rightBottomLabel);return source;}}]);return AAAffectGrid;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-affect-grid',AAAffectGrid);},"./src/customElements/aa-baseElement/baseElement.js":function srcCustomElementsAaBaseElementBaseElementJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"AAClasses",function(){return AAClasses;});__webpack_require__.d(__webpack_exports__,"default",function(){return BaseElement;});var _lib_js_yaml_browserify_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/lib/js-yaml-browserify.js");var _lib_js_yaml_browserify_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_lib_js_yaml_browserify_js__WEBPACK_IMPORTED_MODULE_0__);var _lib_html2jsl_html2jsl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/html2jsl/html2jsl.js");var _lib_mySVG_mySVG_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/mySVG/mySVG.js");var html=function html(txt){var result=txt[0];for(var _len3=arguments.length,val=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){val[_key3-1]=arguments[_key3];}for(var i=0;i<val.length;i++){result+=val[i];result+=txt[i+1];}return result;};if(window)window.html=html;var AAClasses=[];window.AAClasses=AAClasses;var BaseElement=function(_HTMLElement){_inherits2(BaseElement,_HTMLElement);_createClass2(BaseElement,null,[{key:'registerAAElement',value:function registerAAElement(name,elem){if(!customElements.get(name)){window.AANodeNames=window.AANodeNames||[];window.AANodeNames.push(name.toUpperCase());customElements.define(name,elem);}AAClasses[name.toUpperCase()]=elem;}},{key:'isAAElement',value:function isAAElement(node){if(AANodeNames.indexOf(node.nodeName.toUpperCase())!=-1){return true;}return false;}},{key:'createFragmentForNode',value:function createFragmentForNode(node){var fragment=document.createDocumentFragment();for(var i=0;i<node.childNodes.length;i++){fragment.append(node.childNodes[i].cloneNode(true));}return fragment;}},{key:'createHolderForNode',value:function createHolderForNode(o){var node=o.cloneNode(false);node.innerFragment=BaseElement.createFragmentForNode(o);return node;}},{key:'scanAndReplace',value:function scanAndReplace(node){if(node.nodeName==="TEMPLATE"){BaseElement.scanAndReplace(node.content);}else if(BaseElement.isAAElement(node)){var holder=BaseElement.createHolderForNode(node);node.replaceWith(holder);}else for(var i=0;i<node.childNodes.length;i++){BaseElement.scanAndReplace(node.childNodes[i]);}}},{key:'properties',get:function get(){return{name:{type:String,userDefined:true},'diagram':{type:Boolean,value:false,userDefined:true},'diagram-transparent':{type:Boolean,value:false,userDefined:true}};}}]);function BaseElement(){_classCallCheck2(this,BaseElement);var _this11=_possibleConstructorReturn2(this,(BaseElement.__proto__||Object.getPrototypeOf(BaseElement)).call(this));_this11._props=_this11.makePropertiesFromAttributes();return _this11;}_createClass2(BaseElement,[{key:'connectedCallback',value:function connectedCallback(){this._attachedTimestamp=new Date().getTime();this._debug=this.debug===true||this.debug===null;if(this.innerFragment){for(var i=0;i<this.innerFragment.childNodes.length;i++){this.appendChild(BaseElement.copy(this.innerFragment.childNodes[i]));}}this.setAttributeDefaultValues();}},{key:'getMemory',value:function getMemory(){var el=this;while(el.parentNode!=null){if(el._mem)return el._mem;el=el.parentNode;}return null;}},{key:'makePropertiesFromAttributes',value:function makePropertiesFromAttributes(){var _this12=this;var ElementClass=customElements.get(this.tagName.toLowerCase());var attr=ElementClass.observedAttributes;if(!attr)return null;var props={};var _loop3=function _loop3(i){var prop=_this12.toCamelCase(attr[i]);props[prop]=attr[i];if(typeof _this12[prop]!='undefined'){return'continue';}else{Object.defineProperty(_this12,prop,{get:function get(){var result=_this12.getAttribute(attr[i]);if(result==='true'){return true;}else if(result==='false'){return false;}else{return result;}},set:function set(value){_this12.setAttribute(attr[i],value);}});}};for(var i=0;i<attr.length;i++){var _ret3=_loop3(i);if(_ret3==='continue')continue;}return props;}},{key:'toCamelCase',value:function toCamelCase(str){var words=str.split('-');var result=words[0];for(var i=1;i<words.length;i++){result+=words[i][0].toUpperCase()+words[i].substr(1);}return result;}},{key:'toHyphenated',value:function toHyphenated(str){var result='';for(var i=0;i<str.length;i++){var letter=str[i];if(letter.toLowerCase()!==letter){result+='-'+letter.toLowerCase();}else{result+=letter;}}return result;}},{key:'setAttributeDefaultValues',value:function setAttributeDefaultValues(){var p=this.constructor.properties;if(p){var keys=Object.keys(p);for(var i=0;i<keys.length;i++){var _prop=this.toCamelCase(keys[i]);if(typeof this[_prop]==='undefined'||this[_prop]===null||this[_prop]===''){if(p[keys[i]].type===Boolean){if(this.getAttribute(keys[i])===''){this.setAttribute(keys[i],true);}else if(this.getAttribute(keys[i])==='true'){this.setAttribute(keys[i],true);}else if(this.getAttribute(keys[i])==='false'){this.setAttribute(keys[i],false);}else if(this.getAttribute(keys[i])===null){this.setAttribute(keys[i],p[keys[i]].value);}}else{var _val2=this.getAttribute(keys[i])||p[keys[i]].value||null;if(_val2)this.setAttribute(keys[i],_val2);if(_val2===false)this.setAttribute(keys[i],_val2);}}}}}},{key:'getAttributes',value:function getAttributes(){var result={};var attributes=Object.keys(this.constructor.properties);for(var i=0;i<attributes.length;i++){if(!this.constructor.properties[attributes[i]].userDefined){continue;}if(typeof this.getAttribute(attributes[i])!=='undefined'&&this.getAttribute(attributes[i])!=='undefined'){if(this.constructor.properties[attributes[i]].value==this.getAttribute(attributes[i])){continue;}result[attributes[i]]=this.getAttribute(attributes[i]);}}return result;}},{key:'toJSON',value:function toJSON(){var result={};var tagName=this.tagName.toLowerCase();result[tagName]=this.getAttributes();if(this.childNodes.length){result[tagName].childNodes=[];this.childNodes.forEach(function(childNode){result[tagName].childNodes.push(BaseElement.nodeToJSON(childNode));});}return result;}},{key:'toYAML',value:function toYAML(){return jsyaml.dump(this.toJSON());}},{key:'toJSL',value:function toJSL(){return _lib_html2jsl_html2jsl_js__WEBPACK_IMPORTED_MODULE_1__["nodeToJSL"](this);}},{key:'produceDiagram',value:function produceDiagram(){if(!this.root){this.root=this.attachShadow({mode:'open'});}this.root.innerHTML='<div id="svgContainer" ></div>';var div=this.root.childNodes[0];var diagram=new _lib_mySVG_mySVG_js__WEBPACK_IMPORTED_MODULE_2__["mySVG"]();var svg=diagram.render(this);var button=document.createElement('paper-button');button.innerHTML="download";button.raised=true;button.style.backgroundColor="#0d47a1";button.style.color="white";button.classList.add('indigo');div.appendChild(svg);div.appendChild(button);var filename='';if(this.name){filename=this.name+"."+this.nodeName.toLowerCase()+".svg";}else{filename=this.nodeName.toLowerCase()+".svg";}button.addEventListener("click",function(){diagram.download(filename);});}},{key:'_dispatchDebugEvent',value:function _dispatchDebugEvent(detail){if(this.debug){this.dispatchEvent(new CustomEvent('debugEvent',{detail:detail,bubbles:true}));}}},{key:'_dispatchEndEvent',value:function _dispatchEndEvent(detail){this.dispatchEvent(new CustomEvent('endEvent',{bubbles:true,detail:detail}));}},{key:'_getParentSession',value:function _getParentSession(){var _sessionElement=this;while(_sessionElement!=null&&_sessionElement.nodeName!='AA-SESSION'){_sessionElement=_sessionElement.parentNode;}return _sessionElement;}}],[{key:'copy',value:function copy(node){var nodeCopy=void 0;if(BaseElement.isAAElement(node)){if(node.innerFragment){nodeCopy=node.cloneNode();nodeCopy.innerFragment=BaseElement.createFragmentForNode(node.innerFragment);}else{nodeCopy=node.cloneNode();nodeCopy.innerFragment=BaseElement.createFragmentForNode(node);}}else{nodeCopy=node.cloneNode(true);}return nodeCopy;}},{key:'nodeToJSON',value:function nodeToJSON(node){if(node.nodeType===document.TEXT_NODE||node.nodeType===document.COMMENT_NODE){var result={};var text=node.textContent.replace(/\n/g,' ').replace(/\t/g,' ').replace(/\s\s+/g,' ').trim();if(text!==''){result[node.nodeName]=text;return result;}else{return null;}}else if(node.toJSON){return node.toJSON();}else try{var _result2={};var attrs=node.getAttributeNames();var attrObj={};for(var i=0;i<attrs.length;i++){attrObj[attrs[i]]=node.getAttribute(attrs[i]);}var childNodes=[];for(var _i4=0;_i4<node.childNodes.length;_i4++){var el=BaseElement.nodeToJSON(node.childNodes[_i4]);if(el){childNodes.push(BaseElement.nodeToJSON(node.childNodes[_i4]));}}_result2[node.tagName]=attrObj;_result2[node.tagName].childNodes=childNodes;return _result2;}catch(e){console.error(e);}}},{key:'getDomPathAsName',value:function getDomPathAsName(el){var stack=[];while(el.nodeName!=="AA-SESSION"&&el.parentNode!=null){var sibCount=0;var sibIndex=0;for(var i=0;i<el.parentNode.childNodes.length;i++){var sib=el.parentNode.childNodes[i];if(sib.nodeName==el.nodeName){if(sib===el){sibIndex=sibCount;}sibCount++;}}if(!BaseElement.isAAElement(el)){el=el.parentNode;continue;}if(el.hasAttribute('name')&&el.name!=''){stack.unshift(el.name);}else if(el.hasAttribute('id')&&el.id!=''){stack.unshift(el.nodeName.toLowerCase()+'#'+el.id);}else if(sibCount>1){stack.unshift(el.nodeName.toLowerCase()+':eq('+sibIndex+')');}else{stack.unshift(el.nodeName.toLowerCase());}el=el.parentNode;}if(el.nodeName==="AA-SESSION"){if(el.hasAttribute('name')&&el.name!=''){stack.unshift(el.name);}else if(el.hasAttribute('id')&&el.id!=''){stack.unshift(el.nodeName.toLowerCase()+'#'+el.id);}else if(sibCount>1){stack.unshift(el.nodeName.toLowerCase()+':eq('+sibIndex+')');}else{stack.unshift(el.nodeName.toLowerCase());}}var name="";for(var _i5=0;_i5<stack.length-1;_i5++){name+=stack[_i5]+".";}name+=stack[stack.length-1];return name;}},{key:'getVariableName',value:function getVariableName(el){var name=el.getAttribute('name');if(name){return name;}else{return BaseElement.getDomPathAsName(el);}}}]);return BaseElement;}(HTMLElement);if(!customElements.get('aa-base-element')){window.AANodeNames=window.AANodeNames||[];window.AANodeNames.push('AA-BASE-ELEMENT');customElements.define('aa-base-element',BaseElement);}window.nodeToJSON=BaseElement.nodeToJSON;},"./src/customElements/aa-checkboxes/aa-checkboxes.js":function srcCustomElementsAaCheckboxesAaCheckboxesJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AACheckboxes;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var _aa_choice_item_aa_choice_item_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/customElements/aa-choice-item/aa-choice-item.js");var AACheckboxes=function(_aa_baseElement_baseE2){_inherits2(AACheckboxes,_aa_baseElement_baseE2);_createClass2(AACheckboxes,[{key:'value',get:function get(){var result=[];for(var i=0;i<this.children.length;i++){var node=this.children[i];if(node.tagName==='AA-CHOICE-ITEM'){if(node.checked){result.push(node.value);}else{result.push(null);}}}return result;},set:function set(val){if(!Array.isArray(val)){val=[va];}for(var i=0;i<this.children.length;i++){var node=this.children[i];if(node.tagName==='AA-CHOICE-ITEM'){if(val.includes(node.value)){node.checked=true;}else{node.checked=false;}}}}}],[{key:'category',get:function get(){return"response item";}},{key:'tag',get:function get(){return'aa-checkboxes';}},{key:'properties',get:function get(){return{horizontal:{type:Boolean,value:false,userDefined:true},vertical:{type:Boolean,value:true,userDefined:true},name:{type:String,userDefined:true},value:{type:String,userDefined:false}};}},{key:'acceptsElements',get:function get(){return['aa-choice-item'];}},{key:'observedAttributes',get:function get(){return['horizontal','vertical'];}}]);function AACheckboxes(){_classCallCheck2(this,AACheckboxes);var _this13=_possibleConstructorReturn2(this,(AACheckboxes.__proto__||Object.getPrototypeOf(AACheckboxes)).call(this));_this13.horizontal_wasChangedInternally__=false;_this13.vertical_wasChangedInternally__=false;return _this13;}_createClass2(AACheckboxes,[{key:'connectedCallback',value:function connectedCallback(){var _this14=this;_get2(AACheckboxes.prototype.__proto__||Object.getPrototypeOf(AACheckboxes.prototype),'connectedCallback',this).call(this);this.addEventListener("change",function(e){e.stopPropagation();_this14.parentElement.dispatchEvent(new CustomEvent("change",{bubbles:true,detail:{value:_this14.value}}));});}},{key:'toJSON',value:function toJSON(){var result=_get2(AACheckboxes.prototype.__proto__||Object.getPrototypeOf(AACheckboxes.prototype),'toJSON',this).call(this);var children=[];for(var i=0;i<this.children.length;i++){children.push(this.children[i].toJSON());}result[this.tagName.toLowerCase()].items=children;return result;}}]);return AACheckboxes;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-checkboxes',AACheckboxes);},"./src/customElements/aa-choice-item/aa-choice-item.js":function srcCustomElementsAaChoiceItemAaChoiceItemJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAChoiceItem;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AAChoiceItem=function(_aa_baseElement_baseE3){_inherits2(AAChoiceItem,_aa_baseElement_baseE3);_createClass2(AAChoiceItem,[{key:'orientation',set:function set(val){this._orientation=val;if(val=="vertical"){this.itemBlock.style.flexDirection="column";this.label.classList.add("label-vertical");this.label.classList.remove("label-horizontal");}else if(val=="horizontal"){this.itemBlock.style.flexDirection="row";this.label.classList.remove("label-vertical");this.label.classList.add("label-horizontal");}return;},get:function get(){return this._orientation;}},{key:'checked',get:function get(){if(this.item)return this.item.checked;},set:function set(val){if(this.item)this.item.checked=eval(val);}},{key:'value',get:function get(){var v=this.getAttribute('value');var val=v?v:this.innerHTML.trim();return val;},set:function set(val){this.setAttribute('value',val);}}],[{key:'tag',get:function get(){return'aa-choice-item';}},{key:'properties',get:function get(){return{value:{type:String,userDefined:true},checked:{type:Boolean,value:false}};}},{key:'observedAttributes',get:function get(){return['name'];}},{key:'acceptsElements',get:function get(){return["#text"];}}]);function AAChoiceItem(){_classCallCheck2(this,AAChoiceItem);var _this15=_possibleConstructorReturn2(this,(AAChoiceItem.__proto__||Object.getPrototypeOf(AAChoiceItem)).call(this));_this15.kind="radioButton";_this15.item=null;_this15.itemBlock=document.createElement('div');_this15.label=document.createElement('div');_this15._orientation="vertical";_this15.root=_this15.attachShadow({mode:'open'});_this15.root.innerHTML=_this15.css;return _this15;}_createClass2(AAChoiceItem,[{key:'connectedCallback',value:function connectedCallback(){var _this16=this;_get2(AAChoiceItem.prototype.__proto__||Object.getPrototypeOf(AAChoiceItem.prototype),'connectedCallback',this).call(this);this.slot=document.createElement('slot');this.label.innerHTML='<slot></slot>';if(this.parentElement.tagName==='AA-CHECKBOXES'){this.kind="checkBox";}if(this.parentElement.value===this.value){this.checked=true;}if(this.kind=="radioButton"){if(this.item){this.item.remove();}this.item=document.createElement('paper-radio-button');this.item.style.display="block";this.item.checked=this.checked;this.label.addEventListener("click",function(){_this16.item.checked=true;_this16.dispatchEvent(new CustomEvent("change",{bubbles:true}));});this.itemBlock.appendChild(this.item);this.itemBlock.appendChild(this.label);this.root.appendChild(this.itemBlock);this.item.shadowRoot.querySelector("#radioLabel").remove();}else{if(this.item){this.item.remove();}this.item=document.createElement('paper-checkbox');this.item.style.display="block";this.item.checked=this.checked;this.label.addEventListener("click",function(){_this16.item.checked=!_this16.item.checked;_this16.checked=_this16.item.checked;_this16.dispatchEvent(new CustomEvent("change",{bubbles:true}));});this.itemBlock.appendChild(this.item);this.itemBlock.appendChild(this.label);this.root.appendChild(this.itemBlock);}this.label.classList.add("label-horizontal");this.itemBlock.style.display="flex";this.itemBlock.style.alignItems="center";this.itemBlock.style.padding="10px";}},{key:'toJSON',value:function toJSON(){var result=_get2(AAChoiceItem.prototype.__proto__||Object.getPrototypeOf(AAChoiceItem.prototype),'toJSON',this).call(this);return result;}},{key:'css',get:function get(){return html(_templateObject7);}}]);return AAChoiceItem;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-choice-item',AAChoiceItem);},"./src/customElements/aa-choose/aa-choose.js":function srcCustomElementsAaChooseAaChooseJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAChoose;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var _aa_when_aa_when_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/customElements/aa-choose/aa-when/aa-when.js");var _aa_otherwise_aa_otherwise_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/customElements/aa-choose/aa-otherwise/aa-otherwise.js");var _lib_jsep_jsep_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/jsep/jsep.js");var AAChoose=function(_aa_baseElement_baseE4){_inherits2(AAChoose,_aa_baseElement_baseE4);_createClass2(AAChoose,null,[{key:'category',get:function get(){return"control";}},{key:'tag',get:function get(){return'aa-choose';}},{key:'properties',get:function get(){return _extends({},_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].properties,{name:{type:String,userDefined:true},"should-run":{type:Boolean,value:true,userDefined:false},"debug":{type:Boolean,value:false,userDefined:false}});}},{key:'acceptsElements',get:function get(){return["aa-when","aa-otherwise"];}},{key:'observedAttributes',get:function get(){return Object.keys(AAChoose.properties);}}]);function AAChoose(){_classCallCheck2(this,AAChoose);var _this17=_possibleConstructorReturn2(this,(AAChoose.__proto__||Object.getPrototypeOf(AAChoose)).call(this));_this17.root=_this17.attachShadow({mode:'open'});_this17.root.innerHTML='<slot></slot>';_this17.originalContent=_this17.innerHTML;return _this17;}_createClass2(AAChoose,[{key:'connectedCallback',value:function connectedCallback(){this.setAttributeDefaultValues();if(this.diagram){this.produceDiagram();return;}this._shouldRun=this.shouldRun===null||this.shouldRun===true;this.sessionElement=this._getParentSession();if(this._shouldRun){if(typeof this.innerFragment!=='undefined'){_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].scanAndReplace(this.innerFragment);var nodes=this._getNodeToInstantiate();if(nodes.length===0){this._dispatchEndEvent();}else{var doesAnyNodeExpectWait=false;for(var i=0;i<nodes.length;i++){var node=nodes[i];if(typeof node!=='undefined'){for(var j=0;j<node.childNodes.length;j++){if(node.childNodes[j].constructor)if(node.childNodes[j].constructor.properties)if(node.childNodes[j].constructor.properties['expect-wait']){doesAnyNodeExpectWait=true;}}this.parentNode.insertBefore(node,this.nextSibling);}}if(!doesAnyNodeExpectWait){this._dispatchEndEvent();}}}else{if(this.childNodes.length===0){this._dispatchEndEvent();}}}this.remove();}},{key:'_getNodeToInstantiate',value:function _getNodeToInstantiate(){var nodesToReturn=[];var nodeOtherwise=[];var isChildTrue=false;for(var i=0;i<this.innerFragment.children.length;i++){var _child=this.innerFragment.children[i];if(_child.nodeName==='AA-WHEN'){isChildTrue=this.evaluate(_child);if(isChildTrue){nodesToReturn.push(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].copy(_child).innerFragment);}}else if(_child.nodeName==='AA-OTHERWISE'){nodeOtherwise.push(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].copy(_child).innerFragment);}}if(nodesToReturn.length===0){return nodeOtherwise;}else{return nodesToReturn;}}},{key:'evaluate',value:function evaluate(element){var test=element.getAttribute('test');if(test==null||test=='')return null;return this.evaluateTestExpression(test);}},{key:'evaluateTestExpression',value:function evaluateTestExpression(test){console.log(test);var expr=this.replaceExpressionIdentifiersWithValues(test);try{var parseTree=Object(_lib_jsep_jsep_js__WEBPACK_IMPORTED_MODULE_3__["default"])(expr);if(parseTree.left.type==='Literal'&&parseTree.right.type==='Literal'){return eval(expr);}else{return eval(''+parseTree.left.value+parseTree.operator+parseTree.right.value);}}catch(e){console.error('parse error:',e);}}},{key:'replaceExpressionIdentifiersWithValues',value:function replaceExpressionIdentifiersWithValues(expression,memoryElement){var memory=this.getMemory()||memoryElement;var result=expression.toUpperCase();var originalIdentifiers=Object.keys(memory.getDataDump());var upperCaseIdentifiers=originalIdentifiers.map(function(s){return s.toUpperCase();});for(var i in originalIdentifiers){var value=memory.getData(originalIdentifiers[i]);var finalValue=parseInt(value);if(finalValue!=value){if(value==='null'){finalValue='null';}else if(value==='true'){finalValue='true';}else if(value==='false'){finalValue='false';}else finalValue='"'+value+'"';}var r=new RegExp(upperCaseIdentifiers[i],'g');result=result.replace(r,finalValue);}return result;}}]);return AAChoose;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-choose',AAChoose);},"./src/customElements/aa-choose/aa-otherwise/aa-otherwise.js":function srcCustomElementsAaChooseAaOtherwiseAaOtherwiseJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAOtherwise;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AAOtherwise=function(_aa_baseElement_baseE5){_inherits2(AAOtherwise,_aa_baseElement_baseE5);_createClass2(AAOtherwise,null,[{key:'category',get:function get(){return"control";}},{key:'tag',get:function get(){return'aa-otherwise';}},{key:'acceptsElements',get:function get(){return null;}}]);function AAOtherwise(){_classCallCheck2(this,AAOtherwise);return _possibleConstructorReturn2(this,(AAOtherwise.__proto__||Object.getPrototypeOf(AAOtherwise)).call(this));}_createClass2(AAOtherwise,[{key:'connectedCallback',value:function connectedCallback(){_get2(AAOtherwise.prototype.__proto__||Object.getPrototypeOf(AAOtherwise.prototype),'connectedCallback',this).call(this);}}]);return AAOtherwise;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-otherwise',AAOtherwise);},"./src/customElements/aa-choose/aa-when/aa-when.js":function srcCustomElementsAaChooseAaWhenAaWhenJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAWhen;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AAWhen=function(_aa_baseElement_baseE6){_inherits2(AAWhen,_aa_baseElement_baseE6);_createClass2(AAWhen,null,[{key:'category',get:function get(){return"control";}},{key:'tag',get:function get(){return'aa-when';}},{key:'properties',get:function get(){return{name:{type:String,userDefined:false},"should-run":{type:Boolean,value:true,userDefined:false},"debug":{type:Boolean,value:false,userDefined:false},"test":{type:String,userDefined:true}};}},{key:'acceptsElements',get:function get(){return null;}},{key:'observedAttributes',get:function get(){return Object.keys(AAWhen.properties);}}]);function AAWhen(){_classCallCheck2(this,AAWhen);var _this19=_possibleConstructorReturn2(this,(AAWhen.__proto__||Object.getPrototypeOf(AAWhen)).call(this));_this19.root=_this19.attachShadow({mode:'open'});_this19.root.innerHTML='<slot></slot>';return _this19;}_createClass2(AAWhen,[{key:'connectedCallback',value:function connectedCallback(){_get2(AAWhen.prototype.__proto__||Object.getPrototypeOf(AAWhen.prototype),'connectedCallback',this).call(this);}}]);return AAWhen;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-when',AAWhen);},"./src/customElements/aa-function/aa-function-random.js":function srcCustomElementsAaFunctionAaFunctionRandomJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAFunctionRandom;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AAFunctionRandom=function(_aa_baseElement_baseE7){_inherits2(AAFunctionRandom,_aa_baseElement_baseE7);_createClass2(AAFunctionRandom,null,[{key:'tag',get:function get(){return'aa-function-random';}},{key:'properties',get:function get(){return{name:{type:String,userDefined:true},"debug":{type:Boolean,value:false,userDefined:false},"value":{type:Number,userDefined:false},"min":{type:Number,userDefined:true},"max":{type:Number,userDefined:true}};}},{key:'acceptsElements',get:function get(){return null;}},{key:'observedAttributes',get:function get(){return Object.keys(AAFunctionRandom.properties);}}]);function AAFunctionRandom(){_classCallCheck2(this,AAFunctionRandom);return _possibleConstructorReturn2(this,(AAFunctionRandom.__proto__||Object.getPrototypeOf(AAFunctionRandom)).call(this));}_createClass2(AAFunctionRandom,[{key:'connectedCallback',value:function connectedCallback(){var memory=this.getMemory();if(memory)memory.setData(this.name,this.value);this._dispatchEndEvent({autoDispatch:true});if(!this.debug){this.remove();}}},{key:'getRandomInt',value:function getRandomInt(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min)+0.5)+min;}},{key:'value',get:function get(){var parsedMin=parseFloat(this.min);var parsedMax=parseFloat(this.max);var val=this.getRandomInt(parsedMin,parsedMax);var memory=this.getMemory();if(memory)memory.setData(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].getVariableName(this),val);return val;}}]);return AAFunctionRandom;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-function-random',AAFunctionRandom);},"./src/customElements/aa-label/aa-label.js":function srcCustomElementsAaLabelAaLabelJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AALabel;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AALabel=function(_aa_baseElement_baseE8){_inherits2(AALabel,_aa_baseElement_baseE8);_createClass2(AALabel,null,[{key:'tag',get:function get(){return'aa-label';}}]);function AALabel(){_classCallCheck2(this,AALabel);var _this21=_possibleConstructorReturn2(this,(AALabel.__proto__||Object.getPrototypeOf(AALabel)).call(this));_this21.root=_this21.attachShadow({mode:'open'});return _this21;}_createClass2(AALabel,[{key:'connectedCallback',value:function connectedCallback(){_get2(AALabel.prototype.__proto__||Object.getPrototypeOf(AALabel.prototype),'connectedCallback',this).call(this);this.root.innerHTML=this.css+this.html;}},{key:'css',get:function get(){return html(_templateObject8);}},{key:'html',get:function get(){return'<slot></slot>';}}]);return AALabel;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-label',AALabel);},"./src/customElements/aa-likert-scale/aa-likert-scale.js":function srcCustomElementsAaLikertScaleAaLikertScaleJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AALikertScale;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var _aa_multiple_choice_aa_multiple_choice_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/customElements/aa-multiple-choice/aa-multiple-choice.js");var AALikertScale=function(_aa_baseElement_baseE9){_inherits2(AALikertScale,_aa_baseElement_baseE9);_createClass2(AALikertScale,null,[{key:'category',get:function get(){return"response item";}},{key:'tag',get:function get(){return'aa-likert-scale';}},{key:'properties',get:function get(){return{name:{type:String,userDefined:true},"debug":{type:Boolean,value:false,userDefined:false},"value":{type:Number,userDefined:false},"items":{type:String,userDefined:true},"start-label":{type:String,userDefined:true,value:''},"middle-label":{type:String,userDefined:true,value:''},"end-label":{type:String,userDefined:true,value:''},"start-item":{type:Number,userDefined:true,value:1}};}},{key:'acceptsElements',get:function get(){return[];}},{key:'observedAttributes',get:function get(){return Object.keys(AALikertScale.properties);}}]);function AALikertScale(){_classCallCheck2(this,AALikertScale);var _this22=_possibleConstructorReturn2(this,(AALikertScale.__proto__||Object.getPrototypeOf(AALikertScale)).call(this));_this22.root=_this22.attachShadow({mode:'open'});return _this22;}_createClass2(AALikertScale,[{key:'connectedCallback',value:function connectedCallback(){var _this23=this;_get2(AALikertScale.prototype.__proto__||Object.getPrototypeOf(AALikertScale.prototype),'connectedCallback',this).call(this);this.root.innerHTML=this.html;this.mChoice=this.root.querySelector("aa-multiple-choice");this.choiceItems=this.mChoice.choiceItems;this.addEventListener("click",function(){if(!_this23.currentvalue){_this23.dispatchEvent(new CustomEvent("change"));}else{if(_this23.currentvalue!=_this23.value){_this23.dispatchEvent(new CustomEvent("change"));}_this23.currentvalue=_this23.value;}});}},{key:'getTags',value:function getTags(){var c='';var start='<div style="width:100px; white-space:nowrap">'+(this.getAttribute("start-label")||'')+'</div>';var middle='<div style="width:100px; white-space:nowrap">'+(this.getAttribute("middle-label")||'')+'</div>';var end='<div style="width:100px; white-space:nowrap">'+(this.getAttribute("end-label")||'')+'</div>';var placeholder='<div style="width:50px"></div>';var items=parseInt(this.items);for(var i=1;i<=items;i++){if(i==1){c+=start;}else if(i==Math.floor((items+1)/2)){c+=middle;}else if(i==items){c+=end;}else{c+=placeholder;}}var result='<div style="font-family: Roboto, Noto, sans-serif; width:100%; display:flex; justify-content:space-evenly; text-align:center">'+c+'</div>';return result;}},{key:'getValue',value:function getValue(){return this.mChoice.value;}},{key:'html',get:function get(){var items='';var startItem=parseFloat(this.startItem);if(!this.items||this.items==="undefined")this.items=5;for(var i=0;i<this.items;i++){items+='<aa-choice-item name="'+(i+startItem)+'">'+(i+startItem)+'</aa-choice-item>';}var result=html(_templateObject9,this.name,items,this.getTags());return result;}},{key:'value',get:function get(){if(this.mChoice){return parseInt(this.mChoice.value);}else{return parseInt(this.getAttribute('value'));}}}]);return AALikertScale;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-likert-scale',AALikertScale);},"./src/customElements/aa-memory/aa-memory.js":function srcCustomElementsAaMemoryAaMemoryJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAMemory;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AAMemory=function(_aa_baseElement_baseE10){_inherits2(AAMemory,_aa_baseElement_baseE10);_createClass2(AAMemory,[{key:'observedAttributes',get:function get(){return["name"];}}],[{key:'tag',get:function get(){return'aa-memory';}}]);function AAMemory(){_classCallCheck2(this,AAMemory);return _possibleConstructorReturn2(this,(AAMemory.__proto__||Object.getPrototypeOf(AAMemory)).call(this));}_createClass2(AAMemory,[{key:'connectedCallback',value:function connectedCallback(){}},{key:'setData',value:function setData(name,value){localStorage[name]=value;}},{key:'getData',value:function getData(name){return localStorage[name];}},{key:'getDataDump',value:function getDataDump(){return localStorage;}}]);return AAMemory;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-memory',AAMemory);},"./src/customElements/aa-multiple-choice/aa-multiple-choice.js":function srcCustomElementsAaMultipleChoiceAaMultipleChoiceJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAMultipleChoice;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var _aa_choice_item_aa_choice_item_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/customElements/aa-choice-item/aa-choice-item.js");var AAMultipleChoice=function(_aa_baseElement_baseE11){_inherits2(AAMultipleChoice,_aa_baseElement_baseE11);_createClass2(AAMultipleChoice,[{key:'attributeChangedCallback',value:function attributeChangedCallback(name,oldValue,newValue){console.log("attributeChanged :",name,newValue);switch(name){case"horizontal":if(newValue=="true"){this.style.display="flex";for(var i=0;i<this.children.length;i++){var node=this.children[i];if(node.tagName=='AA-CHOICE-ITEM'){node.orientation="vertical";}}}if(this.vertical_wasChangedInternally__){this.vertical_wasChangedInternally__=false;return;}this.vertical_wasChangedInternally__=true;if(newValue==="false"||!newValue){this.vertical=true;}else{this.vertical=false;}return;case"vertical":if(newValue=="true"){this.style.display="block";for(var _i6=0;_i6<this.children.length;_i6++){var _node=this.children[_i6];if(_node.tagName=='AA-CHOICE-ITEM'){_node.orientation="horizontal";}}}if(this.vertical_wasChangedInternally__){this.vertical_wasChangedInternally__=false;return;}this.horizontal_wasChangedInternally__=true;if(newValue==="false"||!newValue){this.horizontal=true;}else{this.horizontal=false;}return;}}},{key:'staticObject',get:function get(){return AAMultipleChoice;}},{key:'value',get:function get(){return this.getValueOfSelectedItem();},set:function set(val){for(var i=0;i<this.children.length;i++){var node=this.children[i];if(node.tagName==='AA-CHOICE-ITEM'){if(node.value!==val){node.checked=false;}else{node.checked=true;}}}}}],[{key:'category',get:function get(){return"response item";}},{key:'tag',get:function get(){return'aa-multiple-choice';}},{key:'properties',get:function get(){return{horizontal:{type:Boolean,value:false,userDefined:true},vertical:{type:Boolean,value:true,userDefined:true},name:{type:String,userDefined:true},value:{type:String,userDefined:true}};}},{key:'acceptsElements',get:function get(){return['aa-choice-item'];}},{key:'observedAttributes',get:function get(){return["horizontal","vertical"];}}]);function AAMultipleChoice(){_classCallCheck2(this,AAMultipleChoice);var _this25=_possibleConstructorReturn2(this,(AAMultipleChoice.__proto__||Object.getPrototypeOf(AAMultipleChoice)).call(this));_this25.horizontal_wasChangedInternally__=false;_this25.vertical_wasChangedInternally__=false;return _this25;}_createClass2(AAMultipleChoice,[{key:'updateState',value:function updateState(checkedNode){for(var i=0;i<this.children.length;i++){var node=this.children[i];if(node.tagName==='AA-CHOICE-ITEM'){if(node!==checkedNode){node.checked=false;}else{node.checked=true;}}}}},{key:'getValueOfSelectedItem',value:function getValueOfSelectedItem(){for(var i=0;i<this.children.length;i++){var node=this.children[i];if(node.tagName==='AA-CHOICE-ITEM'){if(node.checked){return node.value;}}}}},{key:'connectedCallback',value:function connectedCallback(){var _this26=this;_get2(AAMultipleChoice.prototype.__proto__||Object.getPrototypeOf(AAMultipleChoice.prototype),'connectedCallback',this).call(this);this.value=this.getAttribute("value");this.addEventListener("change",function(e){e.stopPropagation();_this26.updateState(e.target);_this26.parentElement.dispatchEvent(new CustomEvent("change",{bubbles:true,detail:{value:_this26.value}}));});}},{key:'toJSON',value:function toJSON(){var result=_get2(AAMultipleChoice.prototype.__proto__||Object.getPrototypeOf(AAMultipleChoice.prototype),'toJSON',this).call(this);if(result.horizontal){result.horizontal=true;}return result;}}]);return AAMultipleChoice;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-multiple-choice',AAMultipleChoice);},"./src/customElements/aa-screen/aa-screen.js":function srcCustomElementsAaScreenAaScreenJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAScreen;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AAScreen=function(_aa_baseElement_baseE12){_inherits2(AAScreen,_aa_baseElement_baseE12);_createClass2(AAScreen,[{key:'attributeChangedCallback',value:function attributeChangedCallback(name,oldValue,newValue){switch(name){case'submit-button-text':if(this.submitButton){this.submitButton.innerHTML=newValue;}break;case'submit-button-hidden':if(this.submitButtonContainer){if(newValue!==true||newValue!=='true'){this.submitButtonContainer.style.display='block';}else{this.submitButtonContainer.style.display='none';}}break;}}}],[{key:'category',get:function get(){return"UI";}},{key:'tag',get:function get(){return'aa-screen';}},{key:'properties',get:function get(){return _extends({},_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].properties,{"submit-button-text":{type:String,value:"submit",userDefined:true},"submit-button-hidden":{type:Boolean,value:false,userDefined:true},'expect-wait':{type:Boolean,userDefined:false,value:true},'autohide':{type:Boolean,userDefined:false,value:true}});}},{key:'acceptsElements',get:function get(){return[];}},{key:'observedAttributes',get:function get(){return Object.keys(AAScreen.properties);}}]);function AAScreen(){_classCallCheck2(this,AAScreen);var _this27=_possibleConstructorReturn2(this,(AAScreen.__proto__||Object.getPrototypeOf(AAScreen)).call(this));_this27.root=_this27.attachShadow({mode:'open'});return _this27;}_createClass2(AAScreen,[{key:'connectedCallback',value:function connectedCallback(){_get2(AAScreen.prototype.__proto__||Object.getPrototypeOf(AAScreen.prototype),'connectedCallback',this).call(this);if(this.diagram){this.produceDiagram();return;}this.root.innerHTML=this.css+this.html;this.submitButtonContainer=this.root.querySelector('.submitButtonContainer');if(this._started){return;}this._started=true;if(this.submitButtonHidden){if(this.submitButtonContainer){this.submitButtonContainer.style.display='none';}}this.root.querySelector('.submitButton').addEventListener('tap',this.submitButtonClick.bind(this));}},{key:'getSubmitButton',value:function getSubmitButton(){var buttonText=this.submitButtonText||'submit';if(customElements.get('paper-button')){return html(_templateObject10,buttonText);}else{return html(_templateObject11,buttonText);}}},{key:'submitButtonClick',value:function submitButtonClick(e){var _this28=this;var userMessage=this.querySelector('#userMessage');if(this.hasChildrenThatDemandResponse()){userMessage.innerHTML=html(_templateObject12);return;}this.collectValues().then(function(val){console.log("valueSubmit!, value",val);try{var valueSubmitEvent=new CustomEvent('valueSubmit',{bubbles:true,detail:{value:val}});_this28.dispatchEvent(valueSubmitEvent);_this28._dispatchEndEvent(val);if(typeof e.detail.callback!='undefined'){e.detail.callback(e);}if(_this28.autohide){_this28.hide();}}catch(e){console.error(e);}});}},{key:'collectValues',value:function collectValues(){var _this29=this;return new Promise(function(resolve,reject){var __meta={attachedTimestamp:_this29._attachedTimestamp,submitTimestamp:new Date().getTime()};_this29.getChildrenValues(_this29).then(function(result){result['__meta']=__meta;resolve(result);});});}},{key:'hasChildrenThatDemandResponse',value:function hasChildrenThatDemandResponse(){var aaChildren=this.getAAChildren(this);var isMissingValues=false;for(var i=0;i<aaChildren.length;i++){if(aaChildren[i].mandatory){if(child.value===null){isMissingValues=true;}}}return isMissingValues;}},{key:'getAAChildren',value:function getAAChildren(node,result,nodeName){result=result||[];node=node||this;for(var i=0;i<node.children.length;i++){if(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].isAAElement(node.children[i])){if(nodeName){if(node.children[i].nodeName===nodeName){result.push(node.children[i]);}}else{result.push(node.children[i]);}}else{this.getAAChildren(node.children[i],result,nodeName);}}return result;}},{key:'getChildrenValues',value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(node,result){var i,_c7,name;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:node=node||this;result=result||{};i=0;case 3:if(!(i<node.children.length)){_context.next=34;break;}_c7=node.children[i];console.log(_c7);if(!(_c7.nodeName!='AA-LABEL')){_context.next=29;break;}name=_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].getVariableName(_c7);console.log(_c7.tagName,"has name",name);console.log(_c7,name);if(!_c7.getValue){_context.next=16;break;}result[name]=_c7.getValue();console.log(result);debuggerl;_context.next=27;break;case 16:if(!_c7.value){_context.next=26;break;}if(!_c7.value.then){_context.next=23;break;}_context.next=20;return _c7.value;case 20:result[name]=_context.sent;_context.next=24;break;case 23:result[name]=_c7.value;case 24:_context.next=27;break;case 26:result[name]=null;case 27:_context.next=31;break;case 29:_context.next=31;return this.getChildrenValues(_c7,result);case 31:i++;_context.next=3;break;case 34:return _context.abrupt('return',result);case 35:case'end':return _context.stop();}}},_callee,this);}));function getChildrenValues(_x2,_x3){return _ref2.apply(this,arguments);}return getChildrenValues;}()},{key:'valueWithKey',value:function valueWithKey(){var _this30=this;return new Promise(function(resolve,reject){_this30.value.then(function(val){var result={};result[_this30.name]=val;resolve(result);});});}},{key:'automate',value:function automate(){for(var i=0;i<this.children.length;i++){if(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].isAAElement(this.children[i])){if(typeof this.children[i].automate!='undefined'){this.children[i].automate();}}}this.submitButtonClick();}},{key:'hide',value:function hide(){var aaChildren=this.getAAChildren(this,[]);for(var i=0;i<aaChildren.length;i++){if(aaChildren[i].stop){aaChildren[i].stop();}}this.style.display='none';}},{key:'show',value:function show(){this.style.display='block';}},{key:'css',get:function get(){return html(_templateObject13);}},{key:'html',get:function get(){return html(_templateObject14,this.getSubmitButton());}},{key:'value',get:function get(){return this.collectValues();}}]);return AAScreen;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-screen',AAScreen);},"./src/customElements/aa-sequence/aa-jump/aa-jump.js":function srcCustomElementsAaSequenceAaJumpAaJumpJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAJump;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AAJump=function(_aa_baseElement_baseE13){_inherits2(AAJump,_aa_baseElement_baseE13);function AAJump(){_classCallCheck2(this,AAJump);return _possibleConstructorReturn2(this,(AAJump.__proto__||Object.getPrototypeOf(AAJump)).apply(this,arguments));}_createClass2(AAJump,[{key:'connectedCallback',value:function connectedCallback(){this._dispatchEndEvent({goto:this.goto,autoDispatch:true});this.remove();}}],[{key:'category',get:function get(){return"control";}},{key:'tag',get:function get(){return'aa-jump';}},{key:'properties',get:function get(){return{name:{type:String,userDefined:true},"goto":{type:String,userDefined:true}};}},{key:'acceptsElements',get:function get(){return[];}},{key:'observedAttributes',get:function get(){return Object.keys(AAJump.properties);}}]);return AAJump;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-jump',AAJump);},"./src/customElements/aa-sequence/aa-sequence.js":function srcCustomElementsAaSequenceAaSequenceJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AASequence;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var _aa_jump_aa_jump_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/customElements/aa-sequence/aa-jump/aa-jump.js");var AASequence=function(_aa_baseElement_baseE14){_inherits2(AASequence,_aa_baseElement_baseE14);_createClass2(AASequence,null,[{key:'category',get:function get(){return"control";}},{key:'tag',get:function get(){return'aa-sequence';}},{key:'properties',get:function get(){return _extends({},_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].properties,{name:{type:String,userDefined:true},'write-into':{type:String,userDefined:true},'should-run':{type:Boolean,userDefined:true,value:true},'debug':{type:Boolean,value:false,userDefined:false},'type':{type:String,userDefined:false},'stopped':{type:Boolean,userDefined:false}});}},{key:'acceptsElements',get:function get(){return null;}},{key:'observedAttributes',get:function get(){return Object.keys(AASequence.properties);}}]);function AASequence(){_classCallCheck2(this,AASequence);return _possibleConstructorReturn2(this,(AASequence.__proto__||Object.getPrototypeOf(AASequence)).call(this));}_createClass2(AASequence,[{key:'connectedCallback',value:function connectedCallback(){this.setAttributeDefaultValues();if(this.diagram){this.produceDiagram();return;}this.addEventListener('endEvent',this.endEventListener.bind(this));if(this.shouldRun===null||this.shouldRun===true){this.init();}}},{key:'init',value:function init(){this.stopped=false;if(this.writeInto){this.target=document.querySelector(this.writeInto);}else{this.target=this;}if(typeof this.innerFragment==='undefined'){console.warn('.innerFragment is undefined');return;}this.sIndex=0;if(!this.stopped){this.start();}}},{key:'start',value:function start(){this.stopped=false;this.next();}},{key:'stop',value:function stop(){this.stopped=true;}},{key:'next',value:function next(name){var _this33=this;return new Promise(function(resolve,reject){console.log(_this33);if(_this33.stopped){return;}if(_this33.sIndex>=_this33.innerFragment.childNodes.length)return null;if(typeof name==='string'){for(var i=0;i<_this33.innerFragment.childNodes.length;i++){if(_this33.innerFragment.childNodes[i].getAttribute)if(_this33.innerFragment.childNodes[i].getAttribute('name')==name){_this33.sIndex=i;break;}}}var fragmentChild=_this33.innerFragment.childNodes[_this33.sIndex];while(fragmentChild.nodeType!=Node.ELEMENT_NODE){var _fragmentChildCopy=_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].copy(fragmentChild);_this33.target.appendChild(_fragmentChildCopy);_this33.currentNode=_fragmentChildCopy;_this33.sIndex++;if(_this33.sIndex>=_this33.innerFragment.childNodes.length){return;}fragmentChild=_this33.innerFragment.childNodes[_this33.sIndex];}var fragmentChildCopy=_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].copy(fragmentChild);_this33.currentNode=fragmentChildCopy;_this33.sIndex+=1;_this33.target.appendChild(fragmentChildCopy);setTimeout(function(){return resolve();});});}},{key:'endEventListener',value:function endEventListener(e){var _this34=this;e.stopPropagation();if(e.detail){if(e.detail.goto){this.next(e.detail.goto);}else if(e.detail.autoDispatch){this.next(true);}else{setTimeout(function(){return _this34.next(true);});}}else{setTimeout(function(){return _this34.next(true);});}}},{key:'css',get:function get(){return html(_templateObject15);}},{key:'html',get:function get(){return html(_templateObject16);}}]);return AASequence;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-sequence',AASequence);},"./src/customElements/aa-session/aa-session.js":function srcCustomElementsAaSessionAaSessionJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AASession;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var _aa_memory_aa_memory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/customElements/aa-memory/aa-memory.js");var _lib_html2jsl_html2jsl_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/html2jsl/html2jsl.js");var _aa_sequence_aa_sequence_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/customElements/aa-sequence/aa-sequence.js");var AASession=function(_aa_baseElement_baseE15){_inherits2(AASession,_aa_baseElement_baseE15);_createClass2(AASession,null,[{key:'tag',get:function get(){return'aa-session';}},{key:'properties',get:function get(){return _extends({},_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].properties,{'should-run':{type:Boolean,userDefined:true,value:true},'debug':{type:Boolean,value:false,userDefined:false}});}},{key:'acceptsElements',get:function get(){return null;}},{key:'observedAttributes',get:function get(){return Object.keys(AASession.properties);}}]);function AASession(){_classCallCheck2(this,AASession);var _this35=_possibleConstructorReturn2(this,(AASession.__proto__||Object.getPrototypeOf(AASession)).call(this));_this35.myTemplate=document.createElement('template');_this35.myTemplate.innerHTML=_this35.innerHTML;_this35.innerHTML='';_this35._mem=document.createElement('aa-memory');_this35.addEventListener('valueSubmit',function(e){console.log("valueSubmit!",e.detail);var input={data:e.detail.value,sessionID:_this35.sessionID,sessionTimestamp:_this35.sessionTime,sessionName:_this35.name,variables:Object.keys(e.detail.value)};Object.keys(e.detail.value).forEach(function(key){_this35._mem.setData(key,e.detail.value[key]);});var inputSubmitEvent=new CustomEvent('inputSubmit',{bubbles:true,detail:{input:input}});_this35.dispatchEvent(inputSubmitEvent);});_this35.addEventListener('endEvent',function(e){if(!_this35.debug)e.stopPropagation();var sessionEndEvent=new CustomEvent('sessionEndEvent',{bubbles:true,detail:'sessionEnd'});_this35.dispatchEvent(sessionEndEvent);});return _this35;}_createClass2(AASession,[{key:'myIdGenerator',value:function myIdGenerator(){return 0;}},{key:'connectedCallback',value:function connectedCallback(){var _this36=this;this.innerHTML='';this.setAttributeDefaultValues();if(this.diagram===true){this.produceDiagram();return;}this.sessionID=this.myIdGenerator();this.sessionTime=new Date().getTime();var sessionDatum=Object.keys(this.dataset);for(var i in sessionDatum){this.setData(sessionDatum[i],this.dataset[sessionDatum[i]]);}if(this.shouldRun===null||this.shouldRun===true){this.run();}setTimeout(function(){_this36.dispatchEvent(new CustomEvent("sessionReady",{bubbles:true}));},0);}},{key:'attachTemplateChildNodesToMyself',value:function attachTemplateChildNodesToMyself(templateClone){while(templateClone.content.childNodes.length){if(templateClone.content.childNodes[0].nodeName==="TEMPLATE"){while(templateClone.content.childNodes[0].content.childNodes.length){this.appendChild(templateClone.content.childNodes[0].content.childNodes[0]);}templateClone.content.childNodes[0].remove();}else{this.appendChild(templateClone.content.childNodes[0]);}}}},{key:'run',value:function run(){var myTemplateClone=this.myTemplate.cloneNode(true);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].scanAndReplace(myTemplateClone);this.attachTemplateChildNodesToMyself(myTemplateClone);}},{key:'getData',value:function getData(name){return this._mem.getData(name);}},{key:'setData',value:function setData(name,value){return this._mem.setData(name,value);}},{key:'getDataDump',value:function getDataDump(){return this._mem.getDataDump();}},{key:'toJSON',value:function toJSON(){var result={};result[this.tagName]=this.getAttributes();var childNodes=[];for(var i=0;i<this.originalChildNodes.length;i++){var _child2=this.originalChildNodes[i];var el=_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].nodeToJSON(_child2);if(el){childNodes.push(el);}}result[this.tagName].childNodes=[{"template":{childNodes:childNodes}}];return result;}},{key:'toJSL',value:function toJSL(){var attrNames=this.getAttributeNames();var attrObj={};for(var i=0;i<attrNames.length;i++){if(this.getAttribute(attrNames[i])!=='undefined'){attrObj[attrNames[i]]=this.getAttribute(attrNames[i]);}}var argsStrings=[];var childNodes=this.myTemplate.content.childNodes[0].content.childNodes;for(var _i7=0;_i7<childNodes.length;_i7++){var addition=_lib_html2jsl_html2jsl_js__WEBPACK_IMPORTED_MODULE_2__["nodeToJSL"](childNodes[_i7]);if(addition){argsStrings.push(_lib_html2jsl_html2jsl_js__WEBPACK_IMPORTED_MODULE_2__["nodeToJSL"](childNodes[_i7]));}}var templateString=_lib_html2jsl_html2jsl_js__WEBPACK_IMPORTED_MODULE_2__["formatJSLResult"]("TEMPLATE",{},argsStrings);var final=_lib_html2jsl_html2jsl_js__WEBPACK_IMPORTED_MODULE_2__["formatJSLResult"]("AA_SESSION",attrObj,[templateString]);return final;}},{key:'originalChildNodes',get:function get(){if(this.myTemplate.content.childNodes.length==0)return[];if(!this.myTemplate.content.childNodes[0].content)return this.childNodes;return this.myTemplate.content.childNodes[0].content.childNodes;}}]);return AASession;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-session',AASession);},"./src/customElements/aa-slider/aa-slider.js":function srcCustomElementsAaSliderAaSliderJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AASlider;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AASlider=function(_aa_baseElement_baseE16){_inherits2(AASlider,_aa_baseElement_baseE16);_createClass2(AASlider,[{key:'value',get:function get(){if(!this.inputItem){return this.getAttribute('value');}return this.inputItem.value;},set:function set(val){this.setAttribute('value',val);if(this.inputItem){this.inputItem.value=val;}}},{key:'minLabel',get:function get(){return this.getAttribute('min-label');},set:function set(val){this.setAttribute('min-label',val);if(this.inputItem){this.inputItem.minLabel=val;}}},{key:'maxLabel',get:function get(){return this.getAttribute('max-label');},set:function set(val){this.setAttribute('max-label',val);if(this.inputItem){this.inputItem.maxLabel=val;}}},{key:'min',set:function set(val){this.setAttribute('min',val);if(this.inputItem){this.inputItem.min=val;}}},{key:'max',set:function set(val){this.setAttribute('max',val);if(this.inputItem){this.inputItem.max=val;}}}],[{key:'category',get:function get(){return"response item";}},{key:'tag',get:function get(){return'aa-slider';}},{key:'properties',get:function get(){return{name:{type:String,userDefined:true},'min':{type:Number,userDefined:true},'max':{type:Number,userDefined:true},'min-label':{type:String,userDefined:true},'max-label':{type:String,userDefined:true},'value':{type:Number,userDefined:false}};}},{key:'acceptsElements',get:function get(){return null;}},{key:'observedAttributes',get:function get(){return Object.keys(AASlider.properties);}}]);function AASlider(){_classCallCheck2(this,AASlider);var _this37=_possibleConstructorReturn2(this,(AASlider.__proto__||Object.getPrototypeOf(AASlider)).call(this));_this37.root=_this37.attachShadow({mode:'open'});var innerHTML=_this37.css+('<div class=\'inputContainer\'>'+_this37.html+'</div>');_this37.root.innerHTML=innerHTML;var minLabel=_this37.minLabel;var maxLabel=_this37.maxLabel;var value=_this37.value||(_this37.min+_this37.max)/2;_this37.inputItem=_this37.root.querySelector('.inputItem');_this37.minLabelItem=_this37.root.querySelector('.minLabel');_this37.maxLabelItem=_this37.root.querySelector('.maxLabel');if(minLabel){_this37.minLabelItem.innerHTML=minLabel;}if(maxLabel){_this37.maxLabelItem.innerHTML=maxLabel;}if(value){_this37.inputItem.value=value;}_this37.inputItem.addEventListener('change',function(e){_this37.value=e.target.value;});return _this37;}_createClass2(AASlider,[{key:'connectedCallback',value:function connectedCallback(){_get2(AASlider.prototype.__proto__||Object.getPrototypeOf(AASlider.prototype),'connectedCallback',this).call(this);}},{key:'css',get:function get(){return'<style>\n        :host{\n            display:block;\n            overflow:hidden;        \n        }\n        </style>\n        ';}},{key:'html',get:function get(){var inputElement=customElements.get('paper-slider')?'<paper-slider style="width:100%" class=\'inputItem min='+this.min+' max='+this.max+'\'></paper-slider>':'<input style="width:100%" type="range" class="inputItem" min="'+this.min+'" max="'+this.max+'" value="'+(this.max+this.min)/2+'">';var source=html(_templateObject17,inputElement,this.minLabel||'',this.maxLabel||'');return source;}}]);return AASlider;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-slider',AASlider);},"./src/customElements/aa-text-answer/aa-text-answer.js":function srcCustomElementsAaTextAnswerAaTextAnswerJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AATextAnswer;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var AATextAnswer=function(_aa_baseElement_baseE17){_inherits2(AATextAnswer,_aa_baseElement_baseE17);_createClass2(AATextAnswer,[{key:'changeInputItem',value:function changeInputItem(type){var _this39=this;if(type==='long'){var value=this.value;var label=this.label;this.inputItem=customElements.get('paper-textarea')?document.createElement('paper-textarea'):document.createElement('textarea');this.inputItem.value=value;this.inputItem.label=label;this.inputItem.classList.add('inputItem');this.fixBugInPaperTextarea(this.inputItem);this.inputItem.addEventListener('change',function(e){_this39.value=e.target.value;});this.root.querySelector('.inputItem').replaceWith(this.inputItem);}else{var _value=this.value;var _label=this.label;this.inputItem=customElements.get('paper-input')?document.createElement('paper-input'):document.createElement('input');this.inputItem.value=_value;this.inputItem.label=_label;this.inputItem.classList.add('inputItem');this.inputItem.addEventListener('change',function(e){_this39.value=e.target.value;});this.root.querySelector('.inputItem').replaceWith(this.inputItem);}}},{key:'value',get:function get(){if(!this.inputItem){return this.getAttribute('value');}return this.inputItem.value;},set:function set(val){this.setAttribute('value',val);if(this.inputItem){this.inputItem.value=val;}var memory=this.getMemory();if(memory)memory.setData(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].getVariableName(this),val);}},{key:'label',get:function get(){return this.getAttribute('label');},set:function set(val){this.setAttribute('label',val);if(this.inputItem){this.inputItem.label=val;}}},{key:'long',set:function set(val){this.setAttribute('long',val);if(val){this.changeInputItem('long');}else{this.changeInputItem('short');}},get:function get(){return this.getAttribute('long');}}],[{key:'category',get:function get(){return"response item";}},{key:'tag',get:function get(){return'aa-text-answer';}},{key:'properties',get:function get(){return{name:{type:String,userDefined:true},'long':{type:Boolean,userDefined:true},label:{type:String,userDefined:true},'value':{type:String,userDefined:false},'type':{type:String,userDefined:true,value:"text",valuesAllowed:["date","datetime","datetime-local","email","number","password","tel","text","time"]}};}},{key:'acceptsElements',get:function get(){return null;}},{key:'observedAttributes',get:function get(){return Object.keys(AATextAnswer.properties);}}]);function AATextAnswer(){_classCallCheck2(this,AATextAnswer);var _this38=_possibleConstructorReturn2(this,(AATextAnswer.__proto__||Object.getPrototypeOf(AATextAnswer)).call(this));_this38.root=_this38.attachShadow({mode:'open'});var html=_this38.long||_this38.long===''?_this38.longHtml:_this38.html;_this38.root.innerHTML=_this38.css+('<div class=\'inputContainer\'>'+html+'</div>');var label=_this38.label;var value=_this38.value;_this38.inputItem=_this38.root.querySelector('.inputItem');if(label){_this38.inputItem.label=label;}if(value){_this38.inputItem.value=value;}_this38.fixBugInPaperTextarea(_this38.inputItem);_this38.inputItem.addEventListener('change',function(e){_this38.value=e.target.value;_this38.dispatchEvent(new CustomEvent("change"));});_this38.keyUpTimeout=null;_this38.inputItem.addEventListener('keyup',function(e){_this38.value=e.target.value;if(_this38.keyUpTimeout){clearTimeout(_this38.keyUpTimeout);}setTimeout(function(){_this38.dispatchEvent(new CustomEvent("change"));},1500);});return _this38;}_createClass2(AATextAnswer,[{key:'fixBugInPaperTextarea',value:function fixBugInPaperTextarea(inputItem){var _this40=this;setTimeout(function(){if(inputItem.tagName==='PAPER-TEXTAREA'){inputItem.root.childNodes[2].children[1].textarea.style.overflow='hidden';var width=window.getComputedStyle(_this40.root.querySelector('.inputContainer')).width;inputItem.root.childNodes[2].style.width=width;inputItem.addEventListener('focus',function(e){var width=window.getComputedStyle(_this40.root.querySelector('.inputContainer')).width;inputItem.root.childNodes[2].style.width=width;});window.addEventListener('resize',function(){inputItem.root.childNodes[2].style.width='';setTimeout(function(){var width=window.getComputedStyle(_this40.root.querySelector('.inputContainer')).width;inputItem.root.childNodes[2].style.width=width;},100);});}},0);}},{key:'connectedCallback',value:function connectedCallback(){_get2(AATextAnswer.prototype.__proto__||Object.getPrototypeOf(AATextAnswer.prototype),'connectedCallback',this).call(this);}},{key:'css',get:function get(){return'<style>\n        :host{\n            display:block;\n            overflow:hidden;        \n        }\n        paper-textarea textarea {\n           overflow:hidden;\n        }\n        </style>';}},{key:'html',get:function get(){var inputElement=customElements.get('paper-input')?'<paper-input type=\''+this.type+'\' class=\'inputItem\'></paper-input>':'<input type=\''+this.type+'\' class=\'inputItem\'>';return html(_templateObject18,inputElement);}},{key:'longHtml',get:function get(){var inputElement=customElements.get('paper-input')?'<paper-textarea class=\'inputItem\' style= "background: linear-gradient(180deg, rgba(0,0,0, 0.04) 25%, rgba(0,0,0,0) 75%);"></paper-input>':'<textarea class=\'inputItem\'></textarea';return html(_templateObject18,inputElement);}}]);return AATextAnswer;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-text-answer',AATextAnswer);},"./src/customElements/aa-variable/aa-variable.js":function srcCustomElementsAaVariableAaVariableJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return AAVariable;});var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var _lib_jsep_jsep_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/jsep/jsep.js");var AAVariable=function(_aa_baseElement_baseE18){_inherits2(AAVariable,_aa_baseElement_baseE18);_createClass2(AAVariable,null,[{key:'tag',get:function get(){return'aa-variable';}},{key:'properties',get:function get(){return{name:{type:String,userDefined:true},'value':{type:String,userDefined:true}};}},{key:'acceptsElements',get:function get(){return[];}},{key:'observedAttributes',get:function get(){return Object.keys(AAVariable.properties);}}]);function AAVariable(){_classCallCheck2(this,AAVariable);var _this41=_possibleConstructorReturn2(this,(AAVariable.__proto__||Object.getPrototypeOf(AAVariable)).call(this));_this41.root=_this41.attachShadow({mode:'open'});return _this41;}_createClass2(AAVariable,[{key:'connectedCallback',value:function connectedCallback(){var memory=this.getMemory();var value=this.value;if(memory)memory.setData(this.name,value);this._dispatchEndEvent({autoDispatch:true});if(!this.debug){this.remove();}}},{key:'evaluateValueExpression',value:function evaluateValueExpression(test){console.log(test);var expr=this.replaceExpressionIdentifiersWithValues(test);try{var parseTree=Object(_lib_jsep_jsep_js__WEBPACK_IMPORTED_MODULE_1__["default"])(expr);if(parseTree.type==="Identifier"){}else if(parseTree.type==="Literal"){}else if(parseTree.left.type==='Literal'&&parseTree.right.type==='Literal'){return eval(expr);}else{return eval(''+parseTree.left.value+parseTree.operator+parseTree.right.value);}}catch(e){console.error('parse error:',e);}}},{key:'replaceExpressionIdentifiersWithValues',value:function replaceExpressionIdentifiersWithValues(expression,memoryElement){var memory=this.getMemory()||memoryElement;var result=expression.toUpperCase();var originalIdentifiers=Object.keys(memory.getDataDump());var upperCaseIdentifiers=originalIdentifiers.map(function(s){return s.toUpperCase();});for(var i in originalIdentifiers){var value=memory.getData(originalIdentifiers[i]);var finalValue=parseInt(value);if(finalValue!=value){if(value==='null'){finalValue='null';}else if(value==='true'){finalValue='true';}else if(value==='false'){finalValue='false';}else finalValue='"'+value+'"';}var r=new RegExp(upperCaseIdentifiers[i],'g');result=result.replace(r,finalValue);}return result;}}]);return AAVariable;}(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"]);_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__["default"].registerAAElement('aa-variable',AAVariable);},"./src/index.js":function srcIndexJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"AAElements",function(){return AAElements;});var _lib_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/lib/regenerator-runtime/runtime.js");var _lib_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_lib_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__);var _customElements_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/customElements/aa-baseElement/baseElement.js");var _customElements_aa_affect_grid_aa_affect_grid_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/customElements/aa-affect-grid/aa-affect-grid.js");var _customElements_aa_checkboxes_aa_checkboxes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/customElements/aa-checkboxes/aa-checkboxes.js");var _customElements_aa_choose_aa_choose_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/customElements/aa-choose/aa-choose.js");var _customElements_aa_choice_item_aa_choice_item_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/customElements/aa-choice-item/aa-choice-item.js");var _customElements_aa_function_aa_function_random_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/customElements/aa-function/aa-function-random.js");var _customElements_aa_label_aa_label_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/customElements/aa-label/aa-label.js");var _customElements_aa_likert_scale_aa_likert_scale_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/customElements/aa-likert-scale/aa-likert-scale.js");var _customElements_aa_memory_aa_memory_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/customElements/aa-memory/aa-memory.js");var _customElements_aa_multiple_choice_aa_multiple_choice_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/customElements/aa-multiple-choice/aa-multiple-choice.js");var _customElements_aa_choose_aa_otherwise_aa_otherwise_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/customElements/aa-choose/aa-otherwise/aa-otherwise.js");var _customElements_aa_screen_aa_screen_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/customElements/aa-screen/aa-screen.js");var _customElements_aa_sequence_aa_sequence_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/customElements/aa-sequence/aa-sequence.js");var _customElements_aa_slider_aa_slider_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/customElements/aa-slider/aa-slider.js");var _customElements_aa_text_answer_aa_text_answer_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/customElements/aa-text-answer/aa-text-answer.js");var _customElements_aa_variable_aa_variable_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/customElements/aa-variable/aa-variable.js");var _customElements_aa_choose_aa_when_aa_when_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/customElements/aa-choose/aa-when/aa-when.js");__webpack_require__.d(__webpack_exports__,"AAClasses",function(){return _customElements_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_1__["AAClasses"];});var _customElements_aa_session_aa_session_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/customElements/aa-session/aa-session.js");var _componentEditors_generic_editor_generic_editor_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/componentEditors/generic-editor/generic-editor.js");var AAElements={BaseElement:_customElements_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_1__["default"],AAAffectGrid:_customElements_aa_affect_grid_aa_affect_grid_js__WEBPACK_IMPORTED_MODULE_2__["default"],AACheckboxes:_customElements_aa_checkboxes_aa_checkboxes_js__WEBPACK_IMPORTED_MODULE_3__["default"],AAChoose:_customElements_aa_choose_aa_choose_js__WEBPACK_IMPORTED_MODULE_4__["default"],AAChoiceItem:_customElements_aa_choice_item_aa_choice_item_js__WEBPACK_IMPORTED_MODULE_5__["default"],AAFunctionRandom:_customElements_aa_function_aa_function_random_js__WEBPACK_IMPORTED_MODULE_6__["default"],AALabel:_customElements_aa_label_aa_label_js__WEBPACK_IMPORTED_MODULE_7__["default"],AALikertScale:_customElements_aa_likert_scale_aa_likert_scale_js__WEBPACK_IMPORTED_MODULE_8__["default"],AAMemory:_customElements_aa_memory_aa_memory_js__WEBPACK_IMPORTED_MODULE_9__["default"],AAMultipleChoice:_customElements_aa_multiple_choice_aa_multiple_choice_js__WEBPACK_IMPORTED_MODULE_10__["default"],AAOtherwise:_customElements_aa_choose_aa_otherwise_aa_otherwise_js__WEBPACK_IMPORTED_MODULE_11__["default"],AAScreen:_customElements_aa_screen_aa_screen_js__WEBPACK_IMPORTED_MODULE_12__["default"],AASession:_customElements_aa_session_aa_session_js__WEBPACK_IMPORTED_MODULE_18__["default"],AASequence:_customElements_aa_sequence_aa_sequence_js__WEBPACK_IMPORTED_MODULE_13__["default"],AASlider:_customElements_aa_slider_aa_slider_js__WEBPACK_IMPORTED_MODULE_14__["default"],AATextAnswer:_customElements_aa_text_answer_aa_text_answer_js__WEBPACK_IMPORTED_MODULE_15__["default"],AAVariable:_customElements_aa_variable_aa_variable_js__WEBPACK_IMPORTED_MODULE_16__["default"],AAWhen:_customElements_aa_choose_aa_when_aa_when_js__WEBPACK_IMPORTED_MODULE_17__["default"],GenericEditor:_componentEditors_generic_editor_generic_editor_js__WEBPACK_IMPORTED_MODULE_19__["default"]};},"./src/lib/html2jsl/html2jsl.js":function srcLibHtml2jslHtml2jslJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"nodeToJSL",function(){return nodeToJSL;});__webpack_require__.d(__webpack_exports__,"formatJSLResult",function(){return formatJSLResult;});function nodeToJSL(node){if(node.nodeType===document.TEXT_NODE||node.nodeType===document.COMMENT_NODE){var result=node.textContent.replace(/\n/g,' ').replace(/\t/g,' ').replace(/\s\s+/g,' ').trim();if(result===''){return undefined;}else{return'"'+result+'"';}}else{var attrNames=node.getAttributeNames();var attrObj={};for(var i=0;i<attrNames.length;i++){if(node.getAttribute(attrNames[i])!=='undefined'){attrObj[attrNames[i]]=node.getAttribute(attrNames[i]);}}var argsStrings=[];for(var _i8=0;_i8<node.childNodes.length;_i8++){var addition=nodeToJSL(node.childNodes[_i8]);if(addition){argsStrings.push(nodeToJSL(node.childNodes[_i8]));}}var tagName=node.tagName.replace(/\-/g,'_');return formatJSLResult(tagName,attrObj,argsStrings);}}function tab(s){var result=s.replace(/\n/g,'\n\t');if(result[0]!=='\n'){result='\t'+result;}return result;}function getAttrsAsString(attrObj){var keys=Object.keys(attrObj);if(keys.length>3){return JSON.stringify(attrObj,null,2);}else{return JSON.stringify(attrObj);}}function getArgsString(argsStrings){var result='';for(var i=0;i<argsStrings.length;i++){result+=''+argsStrings[i];if(i!==argsStrings.length-1){result+=',\n';}}return result;}function formatJSLResult(tagName,attrObj,argsStrings){var attrs=getAttrsAsString(attrObj);var args=getArgsString(argsStrings);var isArgsMultiline=/\n/.test(args);var attrParam=void 0;var newLineForAttrs=false;var attrsExist=attrs!=='{}';if(attrsExist){if(attrs.indexOf('\n')!=-1){newLineForAttrs=true;}else{if(attrs.length>50){newLineForAttrs=true;}}if(newLineForAttrs){attrParam='\n'+tab(attrs)+(argsStrings.length?',':'');}else{attrParam=''+attrs+(argsStrings.length?',':'');}}else{attrParam='';}var result=tagName+'( '+attrParam+(isArgsMultiline?'\n'+tab(args)+'\n':''+(attrsExist?' ':'')+args)+' )';return result;}},"./src/lib/js-yaml-browserify.js":function srcLibJsYamlBrowserifyJs(module,exports,__webpack_require__){var require;var require;(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return require(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a;}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r);},p,p.exports,r,e,n,t);}return n[i].exports;}for(var u="function"==typeof require&&require,i=0;i<t.length;i++){o(t[i]);}return o;}return r;})()({1:[function(require,module,exports){'use strict';var yaml=require('./lib/js-yaml.js');module.exports=yaml;},{"./lib/js-yaml.js":2}],2:[function(require,module,exports){'use strict';var loader=require('./js-yaml/loader');var dumper=require('./js-yaml/dumper');function deprecated(name){return function(){throw new Error('Function '+name+' is deprecated and cannot be used.');};}module.exports.Type=require('./js-yaml/type');module.exports.Schema=require('./js-yaml/schema');module.exports.FAILSAFE_SCHEMA=require('./js-yaml/schema/failsafe');module.exports.JSON_SCHEMA=require('./js-yaml/schema/json');module.exports.CORE_SCHEMA=require('./js-yaml/schema/core');module.exports.DEFAULT_SAFE_SCHEMA=require('./js-yaml/schema/default_safe');module.exports.DEFAULT_FULL_SCHEMA=require('./js-yaml/schema/default_full');module.exports.load=loader.load;module.exports.loadAll=loader.loadAll;module.exports.safeLoad=loader.safeLoad;module.exports.safeLoadAll=loader.safeLoadAll;module.exports.dump=dumper.dump;module.exports.safeDump=dumper.safeDump;module.exports.YAMLException=require('./js-yaml/exception');module.exports.MINIMAL_SCHEMA=require('./js-yaml/schema/failsafe');module.exports.SAFE_SCHEMA=require('./js-yaml/schema/default_safe');module.exports.DEFAULT_SCHEMA=require('./js-yaml/schema/default_full');module.exports.scan=deprecated('scan');module.exports.parse=deprecated('parse');module.exports.compose=deprecated('compose');module.exports.addConstructor=deprecated('addConstructor');},{"./js-yaml/dumper":4,"./js-yaml/exception":5,"./js-yaml/loader":6,"./js-yaml/schema":8,"./js-yaml/schema/core":9,"./js-yaml/schema/default_full":10,"./js-yaml/schema/default_safe":11,"./js-yaml/schema/failsafe":12,"./js-yaml/schema/json":13,"./js-yaml/type":14}],3:[function(require,module,exports){'use strict';function isNothing(subject){return typeof subject==='undefined'||subject===null;}function isObject(subject){return(typeof subject==='undefined'?'undefined':_typeof3(subject))==='object'&&subject!==null;}function toArray(sequence){if(Array.isArray(sequence))return sequence;else if(isNothing(sequence))return[];return[sequence];}function extend(target,source){var index,length,key,sourceKeys;if(source){sourceKeys=Object.keys(source);for(index=0,length=sourceKeys.length;index<length;index+=1){key=sourceKeys[index];target[key]=source[key];}}return target;}function repeat(string,count){var result='',cycle;for(cycle=0;cycle<count;cycle+=1){result+=string;}return result;}function isNegativeZero(number){return number===0&&Number.NEGATIVE_INFINITY===1/number;}module.exports.isNothing=isNothing;module.exports.isObject=isObject;module.exports.toArray=toArray;module.exports.repeat=repeat;module.exports.isNegativeZero=isNegativeZero;module.exports.extend=extend;},{}],4:[function(require,module,exports){'use strict';var common=require('./common');var YAMLException=require('./exception');var DEFAULT_FULL_SCHEMA=require('./schema/default_full');var DEFAULT_SAFE_SCHEMA=require('./schema/default_safe');var _toString=Object.prototype.toString;var _hasOwnProperty=Object.prototype.hasOwnProperty;var CHAR_TAB=0x09;var CHAR_LINE_FEED=0x0A;var CHAR_CARRIAGE_RETURN=0x0D;var CHAR_SPACE=0x20;var CHAR_EXCLAMATION=0x21;var CHAR_DOUBLE_QUOTE=0x22;var CHAR_SHARP=0x23;var CHAR_PERCENT=0x25;var CHAR_AMPERSAND=0x26;var CHAR_SINGLE_QUOTE=0x27;var CHAR_ASTERISK=0x2A;var CHAR_COMMA=0x2C;var CHAR_MINUS=0x2D;var CHAR_COLON=0x3A;var CHAR_EQUALS=0x3D;var CHAR_GREATER_THAN=0x3E;var CHAR_QUESTION=0x3F;var CHAR_COMMERCIAL_AT=0x40;var CHAR_LEFT_SQUARE_BRACKET=0x5B;var CHAR_RIGHT_SQUARE_BRACKET=0x5D;var CHAR_GRAVE_ACCENT=0x60;var CHAR_LEFT_CURLY_BRACKET=0x7B;var CHAR_VERTICAL_LINE=0x7C;var CHAR_RIGHT_CURLY_BRACKET=0x7D;var ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0x00]='\\0';ESCAPE_SEQUENCES[0x07]='\\a';ESCAPE_SEQUENCES[0x08]='\\b';ESCAPE_SEQUENCES[0x09]='\\t';ESCAPE_SEQUENCES[0x0A]='\\n';ESCAPE_SEQUENCES[0x0B]='\\v';ESCAPE_SEQUENCES[0x0C]='\\f';ESCAPE_SEQUENCES[0x0D]='\\r';ESCAPE_SEQUENCES[0x1B]='\\e';ESCAPE_SEQUENCES[0x22]='\\"';ESCAPE_SEQUENCES[0x5C]='\\\\';ESCAPE_SEQUENCES[0x85]='\\N';ESCAPE_SEQUENCES[0xA0]='\\_';ESCAPE_SEQUENCES[0x2028]='\\L';ESCAPE_SEQUENCES[0x2029]='\\P';var DEPRECATED_BOOLEANS_SYNTAX=['y','Y','yes','Yes','YES','on','On','ON','n','N','no','No','NO','off','Off','OFF'];function compileStyleMap(schema,map){var result,keys,index,length,tag,style,type;if(map===null)return{};result={};keys=Object.keys(map);for(index=0,length=keys.length;index<length;index+=1){tag=keys[index];style=String(map[tag]);if(tag.slice(0,2)==='!!'){tag='tag:yaml.org,2002:'+tag.slice(2);}type=schema.compiledTypeMap['fallback'][tag];if(type&&_hasOwnProperty.call(type.styleAliases,style)){style=type.styleAliases[style];}result[tag]=style;}return result;}function encodeHex(character){var string,handle,length;string=character.toString(16).toUpperCase();if(character<=0xFF){handle='x';length=2;}else if(character<=0xFFFF){handle='u';length=4;}else if(character<=0xFFFFFFFF){handle='U';length=8;}else{throw new YAMLException('code point within a string may not be greater than 0xFFFFFFFF');}return'\\'+handle+common.repeat('0',length-string.length)+string;}function State(options){this.schema=options['schema']||DEFAULT_FULL_SCHEMA;this.indent=Math.max(1,options['indent']||2);this.noArrayIndent=options['noArrayIndent']||false;this.skipInvalid=options['skipInvalid']||false;this.flowLevel=common.isNothing(options['flowLevel'])?-1:options['flowLevel'];this.styleMap=compileStyleMap(this.schema,options['styles']||null);this.sortKeys=options['sortKeys']||false;this.lineWidth=options['lineWidth']||80;this.noRefs=options['noRefs']||false;this.noCompatMode=options['noCompatMode']||false;this.condenseFlow=options['condenseFlow']||false;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result='';this.duplicates=[];this.usedDuplicates=null;}function indentString(string,spaces){var ind=common.repeat(' ',spaces),position=0,next=-1,result='',line,length=string.length;while(position<length){next=string.indexOf('\n',position);if(next===-1){line=string.slice(position);position=length;}else{line=string.slice(position,next+1);position=next+1;}if(line.length&&line!=='\n')result+=ind;result+=line;}return result;}function generateNextLine(state,level){return'\n'+common.repeat(' ',state.indent*level);}function testImplicitResolving(state,str){var index,length,type;for(index=0,length=state.implicitTypes.length;index<length;index+=1){type=state.implicitTypes[index];if(type.resolve(str)){return true;}}return false;}function isWhitespace(c){return c===CHAR_SPACE||c===CHAR_TAB;}function isPrintable(c){return 0x00020<=c&&c<=0x00007E||0x000A1<=c&&c<=0x00D7FF&&c!==0x2028&&c!==0x2029||0x0E000<=c&&c<=0x00FFFD&&c!==0xFEFF||0x10000<=c&&c<=0x10FFFF;}function isNsChar(c){return isPrintable(c)&&!isWhitespace(c)&&c!==0xFEFF&&c!==CHAR_CARRIAGE_RETURN&&c!==CHAR_LINE_FEED;}function isPlainSafe(c,prev){return isPrintable(c)&&c!==0xFEFF&&c!==CHAR_COMMA&&c!==CHAR_LEFT_SQUARE_BRACKET&&c!==CHAR_RIGHT_SQUARE_BRACKET&&c!==CHAR_LEFT_CURLY_BRACKET&&c!==CHAR_RIGHT_CURLY_BRACKET&&c!==CHAR_COLON&&(c!==CHAR_SHARP||prev&&isNsChar(prev));}function isPlainSafeFirst(c){return isPrintable(c)&&c!==0xFEFF&&!isWhitespace(c)&&c!==CHAR_MINUS&&c!==CHAR_QUESTION&&c!==CHAR_COLON&&c!==CHAR_COMMA&&c!==CHAR_LEFT_SQUARE_BRACKET&&c!==CHAR_RIGHT_SQUARE_BRACKET&&c!==CHAR_LEFT_CURLY_BRACKET&&c!==CHAR_RIGHT_CURLY_BRACKET&&c!==CHAR_SHARP&&c!==CHAR_AMPERSAND&&c!==CHAR_ASTERISK&&c!==CHAR_EXCLAMATION&&c!==CHAR_VERTICAL_LINE&&c!==CHAR_EQUALS&&c!==CHAR_GREATER_THAN&&c!==CHAR_SINGLE_QUOTE&&c!==CHAR_DOUBLE_QUOTE&&c!==CHAR_PERCENT&&c!==CHAR_COMMERCIAL_AT&&c!==CHAR_GRAVE_ACCENT;}function needIndentIndicator(string){var leadingSpaceRe=/^\n* /;return leadingSpaceRe.test(string);}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(string,singleLineOnly,indentPerLevel,lineWidth,testAmbiguousType){var i;var char,prev_char;var hasLineBreak=false;var hasFoldableLine=false;var shouldTrackWidth=lineWidth!==-1;var previousLineBreak=-1;var plain=isPlainSafeFirst(string.charCodeAt(0))&&!isWhitespace(string.charCodeAt(string.length-1));if(singleLineOnly){for(i=0;i<string.length;i++){char=string.charCodeAt(i);if(!isPrintable(char)){return STYLE_DOUBLE;}prev_char=i>0?string.charCodeAt(i-1):null;plain=plain&&isPlainSafe(char,prev_char);}}else{for(i=0;i<string.length;i++){char=string.charCodeAt(i);if(char===CHAR_LINE_FEED){hasLineBreak=true;if(shouldTrackWidth){hasFoldableLine=hasFoldableLine||i-previousLineBreak-1>lineWidth&&string[previousLineBreak+1]!==' ';previousLineBreak=i;}}else if(!isPrintable(char)){return STYLE_DOUBLE;}prev_char=i>0?string.charCodeAt(i-1):null;plain=plain&&isPlainSafe(char,prev_char);}hasFoldableLine=hasFoldableLine||shouldTrackWidth&&i-previousLineBreak-1>lineWidth&&string[previousLineBreak+1]!==' ';}if(!hasLineBreak&&!hasFoldableLine){return plain&&!testAmbiguousType(string)?STYLE_PLAIN:STYLE_SINGLE;}if(indentPerLevel>9&&needIndentIndicator(string)){return STYLE_DOUBLE;}return hasFoldableLine?STYLE_FOLDED:STYLE_LITERAL;}function writeScalar(state,string,level,iskey){state.dump=function(){if(string.length===0){return"''";}if(!state.noCompatMode&&DEPRECATED_BOOLEANS_SYNTAX.indexOf(string)!==-1){return"'"+string+"'";}var indent=state.indent*Math.max(1,level);var lineWidth=state.lineWidth===-1?-1:Math.max(Math.min(state.lineWidth,40),state.lineWidth-indent);var singleLineOnly=iskey||state.flowLevel>-1&&level>=state.flowLevel;function testAmbiguity(string){return testImplicitResolving(state,string);}switch(chooseScalarStyle(string,singleLineOnly,state.indent,lineWidth,testAmbiguity)){case STYLE_PLAIN:return string;case STYLE_SINGLE:return"'"+string.replace(/'/g,"''")+"'";case STYLE_LITERAL:return'|'+blockHeader(string,state.indent)+dropEndingNewline(indentString(string,indent));case STYLE_FOLDED:return'>'+blockHeader(string,state.indent)+dropEndingNewline(indentString(foldString(string,lineWidth),indent));case STYLE_DOUBLE:return'"'+escapeString(string,lineWidth)+'"';default:throw new YAMLException('impossible error: invalid scalar style');}}();}function blockHeader(string,indentPerLevel){var indentIndicator=needIndentIndicator(string)?String(indentPerLevel):'';var clip=string[string.length-1]==='\n';var keep=clip&&(string[string.length-2]==='\n'||string==='\n');var chomp=keep?'+':clip?'':'-';return indentIndicator+chomp+'\n';}function dropEndingNewline(string){return string[string.length-1]==='\n'?string.slice(0,-1):string;}function foldString(string,width){var lineRe=/(\n+)([^\n]*)/g;var result=function(){var nextLF=string.indexOf('\n');nextLF=nextLF!==-1?nextLF:string.length;lineRe.lastIndex=nextLF;return foldLine(string.slice(0,nextLF),width);}();var prevMoreIndented=string[0]==='\n'||string[0]===' ';var moreIndented;var match;while(match=lineRe.exec(string)){var prefix=match[1],line=match[2];moreIndented=line[0]===' ';result+=prefix+(!prevMoreIndented&&!moreIndented&&line!==''?'\n':'')+foldLine(line,width);prevMoreIndented=moreIndented;}return result;}function foldLine(line,width){if(line===''||line[0]===' ')return line;var breakRe=/ [^ ]/g;var match;var start=0,end,curr=0,next=0;var result='';while(match=breakRe.exec(line)){next=match.index;if(next-start>width){end=curr>start?curr:next;result+='\n'+line.slice(start,end);start=end+1;}curr=next;}result+='\n';if(line.length-start>width&&curr>start){result+=line.slice(start,curr)+'\n'+line.slice(curr+1);}else{result+=line.slice(start);}return result.slice(1);}function escapeString(string){var result='';var char,nextChar;var escapeSeq;for(var i=0;i<string.length;i++){char=string.charCodeAt(i);if(char>=0xD800&&char<=0xDBFF){nextChar=string.charCodeAt(i+1);if(nextChar>=0xDC00&&nextChar<=0xDFFF){result+=encodeHex((char-0xD800)*0x400+nextChar-0xDC00+0x10000);i++;continue;}}escapeSeq=ESCAPE_SEQUENCES[char];result+=!escapeSeq&&isPrintable(char)?string[i]:escapeSeq||encodeHex(char);}return result;}function writeFlowSequence(state,level,object){var _result='',_tag=state.tag,index,length;for(index=0,length=object.length;index<length;index+=1){if(writeNode(state,level,object[index],false,false)){if(index!==0)_result+=','+(!state.condenseFlow?' ':'');_result+=state.dump;}}state.tag=_tag;state.dump='['+_result+']';}function writeBlockSequence(state,level,object,compact){var _result='',_tag=state.tag,index,length;for(index=0,length=object.length;index<length;index+=1){if(writeNode(state,level+1,object[index],true,true)){if(!compact||index!==0){_result+=generateNextLine(state,level);}if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){_result+='-';}else{_result+='- ';}_result+=state.dump;}}state.tag=_tag;state.dump=_result||'[]';}function writeFlowMapping(state,level,object){var _result='',_tag=state.tag,objectKeyList=Object.keys(object),index,length,objectKey,objectValue,pairBuffer;for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer='';if(index!==0)pairBuffer+=', ';if(state.condenseFlow)pairBuffer+='"';objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level,objectKey,false,false)){continue;}if(state.dump.length>1024)pairBuffer+='? ';pairBuffer+=state.dump+(state.condenseFlow?'"':'')+':'+(state.condenseFlow?'':' ');if(!writeNode(state,level,objectValue,false,false)){continue;}pairBuffer+=state.dump;_result+=pairBuffer;}state.tag=_tag;state.dump='{'+_result+'}';}function writeBlockMapping(state,level,object,compact){var _result='',_tag=state.tag,objectKeyList=Object.keys(object),index,length,objectKey,objectValue,explicitPair,pairBuffer;if(state.sortKeys===true){objectKeyList.sort();}else if(typeof state.sortKeys==='function'){objectKeyList.sort(state.sortKeys);}else if(state.sortKeys){throw new YAMLException('sortKeys must be a boolean or a function');}for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer='';if(!compact||index!==0){pairBuffer+=generateNextLine(state,level);}objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level+1,objectKey,true,true,true)){continue;}explicitPair=state.tag!==null&&state.tag!=='?'||state.dump&&state.dump.length>1024;if(explicitPair){if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){pairBuffer+='?';}else{pairBuffer+='? ';}}pairBuffer+=state.dump;if(explicitPair){pairBuffer+=generateNextLine(state,level);}if(!writeNode(state,level+1,objectValue,true,explicitPair)){continue;}if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){pairBuffer+=':';}else{pairBuffer+=': ';}pairBuffer+=state.dump;_result+=pairBuffer;}state.tag=_tag;state.dump=_result||'{}';}function detectType(state,object,explicit){var _result,typeList,index,length,type,style;typeList=explicit?state.explicitTypes:state.implicitTypes;for(index=0,length=typeList.length;index<length;index+=1){type=typeList[index];if((type.instanceOf||type.predicate)&&(!type.instanceOf||(typeof object==='undefined'?'undefined':_typeof3(object))==='object'&&object instanceof type.instanceOf)&&(!type.predicate||type.predicate(object))){state.tag=explicit?type.tag:'?';if(type.represent){style=state.styleMap[type.tag]||type.defaultStyle;if(_toString.call(type.represent)==='[object Function]'){_result=type.represent(object,style);}else if(_hasOwnProperty.call(type.represent,style)){_result=type.represent[style](object,style);}else{throw new YAMLException('!<'+type.tag+'> tag resolver accepts not "'+style+'" style');}state.dump=_result;}return true;}}return false;}function writeNode(state,level,object,block,compact,iskey){state.tag=null;state.dump=object;if(!detectType(state,object,false)){detectType(state,object,true);}var type=_toString.call(state.dump);if(block){block=state.flowLevel<0||state.flowLevel>level;}var objectOrArray=type==='[object Object]'||type==='[object Array]',duplicateIndex,duplicate;if(objectOrArray){duplicateIndex=state.duplicates.indexOf(object);duplicate=duplicateIndex!==-1;}if(state.tag!==null&&state.tag!=='?'||duplicate||state.indent!==2&&level>0){compact=false;}if(duplicate&&state.usedDuplicates[duplicateIndex]){state.dump='*ref_'+duplicateIndex;}else{if(objectOrArray&&duplicate&&!state.usedDuplicates[duplicateIndex]){state.usedDuplicates[duplicateIndex]=true;}if(type==='[object Object]'){if(block&&Object.keys(state.dump).length!==0){writeBlockMapping(state,level,state.dump,compact);if(duplicate){state.dump='&ref_'+duplicateIndex+state.dump;}}else{writeFlowMapping(state,level,state.dump);if(duplicate){state.dump='&ref_'+duplicateIndex+' '+state.dump;}}}else if(type==='[object Array]'){var arrayLevel=state.noArrayIndent&&level>0?level-1:level;if(block&&state.dump.length!==0){writeBlockSequence(state,arrayLevel,state.dump,compact);if(duplicate){state.dump='&ref_'+duplicateIndex+state.dump;}}else{writeFlowSequence(state,arrayLevel,state.dump);if(duplicate){state.dump='&ref_'+duplicateIndex+' '+state.dump;}}}else if(type==='[object String]'){if(state.tag!=='?'){writeScalar(state,state.dump,level,iskey);}}else{if(state.skipInvalid)return false;throw new YAMLException('unacceptable kind of an object to dump '+type);}if(state.tag!==null&&state.tag!=='?'){state.dump='!<'+state.tag+'> '+state.dump;}}return true;}function getDuplicateReferences(object,state){var objects=[],duplicatesIndexes=[],index,length;inspectNode(object,objects,duplicatesIndexes);for(index=0,length=duplicatesIndexes.length;index<length;index+=1){state.duplicates.push(objects[duplicatesIndexes[index]]);}state.usedDuplicates=new Array(length);}function inspectNode(object,objects,duplicatesIndexes){var objectKeyList,index,length;if(object!==null&&(typeof object==='undefined'?'undefined':_typeof3(object))==='object'){index=objects.indexOf(object);if(index!==-1){if(duplicatesIndexes.indexOf(index)===-1){duplicatesIndexes.push(index);}}else{objects.push(object);if(Array.isArray(object)){for(index=0,length=object.length;index<length;index+=1){inspectNode(object[index],objects,duplicatesIndexes);}}else{objectKeyList=Object.keys(object);for(index=0,length=objectKeyList.length;index<length;index+=1){inspectNode(object[objectKeyList[index]],objects,duplicatesIndexes);}}}}}function dump(input,options){options=options||{};var state=new State(options);if(!state.noRefs)getDuplicateReferences(input,state);if(writeNode(state,0,input,true,true))return state.dump+'\n';return'';}function safeDump(input,options){return dump(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options));}module.exports.dump=dump;module.exports.safeDump=safeDump;},{"./common":3,"./exception":5,"./schema/default_full":10,"./schema/default_safe":11}],5:[function(require,module,exports){'use strict';function YAMLException(reason,mark){Error.call(this);this.name='YAMLException';this.reason=reason;this.mark=mark;this.message=(this.reason||'(unknown reason)')+(this.mark?' '+this.mark.toString():'');if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor);}else{this.stack=new Error().stack||'';}}YAMLException.prototype=Object.create(Error.prototype);YAMLException.prototype.constructor=YAMLException;YAMLException.prototype.toString=function toString(compact){var result=this.name+': ';result+=this.reason||'(unknown reason)';if(!compact&&this.mark){result+=' '+this.mark.toString();}return result;};module.exports=YAMLException;},{}],6:[function(require,module,exports){'use strict';var common=require('./common');var YAMLException=require('./exception');var Mark=require('./mark');var DEFAULT_SAFE_SCHEMA=require('./schema/default_safe');var DEFAULT_FULL_SCHEMA=require('./schema/default_full');var _hasOwnProperty=Object.prototype.hasOwnProperty;var CONTEXT_FLOW_IN=1;var CONTEXT_FLOW_OUT=2;var CONTEXT_BLOCK_IN=3;var CONTEXT_BLOCK_OUT=4;var CHOMPING_CLIP=1;var CHOMPING_STRIP=2;var CHOMPING_KEEP=3;var PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/;var PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/;var PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i;var PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(obj){return Object.prototype.toString.call(obj);}function is_EOL(c){return c===0x0A||c===0x0D;}function is_WHITE_SPACE(c){return c===0x09||c===0x20;}function is_WS_OR_EOL(c){return c===0x09||c===0x20||c===0x0A||c===0x0D;}function is_FLOW_INDICATOR(c){return c===0x2C||c===0x5B||c===0x5D||c===0x7B||c===0x7D;}function fromHexCode(c){var lc;if(0x30<=c&&c<=0x39){return c-0x30;}lc=c|0x20;if(0x61<=lc&&lc<=0x66){return lc-0x61+10;}return-1;}function escapedHexLen(c){if(c===0x78){return 2;}if(c===0x75){return 4;}if(c===0x55){return 8;}return 0;}function fromDecimalCode(c){if(0x30<=c&&c<=0x39){return c-0x30;}return-1;}function simpleEscapeSequence(c){return c===0x30?'\x00':c===0x61?'\x07':c===0x62?'\x08':c===0x74?'\x09':c===0x09?'\x09':c===0x6E?'\x0A':c===0x76?'\x0B':c===0x66?'\x0C':c===0x72?'\x0D':c===0x65?'\x1B':c===0x20?' ':c===0x22?'\x22':c===0x2F?'/':c===0x5C?'\x5C':c===0x4E?'\x85':c===0x5F?'\xA0':c===0x4C?'\u2028':c===0x50?'\u2029':'';}function charFromCodepoint(c){if(c<=0xFFFF){return String.fromCharCode(c);}return String.fromCharCode((c-0x010000>>10)+0xD800,(c-0x010000&0x03FF)+0xDC00);}var simpleEscapeCheck=new Array(256);var simpleEscapeMap=new Array(256);for(var i=0;i<256;i++){simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0;simpleEscapeMap[i]=simpleEscapeSequence(i);}function State(input,options){this.input=input;this.filename=options['filename']||null;this.schema=options['schema']||DEFAULT_FULL_SCHEMA;this.onWarning=options['onWarning']||null;this.legacy=options['legacy']||false;this.json=options['json']||false;this.listener=options['listener']||null;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=input.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.documents=[];}function generateError(state,message){return new YAMLException(message,new Mark(state.filename,state.input,state.position,state.line,state.position-state.lineStart));}function throwError(state,message){throw generateError(state,message);}function throwWarning(state,message){if(state.onWarning){state.onWarning.call(null,generateError(state,message));}}var directiveHandlers={YAML:function handleYamlDirective(state,name,args){var match,major,minor;if(state.version!==null){throwError(state,'duplication of %YAML directive');}if(args.length!==1){throwError(state,'YAML directive accepts exactly one argument');}match=/^([0-9]+)\.([0-9]+)$/.exec(args[0]);if(match===null){throwError(state,'ill-formed argument of the YAML directive');}major=parseInt(match[1],10);minor=parseInt(match[2],10);if(major!==1){throwError(state,'unacceptable YAML version of the document');}state.version=args[0];state.checkLineBreaks=minor<2;if(minor!==1&&minor!==2){throwWarning(state,'unsupported YAML version of the document');}},TAG:function handleTagDirective(state,name,args){var handle,prefix;if(args.length!==2){throwError(state,'TAG directive accepts exactly two arguments');}handle=args[0];prefix=args[1];if(!PATTERN_TAG_HANDLE.test(handle)){throwError(state,'ill-formed tag handle (first argument) of the TAG directive');}if(_hasOwnProperty.call(state.tagMap,handle)){throwError(state,'there is a previously declared suffix for "'+handle+'" tag handle');}if(!PATTERN_TAG_URI.test(prefix)){throwError(state,'ill-formed tag prefix (second argument) of the TAG directive');}state.tagMap[handle]=prefix;}};function captureSegment(state,start,end,checkJson){var _position,_length,_character,_result;if(start<end){_result=state.input.slice(start,end);if(checkJson){for(_position=0,_length=_result.length;_position<_length;_position+=1){_character=_result.charCodeAt(_position);if(!(_character===0x09||0x20<=_character&&_character<=0x10FFFF)){throwError(state,'expected valid JSON character');}}}else if(PATTERN_NON_PRINTABLE.test(_result)){throwError(state,'the stream contains non-printable characters');}state.result+=_result;}}function mergeMappings(state,destination,source,overridableKeys){var sourceKeys,key,index,quantity;if(!common.isObject(source)){throwError(state,'cannot merge mappings; the provided source object is unacceptable');}sourceKeys=Object.keys(source);for(index=0,quantity=sourceKeys.length;index<quantity;index+=1){key=sourceKeys[index];if(!_hasOwnProperty.call(destination,key)){destination[key]=source[key];overridableKeys[key]=true;}}}function storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode,startLine,startPos){var index,quantity;if(Array.isArray(keyNode)){keyNode=Array.prototype.slice.call(keyNode);for(index=0,quantity=keyNode.length;index<quantity;index+=1){if(Array.isArray(keyNode[index])){throwError(state,'nested arrays are not supported inside keys');}if((typeof keyNode==='undefined'?'undefined':_typeof3(keyNode))==='object'&&_class(keyNode[index])==='[object Object]'){keyNode[index]='[object Object]';}}}if((typeof keyNode==='undefined'?'undefined':_typeof3(keyNode))==='object'&&_class(keyNode)==='[object Object]'){keyNode='[object Object]';}keyNode=String(keyNode);if(_result===null){_result={};}if(keyTag==='tag:yaml.org,2002:merge'){if(Array.isArray(valueNode)){for(index=0,quantity=valueNode.length;index<quantity;index+=1){mergeMappings(state,_result,valueNode[index],overridableKeys);}}else{mergeMappings(state,_result,valueNode,overridableKeys);}}else{if(!state.json&&!_hasOwnProperty.call(overridableKeys,keyNode)&&_hasOwnProperty.call(_result,keyNode)){state.line=startLine||state.line;state.position=startPos||state.position;throwError(state,'duplicated mapping key');}_result[keyNode]=valueNode;delete overridableKeys[keyNode];}return _result;}function readLineBreak(state){var ch;ch=state.input.charCodeAt(state.position);if(ch===0x0A){state.position++;}else if(ch===0x0D){state.position++;if(state.input.charCodeAt(state.position)===0x0A){state.position++;}}else{throwError(state,'a line break is expected');}state.line+=1;state.lineStart=state.position;}function skipSeparationSpace(state,allowComments,checkIndent){var lineBreaks=0,ch=state.input.charCodeAt(state.position);while(ch!==0){while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position);}if(allowComments&&ch===0x23){do{ch=state.input.charCodeAt(++state.position);}while(ch!==0x0A&&ch!==0x0D&&ch!==0);}if(is_EOL(ch)){readLineBreak(state);ch=state.input.charCodeAt(state.position);lineBreaks++;state.lineIndent=0;while(ch===0x20){state.lineIndent++;ch=state.input.charCodeAt(++state.position);}}else{break;}}if(checkIndent!==-1&&lineBreaks!==0&&state.lineIndent<checkIndent){throwWarning(state,'deficient indentation');}return lineBreaks;}function testDocumentSeparator(state){var _position=state.position,ch;ch=state.input.charCodeAt(_position);if((ch===0x2D||ch===0x2E)&&ch===state.input.charCodeAt(_position+1)&&ch===state.input.charCodeAt(_position+2)){_position+=3;ch=state.input.charCodeAt(_position);if(ch===0||is_WS_OR_EOL(ch)){return true;}}return false;}function writeFoldedLines(state,count){if(count===1){state.result+=' ';}else if(count>1){state.result+=common.repeat('\n',count-1);}}function readPlainScalar(state,nodeIndent,withinFlowCollection){var preceding,following,captureStart,captureEnd,hasPendingContent,_line,_lineStart,_lineIndent,_kind=state.kind,_result=state.result,ch;ch=state.input.charCodeAt(state.position);if(is_WS_OR_EOL(ch)||is_FLOW_INDICATOR(ch)||ch===0x23||ch===0x26||ch===0x2A||ch===0x21||ch===0x7C||ch===0x3E||ch===0x27||ch===0x22||ch===0x25||ch===0x40||ch===0x60){return false;}if(ch===0x3F||ch===0x2D){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following)){return false;}}state.kind='scalar';state.result='';captureStart=captureEnd=state.position;hasPendingContent=false;while(ch!==0){if(ch===0x3A){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following)){break;}}else if(ch===0x23){preceding=state.input.charCodeAt(state.position-1);if(is_WS_OR_EOL(preceding)){break;}}else if(state.position===state.lineStart&&testDocumentSeparator(state)||withinFlowCollection&&is_FLOW_INDICATOR(ch)){break;}else if(is_EOL(ch)){_line=state.line;_lineStart=state.lineStart;_lineIndent=state.lineIndent;skipSeparationSpace(state,false,-1);if(state.lineIndent>=nodeIndent){hasPendingContent=true;ch=state.input.charCodeAt(state.position);continue;}else{state.position=captureEnd;state.line=_line;state.lineStart=_lineStart;state.lineIndent=_lineIndent;break;}}if(hasPendingContent){captureSegment(state,captureStart,captureEnd,false);writeFoldedLines(state,state.line-_line);captureStart=captureEnd=state.position;hasPendingContent=false;}if(!is_WHITE_SPACE(ch)){captureEnd=state.position+1;}ch=state.input.charCodeAt(++state.position);}captureSegment(state,captureStart,captureEnd,false);if(state.result){return true;}state.kind=_kind;state.result=_result;return false;}function readSingleQuotedScalar(state,nodeIndent){var ch,captureStart,captureEnd;ch=state.input.charCodeAt(state.position);if(ch!==0x27){return false;}state.kind='scalar';state.result='';state.position++;captureStart=captureEnd=state.position;while((ch=state.input.charCodeAt(state.position))!==0){if(ch===0x27){captureSegment(state,captureStart,state.position,true);ch=state.input.charCodeAt(++state.position);if(ch===0x27){captureStart=state.position;state.position++;captureEnd=state.position;}else{return true;}}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,true);writeFoldedLines(state,skipSeparationSpace(state,false,nodeIndent));captureStart=captureEnd=state.position;}else if(state.position===state.lineStart&&testDocumentSeparator(state)){throwError(state,'unexpected end of the document within a single quoted scalar');}else{state.position++;captureEnd=state.position;}}throwError(state,'unexpected end of the stream within a single quoted scalar');}function readDoubleQuotedScalar(state,nodeIndent){var captureStart,captureEnd,hexLength,hexResult,tmp,ch;ch=state.input.charCodeAt(state.position);if(ch!==0x22){return false;}state.kind='scalar';state.result='';state.position++;captureStart=captureEnd=state.position;while((ch=state.input.charCodeAt(state.position))!==0){if(ch===0x22){captureSegment(state,captureStart,state.position,true);state.position++;return true;}else if(ch===0x5C){captureSegment(state,captureStart,state.position,true);ch=state.input.charCodeAt(++state.position);if(is_EOL(ch)){skipSeparationSpace(state,false,nodeIndent);}else if(ch<256&&simpleEscapeCheck[ch]){state.result+=simpleEscapeMap[ch];state.position++;}else if((tmp=escapedHexLen(ch))>0){hexLength=tmp;hexResult=0;for(;hexLength>0;hexLength--){ch=state.input.charCodeAt(++state.position);if((tmp=fromHexCode(ch))>=0){hexResult=(hexResult<<4)+tmp;}else{throwError(state,'expected hexadecimal character');}}state.result+=charFromCodepoint(hexResult);state.position++;}else{throwError(state,'unknown escape sequence');}captureStart=captureEnd=state.position;}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,true);writeFoldedLines(state,skipSeparationSpace(state,false,nodeIndent));captureStart=captureEnd=state.position;}else if(state.position===state.lineStart&&testDocumentSeparator(state)){throwError(state,'unexpected end of the document within a double quoted scalar');}else{state.position++;captureEnd=state.position;}}throwError(state,'unexpected end of the stream within a double quoted scalar');}function readFlowCollection(state,nodeIndent){var readNext=true,_line,_tag=state.tag,_result,_anchor=state.anchor,following,terminator,isPair,isExplicitPair,isMapping,overridableKeys={},keyNode,keyTag,valueNode,ch;ch=state.input.charCodeAt(state.position);if(ch===0x5B){terminator=0x5D;isMapping=false;_result=[];}else if(ch===0x7B){terminator=0x7D;isMapping=true;_result={};}else{return false;}if(state.anchor!==null){state.anchorMap[state.anchor]=_result;}ch=state.input.charCodeAt(++state.position);while(ch!==0){skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if(ch===terminator){state.position++;state.tag=_tag;state.anchor=_anchor;state.kind=isMapping?'mapping':'sequence';state.result=_result;return true;}else if(!readNext){throwError(state,'missed comma between flow collection entries');}keyTag=keyNode=valueNode=null;isPair=isExplicitPair=false;if(ch===0x3F){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)){isPair=isExplicitPair=true;state.position++;skipSeparationSpace(state,true,nodeIndent);}}_line=state.line;composeNode(state,nodeIndent,CONTEXT_FLOW_IN,false,true);keyTag=state.tag;keyNode=state.result;skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if((isExplicitPair||state.line===_line)&&ch===0x3A){isPair=true;ch=state.input.charCodeAt(++state.position);skipSeparationSpace(state,true,nodeIndent);composeNode(state,nodeIndent,CONTEXT_FLOW_IN,false,true);valueNode=state.result;}if(isMapping){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode);}else if(isPair){_result.push(storeMappingPair(state,null,overridableKeys,keyTag,keyNode,valueNode));}else{_result.push(keyNode);}skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if(ch===0x2C){readNext=true;ch=state.input.charCodeAt(++state.position);}else{readNext=false;}}throwError(state,'unexpected end of the stream within a flow collection');}function readBlockScalar(state,nodeIndent){var captureStart,folding,chomping=CHOMPING_CLIP,didReadContent=false,detectedIndent=false,textIndent=nodeIndent,emptyLines=0,atMoreIndented=false,tmp,ch;ch=state.input.charCodeAt(state.position);if(ch===0x7C){folding=false;}else if(ch===0x3E){folding=true;}else{return false;}state.kind='scalar';state.result='';while(ch!==0){ch=state.input.charCodeAt(++state.position);if(ch===0x2B||ch===0x2D){if(CHOMPING_CLIP===chomping){chomping=ch===0x2B?CHOMPING_KEEP:CHOMPING_STRIP;}else{throwError(state,'repeat of a chomping mode identifier');}}else if((tmp=fromDecimalCode(ch))>=0){if(tmp===0){throwError(state,'bad explicit indentation width of a block scalar; it cannot be less than one');}else if(!detectedIndent){textIndent=nodeIndent+tmp-1;detectedIndent=true;}else{throwError(state,'repeat of an indentation width identifier');}}else{break;}}if(is_WHITE_SPACE(ch)){do{ch=state.input.charCodeAt(++state.position);}while(is_WHITE_SPACE(ch));if(ch===0x23){do{ch=state.input.charCodeAt(++state.position);}while(!is_EOL(ch)&&ch!==0);}}while(ch!==0){readLineBreak(state);state.lineIndent=0;ch=state.input.charCodeAt(state.position);while((!detectedIndent||state.lineIndent<textIndent)&&ch===0x20){state.lineIndent++;ch=state.input.charCodeAt(++state.position);}if(!detectedIndent&&state.lineIndent>textIndent){textIndent=state.lineIndent;}if(is_EOL(ch)){emptyLines++;continue;}if(state.lineIndent<textIndent){if(chomping===CHOMPING_KEEP){state.result+=common.repeat('\n',didReadContent?1+emptyLines:emptyLines);}else if(chomping===CHOMPING_CLIP){if(didReadContent){state.result+='\n';}}break;}if(folding){if(is_WHITE_SPACE(ch)){atMoreIndented=true;state.result+=common.repeat('\n',didReadContent?1+emptyLines:emptyLines);}else if(atMoreIndented){atMoreIndented=false;state.result+=common.repeat('\n',emptyLines+1);}else if(emptyLines===0){if(didReadContent){state.result+=' ';}}else{state.result+=common.repeat('\n',emptyLines);}}else{state.result+=common.repeat('\n',didReadContent?1+emptyLines:emptyLines);}didReadContent=true;detectedIndent=true;emptyLines=0;captureStart=state.position;while(!is_EOL(ch)&&ch!==0){ch=state.input.charCodeAt(++state.position);}captureSegment(state,captureStart,state.position,false);}return true;}function readBlockSequence(state,nodeIndent){var _line,_tag=state.tag,_anchor=state.anchor,_result=[],following,detected=false,ch;if(state.anchor!==null){state.anchorMap[state.anchor]=_result;}ch=state.input.charCodeAt(state.position);while(ch!==0){if(ch!==0x2D){break;}following=state.input.charCodeAt(state.position+1);if(!is_WS_OR_EOL(following)){break;}detected=true;state.position++;if(skipSeparationSpace(state,true,-1)){if(state.lineIndent<=nodeIndent){_result.push(null);ch=state.input.charCodeAt(state.position);continue;}}_line=state.line;composeNode(state,nodeIndent,CONTEXT_BLOCK_IN,false,true);_result.push(state.result);skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position);if((state.line===_line||state.lineIndent>nodeIndent)&&ch!==0){throwError(state,'bad indentation of a sequence entry');}else if(state.lineIndent<nodeIndent){break;}}if(detected){state.tag=_tag;state.anchor=_anchor;state.kind='sequence';state.result=_result;return true;}return false;}function readBlockMapping(state,nodeIndent,flowIndent){var following,allowCompact,_line,_pos,_tag=state.tag,_anchor=state.anchor,_result={},overridableKeys={},keyTag=null,keyNode=null,valueNode=null,atExplicitKey=false,detected=false,ch;if(state.anchor!==null){state.anchorMap[state.anchor]=_result;}ch=state.input.charCodeAt(state.position);while(ch!==0){following=state.input.charCodeAt(state.position+1);_line=state.line;_pos=state.position;if((ch===0x3F||ch===0x3A)&&is_WS_OR_EOL(following)){if(ch===0x3F){if(atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null);keyTag=keyNode=valueNode=null;}detected=true;atExplicitKey=true;allowCompact=true;}else if(atExplicitKey){atExplicitKey=false;allowCompact=true;}else{throwError(state,'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');}state.position+=1;ch=following;}else if(composeNode(state,flowIndent,CONTEXT_FLOW_OUT,false,true)){if(state.line===_line){ch=state.input.charCodeAt(state.position);while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position);}if(ch===0x3A){ch=state.input.charCodeAt(++state.position);if(!is_WS_OR_EOL(ch)){throwError(state,'a whitespace character is expected after the key-value separator within a block mapping');}if(atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null);keyTag=keyNode=valueNode=null;}detected=true;atExplicitKey=false;allowCompact=false;keyTag=state.tag;keyNode=state.result;}else if(detected){throwError(state,'can not read an implicit mapping pair; a colon is missed');}else{state.tag=_tag;state.anchor=_anchor;return true;}}else if(detected){throwError(state,'can not read a block mapping entry; a multiline key may not be an implicit key');}else{state.tag=_tag;state.anchor=_anchor;return true;}}else{break;}if(state.line===_line||state.lineIndent>nodeIndent){if(composeNode(state,nodeIndent,CONTEXT_BLOCK_OUT,true,allowCompact)){if(atExplicitKey){keyNode=state.result;}else{valueNode=state.result;}}if(!atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode,_line,_pos);keyTag=keyNode=valueNode=null;}skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position);}if(state.lineIndent>nodeIndent&&ch!==0){throwError(state,'bad indentation of a mapping entry');}else if(state.lineIndent<nodeIndent){break;}}if(atExplicitKey){storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null);}if(detected){state.tag=_tag;state.anchor=_anchor;state.kind='mapping';state.result=_result;}return detected;}function readTagProperty(state){var _position,isVerbatim=false,isNamed=false,tagHandle,tagName,ch;ch=state.input.charCodeAt(state.position);if(ch!==0x21)return false;if(state.tag!==null){throwError(state,'duplication of a tag property');}ch=state.input.charCodeAt(++state.position);if(ch===0x3C){isVerbatim=true;ch=state.input.charCodeAt(++state.position);}else if(ch===0x21){isNamed=true;tagHandle='!!';ch=state.input.charCodeAt(++state.position);}else{tagHandle='!';}_position=state.position;if(isVerbatim){do{ch=state.input.charCodeAt(++state.position);}while(ch!==0&&ch!==0x3E);if(state.position<state.length){tagName=state.input.slice(_position,state.position);ch=state.input.charCodeAt(++state.position);}else{throwError(state,'unexpected end of the stream within a verbatim tag');}}else{while(ch!==0&&!is_WS_OR_EOL(ch)){if(ch===0x21){if(!isNamed){tagHandle=state.input.slice(_position-1,state.position+1);if(!PATTERN_TAG_HANDLE.test(tagHandle)){throwError(state,'named tag handle cannot contain such characters');}isNamed=true;_position=state.position+1;}else{throwError(state,'tag suffix cannot contain exclamation marks');}}ch=state.input.charCodeAt(++state.position);}tagName=state.input.slice(_position,state.position);if(PATTERN_FLOW_INDICATORS.test(tagName)){throwError(state,'tag suffix cannot contain flow indicator characters');}}if(tagName&&!PATTERN_TAG_URI.test(tagName)){throwError(state,'tag name cannot contain such characters: '+tagName);}if(isVerbatim){state.tag=tagName;}else if(_hasOwnProperty.call(state.tagMap,tagHandle)){state.tag=state.tagMap[tagHandle]+tagName;}else if(tagHandle==='!'){state.tag='!'+tagName;}else if(tagHandle==='!!'){state.tag='tag:yaml.org,2002:'+tagName;}else{throwError(state,'undeclared tag handle "'+tagHandle+'"');}return true;}function readAnchorProperty(state){var _position,ch;ch=state.input.charCodeAt(state.position);if(ch!==0x26)return false;if(state.anchor!==null){throwError(state,'duplication of an anchor property');}ch=state.input.charCodeAt(++state.position);_position=state.position;while(ch!==0&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch)){ch=state.input.charCodeAt(++state.position);}if(state.position===_position){throwError(state,'name of an anchor node must contain at least one character');}state.anchor=state.input.slice(_position,state.position);return true;}function readAlias(state){var _position,alias,ch;ch=state.input.charCodeAt(state.position);if(ch!==0x2A)return false;ch=state.input.charCodeAt(++state.position);_position=state.position;while(ch!==0&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch)){ch=state.input.charCodeAt(++state.position);}if(state.position===_position){throwError(state,'name of an alias node must contain at least one character');}alias=state.input.slice(_position,state.position);if(!_hasOwnProperty.call(state.anchorMap,alias)){throwError(state,'unidentified alias "'+alias+'"');}state.result=state.anchorMap[alias];skipSeparationSpace(state,true,-1);return true;}function composeNode(state,parentIndent,nodeContext,allowToSeek,allowCompact){var allowBlockStyles,allowBlockScalars,allowBlockCollections,indentStatus=1,atNewLine=false,hasContent=false,typeIndex,typeQuantity,type,flowIndent,blockIndent;if(state.listener!==null){state.listener('open',state);}state.tag=null;state.anchor=null;state.kind=null;state.result=null;allowBlockStyles=allowBlockScalars=allowBlockCollections=CONTEXT_BLOCK_OUT===nodeContext||CONTEXT_BLOCK_IN===nodeContext;if(allowToSeek){if(skipSeparationSpace(state,true,-1)){atNewLine=true;if(state.lineIndent>parentIndent){indentStatus=1;}else if(state.lineIndent===parentIndent){indentStatus=0;}else if(state.lineIndent<parentIndent){indentStatus=-1;}}}if(indentStatus===1){while(readTagProperty(state)||readAnchorProperty(state)){if(skipSeparationSpace(state,true,-1)){atNewLine=true;allowBlockCollections=allowBlockStyles;if(state.lineIndent>parentIndent){indentStatus=1;}else if(state.lineIndent===parentIndent){indentStatus=0;}else if(state.lineIndent<parentIndent){indentStatus=-1;}}else{allowBlockCollections=false;}}}if(allowBlockCollections){allowBlockCollections=atNewLine||allowCompact;}if(indentStatus===1||CONTEXT_BLOCK_OUT===nodeContext){if(CONTEXT_FLOW_IN===nodeContext||CONTEXT_FLOW_OUT===nodeContext){flowIndent=parentIndent;}else{flowIndent=parentIndent+1;}blockIndent=state.position-state.lineStart;if(indentStatus===1){if(allowBlockCollections&&(readBlockSequence(state,blockIndent)||readBlockMapping(state,blockIndent,flowIndent))||readFlowCollection(state,flowIndent)){hasContent=true;}else{if(allowBlockScalars&&readBlockScalar(state,flowIndent)||readSingleQuotedScalar(state,flowIndent)||readDoubleQuotedScalar(state,flowIndent)){hasContent=true;}else if(readAlias(state)){hasContent=true;if(state.tag!==null||state.anchor!==null){throwError(state,'alias node should not have any properties');}}else if(readPlainScalar(state,flowIndent,CONTEXT_FLOW_IN===nodeContext)){hasContent=true;if(state.tag===null){state.tag='?';}}if(state.anchor!==null){state.anchorMap[state.anchor]=state.result;}}}else if(indentStatus===0){hasContent=allowBlockCollections&&readBlockSequence(state,blockIndent);}}if(state.tag!==null&&state.tag!=='!'){if(state.tag==='?'){if(state.result!==null&&state.kind!=='scalar'){throwError(state,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+state.kind+'"');}for(typeIndex=0,typeQuantity=state.implicitTypes.length;typeIndex<typeQuantity;typeIndex+=1){type=state.implicitTypes[typeIndex];if(type.resolve(state.result)){state.result=type.construct(state.result);state.tag=type.tag;if(state.anchor!==null){state.anchorMap[state.anchor]=state.result;}break;}}}else if(_hasOwnProperty.call(state.typeMap[state.kind||'fallback'],state.tag)){type=state.typeMap[state.kind||'fallback'][state.tag];if(state.result!==null&&type.kind!==state.kind){throwError(state,'unacceptable node kind for !<'+state.tag+'> tag; it should be "'+type.kind+'", not "'+state.kind+'"');}if(!type.resolve(state.result)){throwError(state,'cannot resolve a node with !<'+state.tag+'> explicit tag');}else{state.result=type.construct(state.result);if(state.anchor!==null){state.anchorMap[state.anchor]=state.result;}}}else{throwError(state,'unknown tag !<'+state.tag+'>');}}if(state.listener!==null){state.listener('close',state);}return state.tag!==null||state.anchor!==null||hasContent;}function readDocument(state){var documentStart=state.position,_position,directiveName,directiveArgs,hasDirectives=false,ch;state.version=null;state.checkLineBreaks=state.legacy;state.tagMap={};state.anchorMap={};while((ch=state.input.charCodeAt(state.position))!==0){skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position);if(state.lineIndent>0||ch!==0x25){break;}hasDirectives=true;ch=state.input.charCodeAt(++state.position);_position=state.position;while(ch!==0&&!is_WS_OR_EOL(ch)){ch=state.input.charCodeAt(++state.position);}directiveName=state.input.slice(_position,state.position);directiveArgs=[];if(directiveName.length<1){throwError(state,'directive name must not be less than one character in length');}while(ch!==0){while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position);}if(ch===0x23){do{ch=state.input.charCodeAt(++state.position);}while(ch!==0&&!is_EOL(ch));break;}if(is_EOL(ch))break;_position=state.position;while(ch!==0&&!is_WS_OR_EOL(ch)){ch=state.input.charCodeAt(++state.position);}directiveArgs.push(state.input.slice(_position,state.position));}if(ch!==0)readLineBreak(state);if(_hasOwnProperty.call(directiveHandlers,directiveName)){directiveHandlers[directiveName](state,directiveName,directiveArgs);}else{throwWarning(state,'unknown document directive "'+directiveName+'"');}}skipSeparationSpace(state,true,-1);if(state.lineIndent===0&&state.input.charCodeAt(state.position)===0x2D&&state.input.charCodeAt(state.position+1)===0x2D&&state.input.charCodeAt(state.position+2)===0x2D){state.position+=3;skipSeparationSpace(state,true,-1);}else if(hasDirectives){throwError(state,'directives end mark is expected');}composeNode(state,state.lineIndent-1,CONTEXT_BLOCK_OUT,false,true);skipSeparationSpace(state,true,-1);if(state.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart,state.position))){throwWarning(state,'non-ASCII line breaks are interpreted as content');}state.documents.push(state.result);if(state.position===state.lineStart&&testDocumentSeparator(state)){if(state.input.charCodeAt(state.position)===0x2E){state.position+=3;skipSeparationSpace(state,true,-1);}return;}if(state.position<state.length-1){throwError(state,'end of the stream or a document separator is expected');}else{return;}}function loadDocuments(input,options){input=String(input);options=options||{};if(input.length!==0){if(input.charCodeAt(input.length-1)!==0x0A&&input.charCodeAt(input.length-1)!==0x0D){input+='\n';}if(input.charCodeAt(0)===0xFEFF){input=input.slice(1);}}var state=new State(input,options);var nullpos=input.indexOf('\0');if(nullpos!==-1){state.position=nullpos;throwError(state,'null byte is not allowed in input');}state.input+='\0';while(state.input.charCodeAt(state.position)===0x20){state.lineIndent+=1;state.position+=1;}while(state.position<state.length-1){readDocument(state);}return state.documents;}function loadAll(input,iterator,options){if(iterator!==null&&(typeof iterator==='undefined'?'undefined':_typeof3(iterator))==='object'&&typeof options==='undefined'){options=iterator;iterator=null;}var documents=loadDocuments(input,options);if(typeof iterator!=='function'){return documents;}for(var index=0,length=documents.length;index<length;index+=1){iterator(documents[index]);}}function load(input,options){var documents=loadDocuments(input,options);if(documents.length===0){return undefined;}else if(documents.length===1){return documents[0];}throw new YAMLException('expected a single document in the stream, but found more');}function safeLoadAll(input,iterator,options){if((typeof iterator==='undefined'?'undefined':_typeof3(iterator))==='object'&&iterator!==null&&typeof options==='undefined'){options=iterator;iterator=null;}return loadAll(input,iterator,common.extend({schema:DEFAULT_SAFE_SCHEMA},options));}function safeLoad(input,options){return load(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options));}module.exports.loadAll=loadAll;module.exports.load=load;module.exports.safeLoadAll=safeLoadAll;module.exports.safeLoad=safeLoad;},{"./common":3,"./exception":5,"./mark":7,"./schema/default_full":10,"./schema/default_safe":11}],7:[function(require,module,exports){'use strict';var common=require('./common');function Mark(name,buffer,position,line,column){this.name=name;this.buffer=buffer;this.position=position;this.line=line;this.column=column;}Mark.prototype.getSnippet=function getSnippet(indent,maxLength){var head,start,tail,end,snippet;if(!this.buffer)return null;indent=indent||4;maxLength=maxLength||75;head='';start=this.position;while(start>0&&'\0\r\n\x85\u2028\u2029'.indexOf(this.buffer.charAt(start-1))===-1){start-=1;if(this.position-start>maxLength/2-1){head=' ... ';start+=5;break;}}tail='';end=this.position;while(end<this.buffer.length&&'\0\r\n\x85\u2028\u2029'.indexOf(this.buffer.charAt(end))===-1){end+=1;if(end-this.position>maxLength/2-1){tail=' ... ';end-=5;break;}}snippet=this.buffer.slice(start,end);return common.repeat(' ',indent)+head+snippet+tail+'\n'+common.repeat(' ',indent+this.position-start+head.length)+'^';};Mark.prototype.toString=function toString(compact){var snippet,where='';if(this.name){where+='in "'+this.name+'" ';}where+='at line '+(this.line+1)+', column '+(this.column+1);if(!compact){snippet=this.getSnippet();if(snippet){where+=':\n'+snippet;}}return where;};module.exports=Mark;},{"./common":3}],8:[function(require,module,exports){'use strict';var common=require('./common');var YAMLException=require('./exception');var Type=require('./type');function compileList(schema,name,result){var exclude=[];schema.include.forEach(function(includedSchema){result=compileList(includedSchema,name,result);});schema[name].forEach(function(currentType){result.forEach(function(previousType,previousIndex){if(previousType.tag===currentType.tag&&previousType.kind===currentType.kind){exclude.push(previousIndex);}});result.push(currentType);});return result.filter(function(type,index){return exclude.indexOf(index)===-1;});}function compileMap(){var result={scalar:{},sequence:{},mapping:{},fallback:{}},index,length;function collectType(type){result[type.kind][type.tag]=result['fallback'][type.tag]=type;}for(index=0,length=arguments.length;index<length;index+=1){arguments[index].forEach(collectType);}return result;}function Schema(definition){this.include=definition.include||[];this.implicit=definition.implicit||[];this.explicit=definition.explicit||[];this.implicit.forEach(function(type){if(type.loadKind&&type.loadKind!=='scalar'){throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');}});this.compiledImplicit=compileList(this,'implicit',[]);this.compiledExplicit=compileList(this,'explicit',[]);this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit);}Schema.DEFAULT=null;Schema.create=function createSchema(){var schemas,types;switch(arguments.length){case 1:schemas=Schema.DEFAULT;types=arguments[0];break;case 2:schemas=arguments[0];types=arguments[1];break;default:throw new YAMLException('Wrong number of arguments for Schema.create function');}schemas=common.toArray(schemas);types=common.toArray(types);if(!schemas.every(function(schema){return schema instanceof Schema;})){throw new YAMLException('Specified list of super schemas (or a single Schema object) contains a non-Schema object.');}if(!types.every(function(type){return type instanceof Type;})){throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');}return new Schema({include:schemas,explicit:types});};module.exports=Schema;},{"./common":3,"./exception":5,"./type":14}],9:[function(require,module,exports){'use strict';var Schema=require('../schema');module.exports=new Schema({include:[require('./json')]});},{"../schema":8,"./json":13}],10:[function(require,module,exports){'use strict';var Schema=require('../schema');module.exports=Schema.DEFAULT=new Schema({include:[require('./default_safe')],explicit:[require('../type/js/undefined'),require('../type/js/regexp'),require('../type/js/function')]});},{"../schema":8,"../type/js/function":19,"../type/js/regexp":20,"../type/js/undefined":21,"./default_safe":11}],11:[function(require,module,exports){'use strict';var Schema=require('../schema');module.exports=new Schema({include:[require('./core')],implicit:[require('../type/timestamp'),require('../type/merge')],explicit:[require('../type/binary'),require('../type/omap'),require('../type/pairs'),require('../type/set')]});},{"../schema":8,"../type/binary":15,"../type/merge":23,"../type/omap":25,"../type/pairs":26,"../type/set":28,"../type/timestamp":30,"./core":9}],12:[function(require,module,exports){'use strict';var Schema=require('../schema');module.exports=new Schema({explicit:[require('../type/str'),require('../type/seq'),require('../type/map')]});},{"../schema":8,"../type/map":22,"../type/seq":27,"../type/str":29}],13:[function(require,module,exports){'use strict';var Schema=require('../schema');module.exports=new Schema({include:[require('./failsafe')],implicit:[require('../type/null'),require('../type/bool'),require('../type/int'),require('../type/float')]});},{"../schema":8,"../type/bool":16,"../type/float":17,"../type/int":18,"../type/null":24,"./failsafe":12}],14:[function(require,module,exports){'use strict';var YAMLException=require('./exception');var TYPE_CONSTRUCTOR_OPTIONS=['kind','resolve','construct','instanceOf','predicate','represent','defaultStyle','styleAliases'];var YAML_NODE_KINDS=['scalar','sequence','mapping'];function compileStyleAliases(map){var result={};if(map!==null){Object.keys(map).forEach(function(style){map[style].forEach(function(alias){result[String(alias)]=style;});});}return result;}function Type(tag,options){options=options||{};Object.keys(options).forEach(function(name){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(name)===-1){throw new YAMLException('Unknown option "'+name+'" is met in definition of "'+tag+'" YAML type.');}});this.tag=tag;this.kind=options['kind']||null;this.resolve=options['resolve']||function(){return true;};this.construct=options['construct']||function(data){return data;};this.instanceOf=options['instanceOf']||null;this.predicate=options['predicate']||null;this.represent=options['represent']||null;this.defaultStyle=options['defaultStyle']||null;this.styleAliases=compileStyleAliases(options['styleAliases']||null);if(YAML_NODE_KINDS.indexOf(this.kind)===-1){throw new YAMLException('Unknown kind "'+this.kind+'" is specified for "'+tag+'" YAML type.');}}module.exports=Type;},{"./exception":5}],15:[function(require,module,exports){'use strict';var NodeBuffer;try{var _require=require;NodeBuffer=_require('buffer').Buffer;}catch(__){}var Type=require('../type');var BASE64_MAP='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r';function resolveYamlBinary(data){if(data===null)return false;var code,idx,bitlen=0,max=data.length,map=BASE64_MAP;for(idx=0;idx<max;idx++){code=map.indexOf(data.charAt(idx));if(code>64)continue;if(code<0)return false;bitlen+=6;}return bitlen%8===0;}function constructYamlBinary(data){var idx,tailbits,input=data.replace(/[\r\n=]/g,''),max=input.length,map=BASE64_MAP,bits=0,result=[];for(idx=0;idx<max;idx++){if(idx%4===0&&idx){result.push(bits>>16&0xFF);result.push(bits>>8&0xFF);result.push(bits&0xFF);}bits=bits<<6|map.indexOf(input.charAt(idx));}tailbits=max%4*6;if(tailbits===0){result.push(bits>>16&0xFF);result.push(bits>>8&0xFF);result.push(bits&0xFF);}else if(tailbits===18){result.push(bits>>10&0xFF);result.push(bits>>2&0xFF);}else if(tailbits===12){result.push(bits>>4&0xFF);}if(NodeBuffer){return NodeBuffer.from?NodeBuffer.from(result):new NodeBuffer(result);}return result;}function representYamlBinary(object){var result='',bits=0,idx,tail,max=object.length,map=BASE64_MAP;for(idx=0;idx<max;idx++){if(idx%3===0&&idx){result+=map[bits>>18&0x3F];result+=map[bits>>12&0x3F];result+=map[bits>>6&0x3F];result+=map[bits&0x3F];}bits=(bits<<8)+object[idx];}tail=max%3;if(tail===0){result+=map[bits>>18&0x3F];result+=map[bits>>12&0x3F];result+=map[bits>>6&0x3F];result+=map[bits&0x3F];}else if(tail===2){result+=map[bits>>10&0x3F];result+=map[bits>>4&0x3F];result+=map[bits<<2&0x3F];result+=map[64];}else if(tail===1){result+=map[bits>>2&0x3F];result+=map[bits<<4&0x3F];result+=map[64];result+=map[64];}return result;}function isBinary(object){return NodeBuffer&&NodeBuffer.isBuffer(object);}module.exports=new Type('tag:yaml.org,2002:binary',{kind:'scalar',resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary});},{"../type":14}],16:[function(require,module,exports){'use strict';var Type=require('../type');function resolveYamlBoolean(data){if(data===null)return false;var max=data.length;return max===4&&(data==='true'||data==='True'||data==='TRUE')||max===5&&(data==='false'||data==='False'||data==='FALSE');}function constructYamlBoolean(data){return data==='true'||data==='True'||data==='TRUE';}function isBoolean(object){return Object.prototype.toString.call(object)==='[object Boolean]';}module.exports=new Type('tag:yaml.org,2002:bool',{kind:'scalar',resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function lowercase(object){return object?'true':'false';},uppercase:function uppercase(object){return object?'TRUE':'FALSE';},camelcase:function camelcase(object){return object?'True':'False';}},defaultStyle:'lowercase'});},{"../type":14}],17:[function(require,module,exports){'use strict';var common=require('../common');var Type=require('../type');var YAML_FLOAT_PATTERN=new RegExp('^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?'+'|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?'+'|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*'+'|[-+]?\\.(?:inf|Inf|INF)'+'|\\.(?:nan|NaN|NAN))$');function resolveYamlFloat(data){if(data===null)return false;if(!YAML_FLOAT_PATTERN.test(data)||data[data.length-1]==='_'){return false;}return true;}function constructYamlFloat(data){var value,sign,base,digits;value=data.replace(/_/g,'').toLowerCase();sign=value[0]==='-'?-1:1;digits=[];if('+-'.indexOf(value[0])>=0){value=value.slice(1);}if(value==='.inf'){return sign===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;}else if(value==='.nan'){return NaN;}else if(value.indexOf(':')>=0){value.split(':').forEach(function(v){digits.unshift(parseFloat(v,10));});value=0.0;base=1;digits.forEach(function(d){value+=d*base;base*=60;});return sign*value;}return sign*parseFloat(value,10);}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(object,style){var res;if(isNaN(object)){switch(style){case'lowercase':return'.nan';case'uppercase':return'.NAN';case'camelcase':return'.NaN';}}else if(Number.POSITIVE_INFINITY===object){switch(style){case'lowercase':return'.inf';case'uppercase':return'.INF';case'camelcase':return'.Inf';}}else if(Number.NEGATIVE_INFINITY===object){switch(style){case'lowercase':return'-.inf';case'uppercase':return'-.INF';case'camelcase':return'-.Inf';}}else if(common.isNegativeZero(object)){return'-0.0';}res=object.toString(10);return SCIENTIFIC_WITHOUT_DOT.test(res)?res.replace('e','.e'):res;}function isFloat(object){return Object.prototype.toString.call(object)==='[object Number]'&&(object%1!==0||common.isNegativeZero(object));}module.exports=new Type('tag:yaml.org,2002:float',{kind:'scalar',resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:'lowercase'});},{"../common":3,"../type":14}],18:[function(require,module,exports){'use strict';var common=require('../common');var Type=require('../type');function isHexCode(c){return 0x30<=c&&c<=0x39||0x41<=c&&c<=0x46||0x61<=c&&c<=0x66;}function isOctCode(c){return 0x30<=c&&c<=0x37;}function isDecCode(c){return 0x30<=c&&c<=0x39;}function resolveYamlInteger(data){if(data===null)return false;var max=data.length,index=0,hasDigits=false,ch;if(!max)return false;ch=data[index];if(ch==='-'||ch==='+'){ch=data[++index];}if(ch==='0'){if(index+1===max)return true;ch=data[++index];if(ch==='b'){index++;for(;index<max;index++){ch=data[index];if(ch==='_')continue;if(ch!=='0'&&ch!=='1')return false;hasDigits=true;}return hasDigits&&ch!=='_';}if(ch==='x'){index++;for(;index<max;index++){ch=data[index];if(ch==='_')continue;if(!isHexCode(data.charCodeAt(index)))return false;hasDigits=true;}return hasDigits&&ch!=='_';}for(;index<max;index++){ch=data[index];if(ch==='_')continue;if(!isOctCode(data.charCodeAt(index)))return false;hasDigits=true;}return hasDigits&&ch!=='_';}if(ch==='_')return false;for(;index<max;index++){ch=data[index];if(ch==='_')continue;if(ch===':')break;if(!isDecCode(data.charCodeAt(index))){return false;}hasDigits=true;}if(!hasDigits||ch==='_')return false;if(ch!==':')return true;return /^(:[0-5]?[0-9])+$/.test(data.slice(index));}function constructYamlInteger(data){var value=data,sign=1,ch,base,digits=[];if(value.indexOf('_')!==-1){value=value.replace(/_/g,'');}ch=value[0];if(ch==='-'||ch==='+'){if(ch==='-')sign=-1;value=value.slice(1);ch=value[0];}if(value==='0')return 0;if(ch==='0'){if(value[1]==='b')return sign*parseInt(value.slice(2),2);if(value[1]==='x')return sign*parseInt(value,16);return sign*parseInt(value,8);}if(value.indexOf(':')!==-1){value.split(':').forEach(function(v){digits.unshift(parseInt(v,10));});value=0;base=1;digits.forEach(function(d){value+=d*base;base*=60;});return sign*value;}return sign*parseInt(value,10);}function isInteger(object){return Object.prototype.toString.call(object)==='[object Number]'&&object%1===0&&!common.isNegativeZero(object);}module.exports=new Type('tag:yaml.org,2002:int',{kind:'scalar',resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function binary(obj){return obj>=0?'0b'+obj.toString(2):'-0b'+obj.toString(2).slice(1);},octal:function octal(obj){return obj>=0?'0'+obj.toString(8):'-0'+obj.toString(8).slice(1);},decimal:function decimal(obj){return obj.toString(10);},hexadecimal:function hexadecimal(obj){return obj>=0?'0x'+obj.toString(16).toUpperCase():'-0x'+obj.toString(16).toUpperCase().slice(1);}},defaultStyle:'decimal',styleAliases:{binary:[2,'bin'],octal:[8,'oct'],decimal:[10,'dec'],hexadecimal:[16,'hex']}});},{"../common":3,"../type":14}],19:[function(require,module,exports){'use strict';var esprima;try{var _require=require;esprima=_require('esprima');}catch(_){if(typeof window!=='undefined')esprima=window.esprima;}var Type=require('../../type');function resolveJavascriptFunction(data){if(data===null)return false;try{var source='('+data+')',ast=esprima.parse(source,{range:true});if(ast.type!=='Program'||ast.body.length!==1||ast.body[0].type!=='ExpressionStatement'||ast.body[0].expression.type!=='ArrowFunctionExpression'&&ast.body[0].expression.type!=='FunctionExpression'){return false;}return true;}catch(err){return false;}}function constructJavascriptFunction(data){var source='('+data+')',ast=esprima.parse(source,{range:true}),params=[],body;if(ast.type!=='Program'||ast.body.length!==1||ast.body[0].type!=='ExpressionStatement'||ast.body[0].expression.type!=='ArrowFunctionExpression'&&ast.body[0].expression.type!=='FunctionExpression'){throw new Error('Failed to resolve function');}ast.body[0].expression.params.forEach(function(param){params.push(param.name);});body=ast.body[0].expression.body.range;if(ast.body[0].expression.body.type==='BlockStatement'){return new Function(params,source.slice(body[0]+1,body[1]-1));}return new Function(params,'return '+source.slice(body[0],body[1]));}function representJavascriptFunction(object){return object.toString();}function isFunction(object){return Object.prototype.toString.call(object)==='[object Function]';}module.exports=new Type('tag:yaml.org,2002:js/function',{kind:'scalar',resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:isFunction,represent:representJavascriptFunction});},{"../../type":14}],20:[function(require,module,exports){'use strict';var Type=require('../../type');function resolveJavascriptRegExp(data){if(data===null)return false;if(data.length===0)return false;var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers='';if(regexp[0]==='/'){if(tail)modifiers=tail[1];if(modifiers.length>3)return false;if(regexp[regexp.length-modifiers.length-1]!=='/')return false;}return true;}function constructJavascriptRegExp(data){var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers='';if(regexp[0]==='/'){if(tail)modifiers=tail[1];regexp=regexp.slice(1,regexp.length-modifiers.length-1);}return new RegExp(regexp,modifiers);}function representJavascriptRegExp(object){var result='/'+object.source+'/';if(object.global)result+='g';if(object.multiline)result+='m';if(object.ignoreCase)result+='i';return result;}function isRegExp(object){return Object.prototype.toString.call(object)==='[object RegExp]';}module.exports=new Type('tag:yaml.org,2002:js/regexp',{kind:'scalar',resolve:resolveJavascriptRegExp,construct:constructJavascriptRegExp,predicate:isRegExp,represent:representJavascriptRegExp});},{"../../type":14}],21:[function(require,module,exports){'use strict';var Type=require('../../type');function resolveJavascriptUndefined(){return true;}function constructJavascriptUndefined(){return undefined;}function representJavascriptUndefined(){return'';}function isUndefined(object){return typeof object==='undefined';}module.exports=new Type('tag:yaml.org,2002:js/undefined',{kind:'scalar',resolve:resolveJavascriptUndefined,construct:constructJavascriptUndefined,predicate:isUndefined,represent:representJavascriptUndefined});},{"../../type":14}],22:[function(require,module,exports){'use strict';var Type=require('../type');module.exports=new Type('tag:yaml.org,2002:map',{kind:'mapping',construct:function construct(data){return data!==null?data:{};}});},{"../type":14}],23:[function(require,module,exports){'use strict';var Type=require('../type');function resolveYamlMerge(data){return data==='<<'||data===null;}module.exports=new Type('tag:yaml.org,2002:merge',{kind:'scalar',resolve:resolveYamlMerge});},{"../type":14}],24:[function(require,module,exports){'use strict';var Type=require('../type');function resolveYamlNull(data){if(data===null)return true;var max=data.length;return max===1&&data==='~'||max===4&&(data==='null'||data==='Null'||data==='NULL');}function constructYamlNull(){return null;}function isNull(object){return object===null;}module.exports=new Type('tag:yaml.org,2002:null',{kind:'scalar',resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function canonical(){return'~';},lowercase:function lowercase(){return'null';},uppercase:function uppercase(){return'NULL';},camelcase:function camelcase(){return'Null';}},defaultStyle:'lowercase'});},{"../type":14}],25:[function(require,module,exports){'use strict';var Type=require('../type');var _hasOwnProperty=Object.prototype.hasOwnProperty;var _toString=Object.prototype.toString;function resolveYamlOmap(data){if(data===null)return true;var objectKeys=[],index,length,pair,pairKey,pairHasKey,object=data;for(index=0,length=object.length;index<length;index+=1){pair=object[index];pairHasKey=false;if(_toString.call(pair)!=='[object Object]')return false;for(pairKey in pair){if(_hasOwnProperty.call(pair,pairKey)){if(!pairHasKey)pairHasKey=true;else return false;}}if(!pairHasKey)return false;if(objectKeys.indexOf(pairKey)===-1)objectKeys.push(pairKey);else return false;}return true;}function constructYamlOmap(data){return data!==null?data:[];}module.exports=new Type('tag:yaml.org,2002:omap',{kind:'sequence',resolve:resolveYamlOmap,construct:constructYamlOmap});},{"../type":14}],26:[function(require,module,exports){'use strict';var Type=require('../type');var _toString=Object.prototype.toString;function resolveYamlPairs(data){if(data===null)return true;var index,length,pair,keys,result,object=data;result=new Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];if(_toString.call(pair)!=='[object Object]')return false;keys=Object.keys(pair);if(keys.length!==1)return false;result[index]=[keys[0],pair[keys[0]]];}return true;}function constructYamlPairs(data){if(data===null)return[];var index,length,pair,keys,result,object=data;result=new Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];keys=Object.keys(pair);result[index]=[keys[0],pair[keys[0]]];}return result;}module.exports=new Type('tag:yaml.org,2002:pairs',{kind:'sequence',resolve:resolveYamlPairs,construct:constructYamlPairs});},{"../type":14}],27:[function(require,module,exports){'use strict';var Type=require('../type');module.exports=new Type('tag:yaml.org,2002:seq',{kind:'sequence',construct:function construct(data){return data!==null?data:[];}});},{"../type":14}],28:[function(require,module,exports){'use strict';var Type=require('../type');var _hasOwnProperty=Object.prototype.hasOwnProperty;function resolveYamlSet(data){if(data===null)return true;var key,object=data;for(key in object){if(_hasOwnProperty.call(object,key)){if(object[key]!==null)return false;}}return true;}function constructYamlSet(data){return data!==null?data:{};}module.exports=new Type('tag:yaml.org,2002:set',{kind:'mapping',resolve:resolveYamlSet,construct:constructYamlSet});},{"../type":14}],29:[function(require,module,exports){'use strict';var Type=require('../type');module.exports=new Type('tag:yaml.org,2002:str',{kind:'scalar',construct:function construct(data){return data!==null?data:'';}});},{"../type":14}],30:[function(require,module,exports){'use strict';var Type=require('../type');var YAML_DATE_REGEXP=new RegExp('^([0-9][0-9][0-9][0-9])'+'-([0-9][0-9])'+'-([0-9][0-9])$');var YAML_TIMESTAMP_REGEXP=new RegExp('^([0-9][0-9][0-9][0-9])'+'-([0-9][0-9]?)'+'-([0-9][0-9]?)'+'(?:[Tt]|[ \\t]+)'+'([0-9][0-9]?)'+':([0-9][0-9])'+':([0-9][0-9])'+'(?:\\.([0-9]*))?'+'(?:[ \\t]*(Z|([-+])([0-9][0-9]?)'+'(?::([0-9][0-9]))?))?$');function resolveYamlTimestamp(data){if(data===null)return false;if(YAML_DATE_REGEXP.exec(data)!==null)return true;if(YAML_TIMESTAMP_REGEXP.exec(data)!==null)return true;return false;}function constructYamlTimestamp(data){var match,year,month,day,hour,minute,second,fraction=0,delta=null,tz_hour,tz_minute,date;match=YAML_DATE_REGEXP.exec(data);if(match===null)match=YAML_TIMESTAMP_REGEXP.exec(data);if(match===null)throw new Error('Date resolve error');year=+match[1];month=+match[2]-1;day=+match[3];if(!match[4]){return new Date(Date.UTC(year,month,day));}hour=+match[4];minute=+match[5];second=+match[6];if(match[7]){fraction=match[7].slice(0,3);while(fraction.length<3){fraction+='0';}fraction=+fraction;}if(match[9]){tz_hour=+match[10];tz_minute=+(match[11]||0);delta=(tz_hour*60+tz_minute)*60000;if(match[9]==='-')delta=-delta;}date=new Date(Date.UTC(year,month,day,hour,minute,second,fraction));if(delta)date.setTime(date.getTime()-delta);return date;}function representYamlTimestamp(object){return object.toISOString();}module.exports=new Type('tag:yaml.org,2002:timestamp',{kind:'scalar',resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});},{"../type":14}]},{},[1]);},"./src/lib/jsep/jsep.js":function srcLibJsepJsepJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);(function(module){__webpack_exports__["default"]=function(root){'use strict';var COMPOUND='Compound',IDENTIFIER='Identifier',MEMBER_EXP='MemberExpression',LITERAL='Literal',THIS_EXP='ThisExpression',CALL_EXP='CallExpression',UNARY_EXP='UnaryExpression',BINARY_EXP='BinaryExpression',LOGICAL_EXP='LogicalExpression',CONDITIONAL_EXP='ConditionalExpression',ARRAY_EXP='ArrayExpression',PERIOD_CODE=46,COMMA_CODE=44,SQUOTE_CODE=39,DQUOTE_CODE=34,OPAREN_CODE=40,CPAREN_CODE=41,OBRACK_CODE=91,CBRACK_CODE=93,QUMARK_CODE=63,SEMCOL_CODE=59,COLON_CODE=58,throwError=function throwError(message,index){var error=new Error(message+' at character '+index);error.index=index;error.description=message;throw error;},t=true,unary_ops={'-':t,'!':t,'~':t,'+':t},binary_ops={'||':1,'&&':2,'|':3,'^':4,'&':5,'==':6,'!=':6,'===':6,'!==':6,'<':7,'>':7,'<=':7,'>=':7,'<<':8,'>>':8,'>>>':8,'+':9,'-':9,'*':10,'/':10,'%':10},getMaxKeyLen=function getMaxKeyLen(obj){var max_len=0,len;for(var key in obj){if((len=key.length)>max_len&&obj.hasOwnProperty(key)){max_len=len;}}return max_len;},max_unop_len=getMaxKeyLen(unary_ops),max_binop_len=getMaxKeyLen(binary_ops),literals={'true':true,'false':false,'null':null},this_str='this',binaryPrecedence=function binaryPrecedence(op_val){return binary_ops[op_val]||0;},createBinaryExpression=function createBinaryExpression(operator,left,right){var type=operator==='||'||operator==='&&'?LOGICAL_EXP:BINARY_EXP;return{type:type,operator:operator,left:left,right:right};},isDecimalDigit=function isDecimalDigit(ch){return ch>=48&&ch<=57;},isIdentifierStart=function isIdentifierStart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=128&&!binary_ops[String.fromCharCode(ch)];},isIdentifierPart=function isIdentifierPart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch>=128&&!binary_ops[String.fromCharCode(ch)];},jsep=function jsep(expr){var index=0,charAtFunc=expr.charAt,charCodeAtFunc=expr.charCodeAt,exprI=function exprI(i){return charAtFunc.call(expr,i);},exprICode=function exprICode(i){return charCodeAtFunc.call(expr,i);},length=expr.length,gobbleSpaces=function gobbleSpaces(){var ch=exprICode(index);while(ch===32||ch===9||ch===10||ch===13){ch=exprICode(++index);}},gobbleExpression=function gobbleExpression(){var test=gobbleBinaryExpression(),consequent,alternate;gobbleSpaces();if(exprICode(index)===QUMARK_CODE){index++;consequent=gobbleExpression();if(!consequent){throwError('Expected expression',index);}gobbleSpaces();if(exprICode(index)===COLON_CODE){index++;alternate=gobbleExpression();if(!alternate){throwError('Expected expression',index);}return{type:CONDITIONAL_EXP,test:test,consequent:consequent,alternate:alternate};}else{throwError('Expected :',index);}}else{return test;}},gobbleBinaryOp=function gobbleBinaryOp(){gobbleSpaces();var to_check=expr.substr(index,max_binop_len),tc_len=to_check.length;while(tc_len>0){if(binary_ops.hasOwnProperty(to_check)&&(!isIdentifierStart(exprICode(index))||index+to_check.length<expr.length&&!isIdentifierPart(exprICode(index+to_check.length)))){index+=tc_len;return to_check;}to_check=to_check.substr(0,--tc_len);}return false;},gobbleBinaryExpression=function gobbleBinaryExpression(){var node,biop,prec,stack,biop_info,left,right,i;left=gobbleToken();biop=gobbleBinaryOp();if(!biop){return left;}biop_info={value:biop,prec:binaryPrecedence(biop)};right=gobbleToken();if(!right){throwError("Expected expression after "+biop,index);}stack=[left,biop_info,right];while(biop=gobbleBinaryOp()){prec=binaryPrecedence(biop);if(prec===0){break;}biop_info={value:biop,prec:prec};while(stack.length>2&&prec<=stack[stack.length-2].prec){right=stack.pop();biop=stack.pop().value;left=stack.pop();node=createBinaryExpression(biop,left,right);stack.push(node);}node=gobbleToken();if(!node){throwError("Expected expression after "+biop,index);}stack.push(biop_info,node);}i=stack.length-1;node=stack[i];while(i>1){node=createBinaryExpression(stack[i-1].value,stack[i-2],node);i-=2;}return node;},gobbleToken=function gobbleToken(){var ch,to_check,tc_len;gobbleSpaces();ch=exprICode(index);if(isDecimalDigit(ch)||ch===PERIOD_CODE){return gobbleNumericLiteral();}else if(ch===SQUOTE_CODE||ch===DQUOTE_CODE){return gobbleStringLiteral();}else if(ch===OBRACK_CODE){return gobbleArray();}else{to_check=expr.substr(index,max_unop_len);tc_len=to_check.length;while(tc_len>0){if(unary_ops.hasOwnProperty(to_check)&&(!isIdentifierStart(exprICode(index))||index+to_check.length<expr.length&&!isIdentifierPart(exprICode(index+to_check.length)))){index+=tc_len;return{type:UNARY_EXP,operator:to_check,argument:gobbleToken(),prefix:true};}to_check=to_check.substr(0,--tc_len);}if(isIdentifierStart(ch)||ch===OPAREN_CODE){return gobbleVariable();}}return false;},gobbleNumericLiteral=function gobbleNumericLiteral(){var number='',ch,chCode;while(isDecimalDigit(exprICode(index))){number+=exprI(index++);}if(exprICode(index)===PERIOD_CODE){number+=exprI(index++);while(isDecimalDigit(exprICode(index))){number+=exprI(index++);}}ch=exprI(index);if(ch==='e'||ch==='E'){number+=exprI(index++);ch=exprI(index);if(ch==='+'||ch==='-'){number+=exprI(index++);}while(isDecimalDigit(exprICode(index))){number+=exprI(index++);}if(!isDecimalDigit(exprICode(index-1))){throwError('Expected exponent ('+number+exprI(index)+')',index);}}chCode=exprICode(index);if(isIdentifierStart(chCode)){throwError('Variable names cannot start with a number ('+number+exprI(index)+')',index);}else if(chCode===PERIOD_CODE){throwError('Unexpected period',index);}return{type:LITERAL,value:parseFloat(number),raw:number};},gobbleStringLiteral=function gobbleStringLiteral(){var str='',quote=exprI(index++),closed=false,ch;while(index<length){ch=exprI(index++);if(ch===quote){closed=true;break;}else if(ch==='\\'){ch=exprI(index++);switch(ch){case'n':str+='\n';break;case'r':str+='\r';break;case't':str+='\t';break;case'b':str+='\b';break;case'f':str+='\f';break;case'v':str+='\x0B';break;default:str+=ch;}}else{str+=ch;}}if(!closed){throwError('Unclosed quote after "'+str+'"',index);}return{type:LITERAL,value:str,raw:quote+str+quote};},gobbleIdentifier=function gobbleIdentifier(){var ch=exprICode(index),start=index,identifier;if(isIdentifierStart(ch)){index++;}else{throwError('Unexpected '+exprI(index),index);}while(index<length){ch=exprICode(index);if(isIdentifierPart(ch)){index++;}else{break;}}identifier=expr.slice(start,index);if(literals.hasOwnProperty(identifier)){return{type:LITERAL,value:literals[identifier],raw:identifier};}else if(identifier===this_str){return{type:THIS_EXP};}else{return{type:IDENTIFIER,name:identifier};}},gobbleArguments=function gobbleArguments(termination){var ch_i,args=[],node,closed=false;while(index<length){gobbleSpaces();ch_i=exprICode(index);if(ch_i===termination){closed=true;index++;break;}else if(ch_i===COMMA_CODE){index++;}else{node=gobbleExpression();if(!node||node.type===COMPOUND){throwError('Expected comma',index);}args.push(node);}}if(!closed){throwError('Expected '+String.fromCharCode(termination),index);}return args;},gobbleVariable=function gobbleVariable(){var ch_i,node;ch_i=exprICode(index);if(ch_i===OPAREN_CODE){node=gobbleGroup();}else{node=gobbleIdentifier();}gobbleSpaces();ch_i=exprICode(index);while(ch_i===PERIOD_CODE||ch_i===OBRACK_CODE||ch_i===OPAREN_CODE){index++;if(ch_i===PERIOD_CODE){gobbleSpaces();node={type:MEMBER_EXP,computed:false,object:node,property:gobbleIdentifier()};}else if(ch_i===OBRACK_CODE){node={type:MEMBER_EXP,computed:true,object:node,property:gobbleExpression()};gobbleSpaces();ch_i=exprICode(index);if(ch_i!==CBRACK_CODE){throwError('Unclosed [',index);}index++;}else if(ch_i===OPAREN_CODE){node={type:CALL_EXP,'arguments':gobbleArguments(CPAREN_CODE),callee:node};}gobbleSpaces();ch_i=exprICode(index);}return node;},gobbleGroup=function gobbleGroup(){index++;var node=gobbleExpression();gobbleSpaces();if(exprICode(index)===CPAREN_CODE){index++;return node;}else{throwError('Unclosed (',index);}},gobbleArray=function gobbleArray(){index++;return{type:ARRAY_EXP,elements:gobbleArguments(CBRACK_CODE)};},nodes=[],ch_i,node;while(index<length){ch_i=exprICode(index);if(ch_i===SEMCOL_CODE||ch_i===COMMA_CODE){index++;}else{if(node=gobbleExpression()){nodes.push(node);}else if(index<length){throwError('Unexpected "'+exprI(index)+'"',index);}}}if(nodes.length===1){return nodes[0];}else{return{type:COMPOUND,body:nodes};}};jsep.version='0.3.4';jsep.toString=function(){return'JavaScript Expression Parser (JSEP) v'+jsep.version;};jsep.addUnaryOp=function(op_name){max_unop_len=Math.max(op_name.length,max_unop_len);unary_ops[op_name]=t;return this;};jsep.addBinaryOp=function(op_name,precedence){max_binop_len=Math.max(op_name.length,max_binop_len);binary_ops[op_name]=precedence;return this;};jsep.addLiteral=function(literal_name,literal_value){literals[literal_name]=literal_value;return this;};jsep.removeUnaryOp=function(op_name){delete unary_ops[op_name];if(op_name.length===max_unop_len){max_unop_len=getMaxKeyLen(unary_ops);}return this;};jsep.removeAllUnaryOps=function(){unary_ops={};max_unop_len=0;return this;};jsep.removeBinaryOp=function(op_name){delete binary_ops[op_name];if(op_name.length===max_binop_len){max_binop_len=getMaxKeyLen(binary_ops);}return this;};jsep.removeAllBinaryOps=function(){binary_ops={};max_binop_len=0;return this;};jsep.removeLiteral=function(literal_name){delete literals[literal_name];return this;};jsep.removeAllLiterals=function(){literals={};return this;};if(typeof exports==='undefined'){if(!root){return jsep;}var old_jsep=root.jsep;root.jsep=jsep;jsep.noConflict=function(){if(root.jsep===jsep){root.jsep=old_jsep;}return jsep;};}else{if(true&&module.exports){exports=module.exports=jsep;}else{exports.parse=jsep;}}}(undefined);}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module));},"./src/lib/mySVG/mySVG.js":function srcLibMySVGMySVGJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"mySVG",function(){return mySVG;});var _svg_svg_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/lib/svg/svg.js");var _lib_jsep_jsep_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/jsep/jsep.js");var Container=function(){_createClass2(Container,[{key:'x',value:function x(v){if(typeof v!=='undefined'){this._x=v;this.group.x(v);}else{return this.group.x();}}},{key:'y',value:function y(v){if(typeof v!=='undefined'){this._y=v;this.group.y(v);}else{return this.group.y();}}},{key:'dy',value:function dy(v){if(typeof v!=='undefined'){this._y+=v;this.group.dy(v);}else{return this._y;}}},{key:'getItemStartPoints',value:function getItemStartPoints(item){if(item.noStartPoints)return[];if(item.getStartPoints){return item.getStartPoints();}else{return[[item.x(),item.y()+item.height()/2]];}}},{key:'getItemEndPoints',value:function getItemEndPoints(item){if(item.getEndPointsFrom){item=item.getEndPointsFrom;}if(item.noEndPoints)return[];if(item.getEndPoints){return item.getEndPoints();}else{return[[item.x()+item.width(),item.y()+item.height()/2]];}}},{key:'getStartPoints',value:function getStartPoints(){if(this.noStartPoints)return[];switch(this.type){case'serial':if(this.c.length){var firstItem=this.c[0];return this.getItemStartPoints(firstItem);}else{return[];}case'parallel':{var points=[];for(var i=0;i<this.c.length;i++){points=points.concat(this.getItemStartPoints(this.c[i]));}return points;}}}},{key:'getEndPoints',value:function getEndPoints(){if(this.noEndPoints)return[];switch(this.type){case'serial':if(this.c.length){var lastItem=this.c[this.c.length-1];return this.getItemEndPoints(lastItem);}else{return[];}case'parallel':{var points=[];for(var i=0;i<this.c.length;i++){points=points.concat(this.getItemEndPoints(this.c[i]));}return points;}}}},{key:'width',value:function width(v){if(typeof v==='undefined'){return this.group.width();}}},{key:'height',value:function height(v){if(typeof v==='undefined'){return this.group.height();}}},{key:'addTo',value:function addTo(svgjs){this.group.addTo(svgjs);return this;}}]);function Container(type,node){_classCallCheck2(this,Container);this.gap=30;this.c=[];this.type=type;this.myNode=node;this.group=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().group();}_createClass2(Container,[{key:'push',value:function push(item){switch(this.type){case'serial':if(this.c.length){item.x(this.c[this.c.length-1].x()+this.c[this.c.length-1].width()+this.gap);}else{item.x(10);}item.y(10);this.c.push(item);var yCenter=0;for(var i=0;i<this.c.length;i++){yCenter=Math.max(yCenter,this.c[i].height()/2);}for(var _i9=0;_i9<this.c.length;_i9++){this.c[_i9].y(yCenter-this.c[_i9].height()/2);}break;case'parallel':if(this.c.length){var y=this.c[this.c.length-1].y()+this.c[this.c.length-1].height()+this.gap;item.y(y);}else{item.y(10);}item.x(10);this.c.push(item);break;}if(item instanceof Container){item.group.addTo(this.group);}else{item.addTo(this.group);}}},{key:'makeLines',value:function makeLines(endPoints,startPoints){var lines=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().group();for(var i=0;i<endPoints.length;i++){for(var j=0;j<startPoints.length;j++){var p1=endPoints[i];var p2=startPoints[j];var offset=-1;var path=mySVG.bezier(p1[0],p1[1],p2[0],p2[1],offset);if(this.strokeDashArray)path.attr({'stroke-dasharray':this.strokeDashArray});if(this.type=='serial'&&!this.strokeDashArray)path.attr({'marker-end':'url(#arrow)'});path.addTo(lines);}}return lines;}},{key:'renderLines',value:function renderLines(){var lines=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().group();for(var i=0;i<this.c.length-1;i++){if(this.c[i]instanceof Container){var l=this.c[i].renderLines();l.addTo(lines);}if(this.type==='serial'){var endPoints=this.getItemEndPoints(this.c[i]);var startPoints=this.getItemStartPoints(this.c[i+1]);var _l5=this.makeLines(endPoints,startPoints);if(_l5){_l5.addTo(lines);}}}if(this.c[this.c.length-1]instanceof Container){var _l6=this.c[this.c.length-1].renderLines();_l6.addTo(lines);}return lines;}},{key:'applyItemsAfterwards',value:function applyItemsAfterwards(){if(this.group.applyItemsAfterwards){this.group.applyItemsAfterwards();}for(var i=0;i<this.c.length;i++){if(this.c[i].applyItemsAfterwards){this.c[i].applyItemsAfterwards();}}}},{key:'breakLine',value:function breakLine(){switch(this.type){case'serial':for(var i=0;i<c.length-1;i++){w+=c[i].width()+this.gap;}w+=c[c.length-1].width();return w;case'parallel':}}}]);return Container;}();var mySVG=function(){_createClass2(mySVG,[{key:'model',value:function model(node){if(!node)return;if(Object.keys(this.modellingFunctions).indexOf(node.nodeName)===-1){return;}if(this.elementsFound.indexOf(node.nodeName)==-1){this.elementsFound.push(node.nodeName);}return this.modellingFunctions[node.nodeName](node);}}]);function mySVG(){_classCallCheck2(this,mySVG);this.elementsFound=[];}_createClass2(mySVG,[{key:'render',value:function render(node){if(!node)return;var draw=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])();var defs=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])('<defs>\n            <marker id="arrow" markerWidth="5" markerHeight="4" refX="5" refY="2" orient="auto" markerUnits="strokeWidth">\n              <path d="M0,0 L0,4 L5,2 z" fill="#000" />\n            </marker>\n          </defs>');defs.addTo(draw);var item=this.model(node);console.log(this.elementsFound);item.addTo(draw);if(item.renderLines){var lines=item.renderLines();lines.addTo(item.group);}item.x(10);item.y(10);if(item.applyItemsAfterwards){item.applyItemsAfterwards();};draw.node.dataset.source=encodeURIComponent(node.outerHTML.replace(/\n/g,' ').replace(/\t/g,' ').replace(/\s\s+/g,' ').trim());draw.size(item.width()+100,item.height()+100);this.svg=draw.node;return draw.node;}},{key:'renderKey',value:function renderKey(){var group=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().group();for(var i=0;i<this.elementsFound.length;i++){var example=this.examples[this.elementsFound[i]];if(!example){continue;}var el=document.createElement('div');el.innerHTML=example.html;var m=this.model(el);m.addTo(group);m.y(group.height()+25);if(m.renderLines){var lines=m.renderLines();lines.addTo(m.group);}}var svg=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().size(group.width()+50,group.height()+50);group.x(10);group.y(10);group.addTo(svg);return svg.node;}},{key:'download',value:function download(filename){var blob=new Blob([this.svg.outerHTML]);var element=document.createElement("a");element.download=filename;element.href=window.URL.createObjectURL(blob);element.click();element.remove();}},{key:'modellingFunctions',get:function get(){var _this42=this;return{'AA-SESSION':function AASESSION(node){var row=new Container('parallel',node);for(var i=0;i<node.originalChildNodes.length;i++){var m=_this42.model(node.originalChildNodes[i]);if(m)row.push(m);}row.myNode=node;return row;},'AA-SEQUENCE':function AASEQUENCE(node){var row=new Container('serial',node);for(var i=0;i<node.childNodes.length;i++){var m=_this42.model(node.childNodes[i]);if(m)row.push(m);}row.myNode=node;return row;},'AA-SCREEN':function AASCREEN(node){var g=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().group();var rect=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().rect(30,50).attr({fill:'none',stroke:'black','stroke-width':5,rx:3}).addTo(g);var text=void 0;if(node.getAttribute('name')){var name=node.getAttribute('name');if(name.length>14){name=name.substr(0,11)+"...";}text=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().text(function(add){add.tspan(name).font({family:'serif',style:'italic',size:'12px',weight:'bold'});});rect.x(g.x()+g.width()/2-rect.width()/2);rect.y(g.height()/2-rect.height()/2)+10;text.y(rect.y()+rect.height()+5);}g.myNode=node;g.nocentering=true;g.getEndPoints=function(){return[[rect.x()+rect.width(),rect.y()+rect.height()/2]];};g.getStartPoints=function(){return[[rect.x(),rect.y()+rect.height()/2]];};if(text){g.applyItemsAfterwards=function(){text.addTo(g);text.x(rect.x()+rect.width()/2-text.bbox().width/2);text.y(rect.y()+rect.height()+7);};}return g;},'AA-CHOOSE':function AACHOOSE(node){var chooseRow=new Container('serial',node);chooseRow.strokeDashArray='3';var chooseSVGItemStart=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().circle(20).attr({fill:'none',stroke:'black','stroke-width':5,'stroke-dasharray':0});var chooseSVGItemEnd=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().circle(2).attr({fill:'black',stroke:'black','stroke-width':5});var contentsRow=new Container('parallel',node);var maxContentWidth=0;var hasOtherwiseNode=false;var lastChild=void 0;for(var i=0;i<node.childNodes.length;i++){console.log(node.childNodes[i].nodeName);if(node.childNodes[i].nodeName==="AA-OTHERWISE"){hasOtherwiseNode=true;}var m=_this42.model(node.childNodes[i]);if(m){contentsRow.push(m);maxContentWidth=Math.max(m.width(),maxContentWidth);lastChild=m;}}console.log(maxContentWidth);if(!hasOtherwiseNode){var defaultPath=new Container('serial');var line=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().line();defaultPath.push(line);line.plot(10,100,maxContentWidth,100);line.attr({fill:'black',stroke:'black','stroke-dasharray':3,'stroke-width':3});contentsRow.push(defaultPath);}for(var _i10=0;_i10<contentsRow.c.length;_i10++){var _c8=contentsRow.c[_i10];_c8.x(maxContentWidth/2-_c8.width()/2);}chooseRow.push(chooseSVGItemStart);chooseRow.push(contentsRow);chooseRow.push(chooseSVGItemEnd);chooseRow.myNode=node;chooseRow.applyItemsAfterwards=function(){for(var _i11=0;_i11<contentsRow.c.length;_i11++){console.log(contentsRow.c[_i11]);if(contentsRow.c[_i11].applyItemsAfterwards){contentsRow.c[_i11].applyItemsAfterwards();}}};return chooseRow;},'AA-FUNCTION-RANDOM':function AAFUNCTIONRANDOM(node){var item=new Container('serial',node);var g=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().group();var text=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().text(function(add){add.tspan('f').font({family:'serif',style:'italic',size:'50px',weight:'bold'});add.tspan('random ').font({family:'serif',style:'italic',size:'15px'});});text.addTo(g);var varName=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().text(function(add){add.tspan(node.getAttribute("name")).font({family:'monospace',size:'12px',weight:'bold'});});varName.addTo(g);varName.dy(20);varName.dx(-10);item.push(g);item.myNode=node;return item;},'AA-WHEN':function AAWHEN(node){var container=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().group();var contentsRow=new Container('parallel');for(var i=0;i<node.childNodes.length;i++){var m=_this42.model(node.childNodes[i]);if(m)contentsRow.push(m);}var when=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().text(function(add){add.tspan('when').font({family:'serif',style:'italic',size:'30px',weight:'bold'});});var condition=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().text(function(add){var textToRender=node.getAttribute("test");if(textToRender){var j=Object(_lib_jsep_jsep_js__WEBPACK_IMPORTED_MODULE_1__["default"])(textToRender);if(j.left)if(j.left.name)if(j.left.name.length>7){var newName=j.left.name.substr(0,5)+"...";textToRender=textToRender.replace(j.left.name,newName);}}add.tspan(textToRender).font({family:'monospace',size:'12px',weight:'bold'});});contentsRow.addTo(container);when.addTo(container);condition.addTo(container);condition.y(when.y()+when.bbox().height);contentsRow.x(when.x()+when.bbox().width+40);contentsRow.y(when.y()+when.bbox().height/1.5-contentsRow.height()/2);container.strokeDashArray='3';container.myNode=node;container.getEndPoints=function(){var result=[[contentsRow.x()+contentsRow.width(),contentsRow.y()+contentsRow.height()/2]];return result;};container.getStartPoints=function(){var result=[[when.bbox().x,when.bbox().y+when.bbox().height/2]];return result;};container.applyItemsAfterwards=function(){for(var _i12=0;_i12<contentsRow.c.length;_i12++){console.log(contentsRow.c[_i12]);if(contentsRow.c[_i12].applyItemsAfterwards){contentsRow.c[_i12].applyItemsAfterwards();}}};return container;},'AA-OTHERWISE':function AAOTHERWISE(node){var container=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().group();var contentsRow=new Container('parallel');for(var i=0;i<node.childNodes.length;i++){var m=_this42.model(node.childNodes[i]);if(m)contentsRow.push(m);}var otherwise=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().text(function(add){add.tspan('otherwise').font({family:'serif',style:'italic',size:'30px',weight:'bold'});});contentsRow.addTo(container);otherwise.addTo(container);contentsRow.x(otherwise.x()+otherwise.bbox().width+10);contentsRow.y(otherwise.y()+otherwise.bbox().height/1.5-contentsRow.height()/2);container.strokeDashArray='3';container.myNode=node;container.getEndPoints=function(){var result=[[contentsRow.x()+contentsRow.width(),contentsRow.y()+contentsRow.height()/2]];return result;};container.getStartPoints=function(){var result=[[otherwise.bbox().x,otherwise.bbox().y+otherwise.bbox().height/2]];return result;};container.applyItemsAfterwards=function(){for(var _i13=0;_i13<contentsRow.c.length;_i13++){console.log(contentsRow.c[_i13]);if(contentsRow.c[_i13].applyItemsAfterwards){contentsRow.c[_i13].applyItemsAfterwards();}}};return container;},'DIV':function DIV(node){var row=new Container('parallel',node);for(var i=0;i<node.childNodes.length;i++){var m=_this42.model(node.childNodes[i]);if(m)row.push(m);}row.myNode=node;return row;}};}},{key:'examples',get:function get(){return{'AA-SEQUENCE':{html:'<aa-sequence><aa-screen name="first screen"></aa-screen><aa-screen name="second screen"></aa-screen></aa-sequence>',comment:"sequence"},'AA-SCREEN':{html:'<aa-screen name="<name>"></aa-screen>',comment:"screen"},'AA-FUNCTION-RANDOM':{html:'<aa-function-random></aa-function-random>',comment:"random number generator"},'AA-CHOOSE':{html:'<aa-choose><aa-when><aa-screen></aa-screen></aa-when></aa-choose>',comment:"random number generator"}};}}],[{key:'bezier',value:function bezier(p1x,p1y,p2x,p2y){var c1x=p1x+(p2x-p1x)/1.5;var c1y=p1y;var c2x=p2x-(p2x-p1x)/1.5;var c2y=p2y;var curve='M '+p1x+','+p1y+' C'+c1x+','+c1y+' '+c2x+','+c2y+' '+p2x+','+p2y;var path=Object(_svg_svg_js__WEBPACK_IMPORTED_MODULE_0__["default"])().path(curve);path.attr({fill:'none',stroke:'black','stroke-width':3});return path;}}]);return mySVG;}();},"./src/lib/regenerator-runtime/runtime.js":function srcLibRegeneratorRuntimeRuntimeJs(module,exports,__webpack_require__){var runtime=function(exports){"use strict";var Op=Object.prototype;var hasOwn=Op.hasOwnProperty;var defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value;};var undefined;var $Symbol=typeof Symbol==="function"?Symbol:{};var iteratorSymbol=$Symbol.iterator||"@@iterator";var asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator";var toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});return obj[key];}try{define({},"");}catch(err){define=function define(obj,key,value){return obj[key]=value;};}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator;var generator=Object.create(protoGenerator.prototype);var context=new Context(tryLocsList||[]);defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)});return generator;}exports.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)};}catch(err){return{type:"throw",arg:err};}}var GenStateSuspendedStart="suspendedStart";var GenStateSuspendedYield="suspendedYield";var GenStateExecuting="executing";var GenStateCompleted="completed";var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this;});var getProto=Object.getPrototypeOf;var NativeIteratorPrototype=getProto&&getProto(getProto(values([])));if(NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)){IteratorPrototype=NativeIteratorPrototype;}var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=GeneratorFunctionPrototype;defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:true});defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:true});GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction");function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg);});});}exports.isGeneratorFunction=function(genFun){var ctor=typeof genFun==="function"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)==="GeneratorFunction":false;};exports.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype);}else{genFun.__proto__=GeneratorFunctionPrototype;define(genFun,toStringTagSymbol,"GeneratorFunction");}genFun.prototype=Object.create(Gp);return genFun;};exports.awrap=function(arg){return{__await:arg};};function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type==="throw"){reject(record.arg);}else{var result=record.arg;var value=result.value;if(value&&(typeof value==='undefined'?'undefined':_typeof3(value))==="object"&&hasOwn.call(value,"__await")){return PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject);},function(err){invoke("throw",err,resolve,reject);});}return PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped;resolve(result);},function(error){return invoke("throw",error,resolve,reject);});}}var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject);});}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}defineProperty(this,"_invoke",{value:enqueue});}defineIteratorMethods(AsyncIterator.prototype);define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this;});exports.AsyncIterator=AsyncIterator;exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){if(PromiseImpl===void 0)PromiseImpl=Promise;var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error("Generator is already running");}if(state===GenStateCompleted){if(method==="throw"){throw arg;}return doneResult();}context.method=method;context.arg=arg;while(true){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult;}}if(context.method==="next"){context.sent=context._sent=context.arg;}else if(context.method==="throw"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw context.arg;}context.dispatchException(context.arg);}else if(context.method==="return"){context.abrupt("return",context.arg);}state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type==="normal"){state=context.done?GenStateCompleted:GenStateSuspendedYield;if(record.arg===ContinueSentinel){continue;}return{value:record.arg,done:context.done};}else if(record.type==="throw"){state=GenStateCompleted;context.method="throw";context.arg=record.arg;}}};}function maybeInvokeDelegate(delegate,context){var methodName=context.method;var method=delegate.iterator[methodName];if(method===undefined){context.delegate=null;if(methodName==="throw"&&delegate.iterator["return"]){context.method="return";context.arg=undefined;maybeInvokeDelegate(delegate,context);if(context.method==="throw"){return ContinueSentinel;}}if(methodName!=="return"){context.method="throw";context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method");}return ContinueSentinel;}var record=tryCatch(method,delegate.iterator,context.arg);if(record.type==="throw"){context.method="throw";context.arg=record.arg;context.delegate=null;return ContinueSentinel;}var info=record.arg;if(!info){context.method="throw";context.arg=new TypeError("iterator result is not an object");context.delegate=null;return ContinueSentinel;}if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc;if(context.method!=="return"){context.method="next";context.arg=undefined;}}else{return info;}context.delegate=null;return ContinueSentinel;}defineIteratorMethods(Gp);define(Gp,toStringTagSymbol,"Generator");define(Gp,iteratorSymbol,function(){return this;});define(Gp,"toString",function(){return"[object Generator]";});function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1];}if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3];}this.tryEntries.push(entry);}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal";delete record.arg;entry.completion=record;}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true);}exports.keys=function(val){var object=Object(val);var keys=[];for(var key in object){keys.push(key);}keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next;}}next.done=true;return next;};};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable);}if(typeof iterable.next==="function"){return iterable;}if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next;}}next.value=undefined;next.done=true;return next;};return next.next=next;}}return{next:doneResult};}exports.values=values;function doneResult(){return{value:undefined,done:true};}Context.prototype={constructor:Context,reset:function reset(skipTempReset){this.prev=0;this.next=0;this.sent=this._sent=undefined;this.done=false;this.delegate=null;this.method="next";this.arg=undefined;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)==="t"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined;}}}},stop:function stop(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type==="throw"){throw rootRecord.arg;}return this.rval;},dispatchException:function dispatchException(exception){if(this.done){throw exception;}var context=this;function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;if(caught){context.method="next";context.arg=undefined;}return!!caught;}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc==="root"){return handle("end");}if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc");var hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else{throw new Error("try statement without catch or finally");}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}if(finallyEntry&&(type==="break"||type==="continue")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null;}var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.method="next";this.next=finallyEntry.finallyLoc;return ContinueSentinel;}return this.complete(record);},complete:function complete(record,afterLoc){if(record.type==="throw"){throw record.arg;}if(record.type==="break"||record.type==="continue"){this.next=record.arg;}else if(record.type==="return"){this.rval=this.arg=record.arg;this.method="return";this.next="end";}else if(record.type==="normal"&&afterLoc){this.next=afterLoc;}return ContinueSentinel;},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel;}}},"catch":function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type==="throw"){var thrown=record.arg;resetTryEntry(entry);}return thrown;}}throw new Error("illegal catch attempt");},delegateYield:function delegateYield(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};if(this.method==="next"){this.arg=undefined;}return ContinueSentinel;}};return exports;}(true?module.exports:undefined);try{regeneratorRuntime=runtime;}catch(accidentalStrictMode){if((typeof globalThis==='undefined'?'undefined':_typeof3(globalThis))==="object"){globalThis.regeneratorRuntime=runtime;}else{Function("r","regeneratorRuntime = r")(runtime);}}},"./src/lib/svg/svg.js":function srcLibSvgSvgJs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);(function(global){/*!
* @svgdotjs/svg.js - A lightweight library for manipulating and animating SVG.
* @version 3.0.16
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Tue Nov 12 2019 21:57:16 GMT+0100 (GMT+01:00)
*/;var SVG=function(){'use strict';var commonjsGlobal=typeof globalThis!=='undefined'?globalThis:typeof window!=='undefined'?window:typeof global!=='undefined'?global:typeof self!=='undefined'?self:{};function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}var check=function check(it){return it&&it.Math==Math&&it;};var global_1=check((typeof globalThis==='undefined'?'undefined':_typeof3(globalThis))=='object'&&globalThis)||check((typeof window==='undefined'?'undefined':_typeof3(window))=='object'&&window)||check((typeof self==='undefined'?'undefined':_typeof3(self))=='object'&&self)||check((typeof commonjsGlobal==='undefined'?'undefined':_typeof3(commonjsGlobal))=='object'&&commonjsGlobal)||Function('return this')();var fails=function fails(exec){try{return!!exec();}catch(error){return true;}};var descriptors=!fails(function(){return Object.defineProperty({},'a',{get:function get(){return 7;}}).a!=7;});var nativePropertyIsEnumerable={}.propertyIsEnumerable;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);var f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable;}:nativePropertyIsEnumerable;var objectPropertyIsEnumerable={f:f};var createPropertyDescriptor=function createPropertyDescriptor(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value};};var toString={}.toString;var classofRaw=function classofRaw(it){return toString.call(it).slice(8,-1);};var split=''.split;var indexedObject=fails(function(){return!Object('z').propertyIsEnumerable(0);})?function(it){return classofRaw(it)=='String'?split.call(it,''):Object(it);}:Object;var requireObjectCoercible=function requireObjectCoercible(it){if(it==undefined)throw TypeError("Can't call method on "+it);return it;};var toIndexedObject=function toIndexedObject(it){return indexedObject(requireObjectCoercible(it));};var isObject=function isObject(it){return(typeof it==='undefined'?'undefined':_typeof3(it))==='object'?it!==null:typeof it==='function';};var toPrimitive=function toPrimitive(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&typeof(fn=input.toString)=='function'&&!isObject(val=fn.call(input)))return val;if(typeof(fn=input.valueOf)=='function'&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&typeof(fn=input.toString)=='function'&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value");};var hasOwnProperty={}.hasOwnProperty;var has=function has(it,key){return hasOwnProperty.call(it,key);};var document$1=global_1.document;var EXISTS=isObject(document$1)&&isObject(document$1.createElement);var documentCreateElement=function documentCreateElement(it){return EXISTS?document$1.createElement(it):{};};var ie8DomDefine=!descriptors&&!fails(function(){return Object.defineProperty(documentCreateElement('div'),'a',{get:function get(){return 7;}}).a!=7;});var nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var f$1=descriptors?nativeGetOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){O=toIndexedObject(O);P=toPrimitive(P,true);if(ie8DomDefine)try{return nativeGetOwnPropertyDescriptor(O,P);}catch(error){}if(has(O,P))return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O,P),O[P]);};var objectGetOwnPropertyDescriptor={f:f$1};var anObject=function anObject(it){if(!isObject(it)){throw TypeError(String(it)+' is not an object');}return it;};var nativeDefineProperty=Object.defineProperty;var f$2=descriptors?nativeDefineProperty:function defineProperty(O,P,Attributes){anObject(O);P=toPrimitive(P,true);anObject(Attributes);if(ie8DomDefine)try{return nativeDefineProperty(O,P,Attributes);}catch(error){}if('get'in Attributes||'set'in Attributes)throw TypeError('Accessors not supported');if('value'in Attributes)O[P]=Attributes.value;return O;};var objectDefineProperty={f:f$2};var createNonEnumerableProperty=descriptors?function(object,key,value){return objectDefineProperty.f(object,key,createPropertyDescriptor(1,value));}:function(object,key,value){object[key]=value;return object;};var setGlobal=function setGlobal(key,value){try{createNonEnumerableProperty(global_1,key,value);}catch(error){global_1[key]=value;}return value;};var SHARED='__core-js_shared__';var store=global_1[SHARED]||setGlobal(SHARED,{});var sharedStore=store;var shared=createCommonjsModule(function(module){(module.exports=function(key,value){return sharedStore[key]||(sharedStore[key]=value!==undefined?value:{});})('versions',[]).push({version:'3.3.6',mode:'global',copyright:' 2019 Denis Pushkarev (zloirock.ru)'});});var functionToString=shared('native-function-to-string',Function.toString);var WeakMap=global_1.WeakMap;var nativeWeakMap=typeof WeakMap==='function'&&/native code/.test(functionToString.call(WeakMap));var id=0;var postfix=Math.random();var uid=function uid(key){return'Symbol('+String(key===undefined?'':key)+')_'+(++id+postfix).toString(36);};var keys=shared('keys');var sharedKey=function sharedKey(key){return keys[key]||(keys[key]=uid(key));};var hiddenKeys={};var WeakMap$1=global_1.WeakMap;var set,get,has$1;var enforce=function enforce(it){return has$1(it)?get(it):set(it,{});};var getterFor=function getterFor(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE){throw TypeError('Incompatible receiver, '+TYPE+' required');}return state;};};if(nativeWeakMap){var store$1=new WeakMap$1();var wmget=store$1.get;var wmhas=store$1.has;var wmset=store$1.set;set=function set(it,metadata){wmset.call(store$1,it,metadata);return metadata;};get=function get(it){return wmget.call(store$1,it)||{};};has$1=function has$1(it){return wmhas.call(store$1,it);};}else{var STATE=sharedKey('state');hiddenKeys[STATE]=true;set=function set(it,metadata){createNonEnumerableProperty(it,STATE,metadata);return metadata;};get=function get(it){return has(it,STATE)?it[STATE]:{};};has$1=function has$1(it){return has(it,STATE);};}var internalState={set:set,get:get,has:has$1,enforce:enforce,getterFor:getterFor};var redefine=createCommonjsModule(function(module){var getInternalState=internalState.get;var enforceInternalState=internalState.enforce;var TEMPLATE=String(functionToString).split('toString');shared('inspectSource',function(it){return functionToString.call(it);});(module.exports=function(O,key,value,options){var unsafe=options?!!options.unsafe:false;var simple=options?!!options.enumerable:false;var noTargetGet=options?!!options.noTargetGet:false;if(typeof value=='function'){if(typeof key=='string'&&!has(value,'name'))createNonEnumerableProperty(value,'name',key);enforceInternalState(value).source=TEMPLATE.join(typeof key=='string'?key:'');}if(O===global_1){if(simple)O[key]=value;else setGlobal(key,value);return;}else if(!unsafe){delete O[key];}else if(!noTargetGet&&O[key]){simple=true;}if(simple)O[key]=value;else createNonEnumerableProperty(O,key,value);})(Function.prototype,'toString',function toString(){return typeof this=='function'&&getInternalState(this).source||functionToString.call(this);});});var path=global_1;var aFunction=function aFunction(variable){return typeof variable=='function'?variable:undefined;};var getBuiltIn=function getBuiltIn(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global_1[namespace]):path[namespace]&&path[namespace][method]||global_1[namespace]&&global_1[namespace][method];};var ceil=Math.ceil;var floor=Math.floor;var toInteger=function toInteger(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument);};var min=Math.min;var toLength=function toLength(argument){return argument>0?min(toInteger(argument),0x1FFFFFFFFFFFFF):0;};var max=Math.max;var min$1=Math.min;var toAbsoluteIndex=function toAbsoluteIndex(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min$1(integer,length);};var createMethod=function createMethod(IS_INCLUDES){return function($this,el,fromIndex){var O=toIndexedObject($this);var length=toLength(O.length);var index=toAbsoluteIndex(fromIndex,length);var value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true;}else for(;length>index;index++){if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;}return!IS_INCLUDES&&-1;};};var arrayIncludes={includes:createMethod(true),indexOf:createMethod(false)};var indexOf=arrayIncludes.indexOf;var objectKeysInternal=function objectKeysInternal(object,names){var O=toIndexedObject(object);var i=0;var result=[];var key;for(key in O){!has(hiddenKeys,key)&&has(O,key)&&result.push(key);}while(names.length>i){if(has(O,key=names[i++])){~indexOf(result,key)||result.push(key);}}return result;};var enumBugKeys=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf'];var hiddenKeys$1=enumBugKeys.concat('length','prototype');var f$3=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return objectKeysInternal(O,hiddenKeys$1);};var objectGetOwnPropertyNames={f:f$3};var f$4=Object.getOwnPropertySymbols;var objectGetOwnPropertySymbols={f:f$4};var ownKeys=getBuiltIn('Reflect','ownKeys')||function ownKeys(it){var keys=objectGetOwnPropertyNames.f(anObject(it));var getOwnPropertySymbols=objectGetOwnPropertySymbols.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys;};var copyConstructorProperties=function copyConstructorProperties(target,source){var keys=ownKeys(source);var defineProperty=objectDefineProperty.f;var getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f;for(var i=0;i<keys.length;i++){var key=keys[i];if(!has(target,key))defineProperty(target,key,getOwnPropertyDescriptor(source,key));}};var replacement=/#|\.prototype\./;var isForced=function isForced(feature,detection){var value=data[normalize(feature)];return value==POLYFILL?true:value==NATIVE?false:typeof detection=='function'?fails(detection):!!detection;};var normalize=isForced.normalize=function(string){return String(string).replace(replacement,'.').toLowerCase();};var data=isForced.data={};var NATIVE=isForced.NATIVE='N';var POLYFILL=isForced.POLYFILL='P';var isForced_1=isForced;var getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f;var _export=function _export(options,source){var TARGET=options.target;var GLOBAL=options.global;var STATIC=options.stat;var FORCED,target,key,targetProperty,sourceProperty,descriptor;if(GLOBAL){target=global_1;}else if(STATIC){target=global_1[TARGET]||setGlobal(TARGET,{});}else{target=(global_1[TARGET]||{}).prototype;}if(target)for(key in source){sourceProperty=source[key];if(options.noTargetGet){descriptor=getOwnPropertyDescriptor$1(target,key);targetProperty=descriptor&&descriptor.value;}else targetProperty=target[key];FORCED=isForced_1(GLOBAL?key:TARGET+(STATIC?'.':'#')+key,options.forced);if(!FORCED&&targetProperty!==undefined){if((typeof sourceProperty==='undefined'?'undefined':_typeof3(sourceProperty))===(typeof targetProperty==='undefined'?'undefined':_typeof3(targetProperty)))continue;copyConstructorProperties(sourceProperty,targetProperty);}if(options.sham||targetProperty&&targetProperty.sham){createNonEnumerableProperty(sourceProperty,'sham',true);}redefine(target,key,sourceProperty,options);}};var objectKeys=Object.keys||function keys(O){return objectKeysInternal(O,enumBugKeys);};var toObject=function toObject(argument){return Object(requireObjectCoercible(argument));};var nativeAssign=Object.assign;var objectAssign=!nativeAssign||fails(function(){var A={};var B={};var symbol=Symbol();var alphabet='abcdefghijklmnopqrst';A[symbol]=7;alphabet.split('').forEach(function(chr){B[chr]=chr;});return nativeAssign({},A)[symbol]!=7||objectKeys(nativeAssign({},B)).join('')!=alphabet;})?function assign(target,source){var T=toObject(target);var argumentsLength=arguments.length;var index=1;var getOwnPropertySymbols=objectGetOwnPropertySymbols.f;var propertyIsEnumerable=objectPropertyIsEnumerable.f;while(argumentsLength>index){var S=indexedObject(arguments[index++]);var keys=getOwnPropertySymbols?objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S);var length=keys.length;var j=0;var key;while(length>j){key=keys[j++];if(!descriptors||propertyIsEnumerable.call(S,key))T[key]=S[key];}}return T;}:nativeAssign;_export({target:'Object',stat:true,forced:Object.assign!==objectAssign},{assign:objectAssign});var isArray=Array.isArray||function isArray(arg){return classofRaw(arg)=='Array';};var createProperty=function createProperty(object,key,value){var propertyKey=toPrimitive(key);if(propertyKey in object)objectDefineProperty.f(object,propertyKey,createPropertyDescriptor(0,value));else object[propertyKey]=value;};var nativeSymbol=!!Object.getOwnPropertySymbols&&!fails(function(){return!String(Symbol());});var Symbol$1=global_1.Symbol;var store$2=shared('wks');var wellKnownSymbol=function wellKnownSymbol(name){return store$2[name]||(store$2[name]=nativeSymbol&&Symbol$1[name]||(nativeSymbol?Symbol$1:uid)('Symbol.'+name));};var userAgent=getBuiltIn('navigator','userAgent')||'';var process=global_1.process;var versions=process&&process.versions;var v8=versions&&versions.v8;var match,version;if(v8){match=v8.split('.');version=match[0]+match[1];}else if(userAgent){match=userAgent.match(/Edge\/(\d+)/);if(!match||match[1]>=74){match=userAgent.match(/Chrome\/(\d+)/);if(match)version=match[1];}}var v8Version=version&&+version;var SPECIES=wellKnownSymbol('species');var arrayMethodHasSpeciesSupport=function arrayMethodHasSpeciesSupport(METHOD_NAME){return v8Version>=51||!fails(function(){var array=[];var constructor=array.constructor={};constructor[SPECIES]=function(){return{foo:1};};return array[METHOD_NAME](Boolean).foo!==1;});};var SPECIES$1=wellKnownSymbol('species');var nativeSlice=[].slice;var max$1=Math.max;_export({target:'Array',proto:true,forced:!arrayMethodHasSpeciesSupport('slice')},{slice:function slice(start,end){var O=toIndexedObject(this);var length=toLength(O.length);var k=toAbsoluteIndex(start,length);var fin=toAbsoluteIndex(end===undefined?length:end,length);var Constructor,result,n;if(isArray(O)){Constructor=O.constructor;if(typeof Constructor=='function'&&(Constructor===Array||isArray(Constructor.prototype))){Constructor=undefined;}else if(isObject(Constructor)){Constructor=Constructor[SPECIES$1];if(Constructor===null)Constructor=undefined;}if(Constructor===Array||Constructor===undefined){return nativeSlice.call(O,k,fin);}}result=new(Constructor===undefined?Array:Constructor)(max$1(fin-k,0));for(n=0;k<fin;k++,n++){if(k in O)createProperty(result,n,O[k]);}result.length=n;return result;}});var defineProperty=objectDefineProperty.f;var FunctionPrototype=Function.prototype;var FunctionPrototypeToString=FunctionPrototype.toString;var nameRE=/^\s*function ([^ (]*)/;var NAME='name';if(descriptors&&!(NAME in FunctionPrototype)){defineProperty(FunctionPrototype,NAME,{configurable:true,get:function get(){try{return FunctionPrototypeToString.call(this).match(nameRE)[1];}catch(error){return'';}}});}var nativeGetOwnPropertyNames=objectGetOwnPropertyNames.f;var toString$1={}.toString;var windowNames=(typeof window==='undefined'?'undefined':_typeof3(window))=='object'&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function getWindowNames(it){try{return nativeGetOwnPropertyNames(it);}catch(error){return windowNames.slice();}};var f$5=function getOwnPropertyNames(it){return windowNames&&toString$1.call(it)=='[object Window]'?getWindowNames(it):nativeGetOwnPropertyNames(toIndexedObject(it));};var objectGetOwnPropertyNamesExternal={f:f$5};var nativeGetOwnPropertyNames$1=objectGetOwnPropertyNamesExternal.f;var FAILS_ON_PRIMITIVES=fails(function(){return!Object.getOwnPropertyNames(1);});_export({target:'Object',stat:true,forced:FAILS_ON_PRIMITIVES},{getOwnPropertyNames:nativeGetOwnPropertyNames$1});function _typeof2(obj){if(typeof Symbol==="function"&&_typeof3(Symbol.iterator)==="symbol"){_typeof2=function _typeof2(obj){return typeof obj==='undefined'?'undefined':_typeof3(obj);};}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj==='undefined'?'undefined':_typeof3(obj);};}return _typeof2(obj);}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var objectDefineProperties=descriptors?Object.defineProperties:function defineProperties(O,Properties){anObject(O);var keys=objectKeys(Properties);var length=keys.length;var index=0;var key;while(length>index){objectDefineProperty.f(O,key=keys[index++],Properties[key]);}return O;};var html=getBuiltIn('document','documentElement');var IE_PROTO=sharedKey('IE_PROTO');var PROTOTYPE='prototype';var Empty=function Empty(){};var _createDict=function createDict(){var iframe=documentCreateElement('iframe');var length=enumBugKeys.length;var lt='<';var script='script';var gt='>';var js='java'+script+':';var iframeDocument;iframe.style.display='none';html.appendChild(iframe);iframe.src=String(js);iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write(lt+script+gt+'document.F=Object'+lt+'/'+script+gt);iframeDocument.close();_createDict=iframeDocument.F;while(length--){delete _createDict[PROTOTYPE][enumBugKeys[length]];}return _createDict();};var objectCreate=Object.create||function create(O,Properties){var result;if(O!==null){Empty[PROTOTYPE]=anObject(O);result=new Empty();Empty[PROTOTYPE]=null;result[IE_PROTO]=O;}else result=_createDict();return Properties===undefined?result:objectDefineProperties(result,Properties);};hiddenKeys[IE_PROTO]=true;var f$6=wellKnownSymbol;var wrappedWellKnownSymbol={f:f$6};var defineProperty$1=objectDefineProperty.f;var defineWellKnownSymbol=function defineWellKnownSymbol(NAME){var _Symbol2=path.Symbol||(path.Symbol={});if(!has(_Symbol2,NAME))defineProperty$1(_Symbol2,NAME,{value:wrappedWellKnownSymbol.f(NAME)});};var defineProperty$2=objectDefineProperty.f;var TO_STRING_TAG=wellKnownSymbol('toStringTag');var setToStringTag=function setToStringTag(it,TAG,STATIC){if(it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG)){defineProperty$2(it,TO_STRING_TAG,{configurable:true,value:TAG});}};var aFunction$1=function aFunction$1(it){if(typeof it!='function'){throw TypeError(String(it)+' is not a function');}return it;};var bindContext=function bindContext(fn,that,length){aFunction$1(fn);if(that===undefined)return fn;switch(length){case 0:return function(){return fn.call(that);};case 1:return function(a){return fn.call(that,a);};case 2:return function(a,b){return fn.call(that,a,b);};case 3:return function(a,b,c){return fn.call(that,a,b,c);};}return function(){return fn.apply(that,arguments);};};var SPECIES$2=wellKnownSymbol('species');var arraySpeciesCreate=function arraySpeciesCreate(originalArray,length){var C;if(isArray(originalArray)){C=originalArray.constructor;if(typeof C=='function'&&(C===Array||isArray(C.prototype)))C=undefined;else if(isObject(C)){C=C[SPECIES$2];if(C===null)C=undefined;}}return new(C===undefined?Array:C)(length===0?0:length);};var push=[].push;var createMethod$1=function createMethod$1(TYPE){var IS_MAP=TYPE==1;var IS_FILTER=TYPE==2;var IS_SOME=TYPE==3;var IS_EVERY=TYPE==4;var IS_FIND_INDEX=TYPE==6;var NO_HOLES=TYPE==5||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){var O=toObject($this);var self=indexedObject(O);var boundFunction=bindContext(callbackfn,that,3);var length=toLength(self.length);var index=0;var create=specificCreate||arraySpeciesCreate;var target=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined;var value,result;for(;length>index;index++){if(NO_HOLES||index in self){value=self[index];result=boundFunction(value,index,O);if(TYPE){if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return true;case 5:return value;case 6:return index;case 2:push.call(target,value);}else if(IS_EVERY)return false;}}}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target;};};var arrayIteration={forEach:createMethod$1(0),map:createMethod$1(1),filter:createMethod$1(2),some:createMethod$1(3),every:createMethod$1(4),find:createMethod$1(5),findIndex:createMethod$1(6)};var $forEach=arrayIteration.forEach;var HIDDEN=sharedKey('hidden');var SYMBOL='Symbol';var PROTOTYPE$1='prototype';var TO_PRIMITIVE=wellKnownSymbol('toPrimitive');var setInternalState=internalState.set;var getInternalState=internalState.getterFor(SYMBOL);var ObjectPrototype=Object[PROTOTYPE$1];var $Symbol=global_1.Symbol;var JSON$1=global_1.JSON;var nativeJSONStringify=JSON$1&&JSON$1.stringify;var nativeGetOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f;var nativeDefineProperty$1=objectDefineProperty.f;var nativeGetOwnPropertyNames$2=objectGetOwnPropertyNamesExternal.f;var nativePropertyIsEnumerable$1=objectPropertyIsEnumerable.f;var AllSymbols=shared('symbols');var ObjectPrototypeSymbols=shared('op-symbols');var StringToSymbolRegistry=shared('string-to-symbol-registry');var SymbolToStringRegistry=shared('symbol-to-string-registry');var WellKnownSymbolsStore=shared('wks');var QObject=global_1.QObject;var USE_SETTER=!QObject||!QObject[PROTOTYPE$1]||!QObject[PROTOTYPE$1].findChild;var setSymbolDescriptor=descriptors&&fails(function(){return objectCreate(nativeDefineProperty$1({},'a',{get:function get(){return nativeDefineProperty$1(this,'a',{value:7}).a;}})).a!=7;})?function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor$1(ObjectPrototype,P);if(ObjectPrototypeDescriptor)delete ObjectPrototype[P];nativeDefineProperty$1(O,P,Attributes);if(ObjectPrototypeDescriptor&&O!==ObjectPrototype){nativeDefineProperty$1(ObjectPrototype,P,ObjectPrototypeDescriptor);}}:nativeDefineProperty$1;var wrap=function wrap(tag,description){var symbol=AllSymbols[tag]=objectCreate($Symbol[PROTOTYPE$1]);setInternalState(symbol,{type:SYMBOL,tag:tag,description:description});if(!descriptors)symbol.description=description;return symbol;};var isSymbol=nativeSymbol&&_typeof3($Symbol.iterator)=='symbol'?function(it){return(typeof it==='undefined'?'undefined':_typeof3(it))=='symbol';}:function(it){return Object(it)instanceof $Symbol;};var $defineProperty=function defineProperty(O,P,Attributes){if(O===ObjectPrototype)$defineProperty(ObjectPrototypeSymbols,P,Attributes);anObject(O);var key=toPrimitive(P,true);anObject(Attributes);if(has(AllSymbols,key)){if(!Attributes.enumerable){if(!has(O,HIDDEN))nativeDefineProperty$1(O,HIDDEN,createPropertyDescriptor(1,{}));O[HIDDEN][key]=true;}else{if(has(O,HIDDEN)&&O[HIDDEN][key])O[HIDDEN][key]=false;Attributes=objectCreate(Attributes,{enumerable:createPropertyDescriptor(0,false)});}return setSymbolDescriptor(O,key,Attributes);}return nativeDefineProperty$1(O,key,Attributes);};var $defineProperties=function defineProperties(O,Properties){anObject(O);var properties=toIndexedObject(Properties);var keys=objectKeys(properties).concat($getOwnPropertySymbols(properties));$forEach(keys,function(key){if(!descriptors||$propertyIsEnumerable.call(properties,key))$defineProperty(O,key,properties[key]);});return O;};var $create=function create(O,Properties){return Properties===undefined?objectCreate(O):$defineProperties(objectCreate(O),Properties);};var $propertyIsEnumerable=function propertyIsEnumerable(V){var P=toPrimitive(V,true);var enumerable=nativePropertyIsEnumerable$1.call(this,P);if(this===ObjectPrototype&&has(AllSymbols,P)&&!has(ObjectPrototypeSymbols,P))return false;return enumerable||!has(this,P)||!has(AllSymbols,P)||has(this,HIDDEN)&&this[HIDDEN][P]?enumerable:true;};var $getOwnPropertyDescriptor=function getOwnPropertyDescriptor(O,P){var it=toIndexedObject(O);var key=toPrimitive(P,true);if(it===ObjectPrototype&&has(AllSymbols,key)&&!has(ObjectPrototypeSymbols,key))return;var descriptor=nativeGetOwnPropertyDescriptor$1(it,key);if(descriptor&&has(AllSymbols,key)&&!(has(it,HIDDEN)&&it[HIDDEN][key])){descriptor.enumerable=true;}return descriptor;};var $getOwnPropertyNames=function getOwnPropertyNames(O){var names=nativeGetOwnPropertyNames$2(toIndexedObject(O));var result=[];$forEach(names,function(key){if(!has(AllSymbols,key)&&!has(hiddenKeys,key))result.push(key);});return result;};var $getOwnPropertySymbols=function getOwnPropertySymbols(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype;var names=nativeGetOwnPropertyNames$2(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject(O));var result=[];$forEach(names,function(key){if(has(AllSymbols,key)&&(!IS_OBJECT_PROTOTYPE||has(ObjectPrototype,key))){result.push(AllSymbols[key]);}});return result;};if(!nativeSymbol){$Symbol=function _Symbol3(){if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor');var description=!arguments.length||arguments[0]===undefined?undefined:String(arguments[0]);var tag=uid(description);var setter=function setter(value){if(this===ObjectPrototype)setter.call(ObjectPrototypeSymbols,value);if(has(this,HIDDEN)&&has(this[HIDDEN],tag))this[HIDDEN][tag]=false;setSymbolDescriptor(this,tag,createPropertyDescriptor(1,value));};if(descriptors&&USE_SETTER)setSymbolDescriptor(ObjectPrototype,tag,{configurable:true,set:setter});return wrap(tag,description);};redefine($Symbol[PROTOTYPE$1],'toString',function toString(){return getInternalState(this).tag;});objectPropertyIsEnumerable.f=$propertyIsEnumerable;objectDefineProperty.f=$defineProperty;objectGetOwnPropertyDescriptor.f=$getOwnPropertyDescriptor;objectGetOwnPropertyNames.f=objectGetOwnPropertyNamesExternal.f=$getOwnPropertyNames;objectGetOwnPropertySymbols.f=$getOwnPropertySymbols;if(descriptors){nativeDefineProperty$1($Symbol[PROTOTYPE$1],'description',{configurable:true,get:function description(){return getInternalState(this).description;}});{redefine(ObjectPrototype,'propertyIsEnumerable',$propertyIsEnumerable,{unsafe:true});}}wrappedWellKnownSymbol.f=function(name){return wrap(wellKnownSymbol(name),name);};}_export({global:true,wrap:true,forced:!nativeSymbol,sham:!nativeSymbol},{Symbol:$Symbol});$forEach(objectKeys(WellKnownSymbolsStore),function(name){defineWellKnownSymbol(name);});_export({target:SYMBOL,stat:true,forced:!nativeSymbol},{'for':function _for(key){var string=String(key);if(has(StringToSymbolRegistry,string))return StringToSymbolRegistry[string];var symbol=$Symbol(string);StringToSymbolRegistry[string]=symbol;SymbolToStringRegistry[symbol]=string;return symbol;},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+' is not a symbol');if(has(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym];},useSetter:function useSetter(){USE_SETTER=true;},useSimple:function useSimple(){USE_SETTER=false;}});_export({target:'Object',stat:true,forced:!nativeSymbol,sham:!descriptors},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});_export({target:'Object',stat:true,forced:!nativeSymbol},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});_export({target:'Object',stat:true,forced:fails(function(){objectGetOwnPropertySymbols.f(1);})},{getOwnPropertySymbols:function getOwnPropertySymbols(it){return objectGetOwnPropertySymbols.f(toObject(it));}});JSON$1&&_export({target:'JSON',stat:true,forced:!nativeSymbol||fails(function(){var symbol=$Symbol();return nativeJSONStringify([symbol])!='[null]'||nativeJSONStringify({a:symbol})!='{}'||nativeJSONStringify(Object(symbol))!='{}';})},{stringify:function stringify(it){var args=[it];var index=1;var replacer,$replacer;while(arguments.length>index){args.push(arguments[index++]);}$replacer=replacer=args[1];if(!isObject(replacer)&&it===undefined||isSymbol(it))return;if(!isArray(replacer))replacer=function replacer(key,value){if(typeof $replacer=='function')value=$replacer.call(this,key,value);if(!isSymbol(value))return value;};args[1]=replacer;return nativeJSONStringify.apply(JSON$1,args);}});if(!$Symbol[PROTOTYPE$1][TO_PRIMITIVE]){createNonEnumerableProperty($Symbol[PROTOTYPE$1],TO_PRIMITIVE,$Symbol[PROTOTYPE$1].valueOf);}setToStringTag($Symbol,SYMBOL);hiddenKeys[HIDDEN]=true;var defineProperty$3=objectDefineProperty.f;var NativeSymbol=global_1.Symbol;if(descriptors&&typeof NativeSymbol=='function'&&(!('description'in NativeSymbol.prototype)||NativeSymbol().description!==undefined)){var EmptyStringDescriptionStore={};var SymbolWrapper=function _Symbol4(){var description=arguments.length<1||arguments[0]===undefined?undefined:String(arguments[0]);var result=this instanceof SymbolWrapper?new NativeSymbol(description):description===undefined?NativeSymbol():NativeSymbol(description);if(description==='')EmptyStringDescriptionStore[result]=true;return result;};copyConstructorProperties(SymbolWrapper,NativeSymbol);var symbolPrototype=SymbolWrapper.prototype=NativeSymbol.prototype;symbolPrototype.constructor=SymbolWrapper;var symbolToString=symbolPrototype.toString;var native=String(NativeSymbol('test'))=='Symbol(test)';var regexp=/^Symbol\((.*)\)[^)]+$/;defineProperty$3(symbolPrototype,'description',{configurable:true,get:function description(){var symbol=isObject(this)?this.valueOf():this;var string=symbolToString.call(symbol);if(has(EmptyStringDescriptionStore,symbol))return'';var desc=native?string.slice(7,-1):string.replace(regexp,'$1');return desc===''?undefined:desc;}});_export({global:true,forced:true},{Symbol:SymbolWrapper});}defineWellKnownSymbol('iterator');var UNSCOPABLES=wellKnownSymbol('unscopables');var ArrayPrototype=Array.prototype;if(ArrayPrototype[UNSCOPABLES]==undefined){createNonEnumerableProperty(ArrayPrototype,UNSCOPABLES,objectCreate(null));}var addToUnscopables=function addToUnscopables(key){ArrayPrototype[UNSCOPABLES][key]=true;};var iterators={};var correctPrototypeGetter=!fails(function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F())!==F.prototype;});var IE_PROTO$1=sharedKey('IE_PROTO');var ObjectPrototype$1=Object.prototype;var objectGetPrototypeOf=correctPrototypeGetter?Object.getPrototypeOf:function(O){O=toObject(O);if(has(O,IE_PROTO$1))return O[IE_PROTO$1];if(typeof O.constructor=='function'&&O instanceof O.constructor){return O.constructor.prototype;}return O instanceof Object?ObjectPrototype$1:null;};var ITERATOR=wellKnownSymbol('iterator');var BUGGY_SAFARI_ITERATORS=false;var returnThis=function returnThis(){return this;};var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator;if([].keys){arrayIterator=[].keys();if(!('next'in arrayIterator))BUGGY_SAFARI_ITERATORS=true;else{PrototypeOfArrayIteratorPrototype=objectGetPrototypeOf(objectGetPrototypeOf(arrayIterator));if(PrototypeOfArrayIteratorPrototype!==Object.prototype)IteratorPrototype=PrototypeOfArrayIteratorPrototype;}}if(IteratorPrototype==undefined)IteratorPrototype={};if(!has(IteratorPrototype,ITERATOR)){createNonEnumerableProperty(IteratorPrototype,ITERATOR,returnThis);}var iteratorsCore={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS};var IteratorPrototype$1=iteratorsCore.IteratorPrototype;var returnThis$1=function returnThis$1(){return this;};var createIteratorConstructor=function createIteratorConstructor(IteratorConstructor,NAME,next){var TO_STRING_TAG=NAME+' Iterator';IteratorConstructor.prototype=objectCreate(IteratorPrototype$1,{next:createPropertyDescriptor(1,next)});setToStringTag(IteratorConstructor,TO_STRING_TAG,false);iterators[TO_STRING_TAG]=returnThis$1;return IteratorConstructor;};var aPossiblePrototype=function aPossiblePrototype(it){if(!isObject(it)&&it!==null){throw TypeError("Can't set "+String(it)+' as a prototype');}return it;};var objectSetPrototypeOf=Object.setPrototypeOf||('__proto__'in{}?function(){var CORRECT_SETTER=false;var test={};var setter;try{setter=Object.getOwnPropertyDescriptor(Object.prototype,'__proto__').set;setter.call(test,[]);CORRECT_SETTER=test instanceof Array;}catch(error){}return function setPrototypeOf(O,proto){anObject(O);aPossiblePrototype(proto);if(CORRECT_SETTER)setter.call(O,proto);else O.__proto__=proto;return O;};}():undefined);var IteratorPrototype$2=iteratorsCore.IteratorPrototype;var BUGGY_SAFARI_ITERATORS$1=iteratorsCore.BUGGY_SAFARI_ITERATORS;var ITERATOR$1=wellKnownSymbol('iterator');var KEYS='keys';var VALUES='values';var ENTRIES='entries';var returnThis$2=function returnThis$2(){return this;};var defineIterator=function defineIterator(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var getIterationMethod=function getIterationMethod(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS$1&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case KEYS:return function keys(){return new IteratorConstructor(this,KIND);};case VALUES:return function values(){return new IteratorConstructor(this,KIND);};case ENTRIES:return function entries(){return new IteratorConstructor(this,KIND);};}return function(){return new IteratorConstructor(this);};};var TO_STRING_TAG=NAME+' Iterator';var INCORRECT_VALUES_NAME=false;var IterablePrototype=Iterable.prototype;var nativeIterator=IterablePrototype[ITERATOR$1]||IterablePrototype['@@iterator']||DEFAULT&&IterablePrototype[DEFAULT];var defaultIterator=!BUGGY_SAFARI_ITERATORS$1&&nativeIterator||getIterationMethod(DEFAULT);var anyNativeIterator=NAME=='Array'?IterablePrototype.entries||nativeIterator:nativeIterator;var CurrentIteratorPrototype,methods,KEY;if(anyNativeIterator){CurrentIteratorPrototype=objectGetPrototypeOf(anyNativeIterator.call(new Iterable()));if(IteratorPrototype$2!==Object.prototype&&CurrentIteratorPrototype.next){if(objectGetPrototypeOf(CurrentIteratorPrototype)!==IteratorPrototype$2){if(objectSetPrototypeOf){objectSetPrototypeOf(CurrentIteratorPrototype,IteratorPrototype$2);}else if(typeof CurrentIteratorPrototype[ITERATOR$1]!='function'){createNonEnumerableProperty(CurrentIteratorPrototype,ITERATOR$1,returnThis$2);}}setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,true);}}if(DEFAULT==VALUES&&nativeIterator&&nativeIterator.name!==VALUES){INCORRECT_VALUES_NAME=true;defaultIterator=function values(){return nativeIterator.call(this);};}if(IterablePrototype[ITERATOR$1]!==defaultIterator){createNonEnumerableProperty(IterablePrototype,ITERATOR$1,defaultIterator);}iterators[NAME]=defaultIterator;if(DEFAULT){methods={values:getIterationMethod(VALUES),keys:IS_SET?defaultIterator:getIterationMethod(KEYS),entries:getIterationMethod(ENTRIES)};if(FORCED)for(KEY in methods){if(BUGGY_SAFARI_ITERATORS$1||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype)){redefine(IterablePrototype,KEY,methods[KEY]);}}else _export({target:NAME,proto:true,forced:BUGGY_SAFARI_ITERATORS$1||INCORRECT_VALUES_NAME},methods);}return methods;};var ARRAY_ITERATOR='Array Iterator';var setInternalState$1=internalState.set;var getInternalState$1=internalState.getterFor(ARRAY_ITERATOR);var es_array_iterator=defineIterator(Array,'Array',function(iterated,kind){setInternalState$1(this,{type:ARRAY_ITERATOR,target:toIndexedObject(iterated),index:0,kind:kind});},function(){var state=getInternalState$1(this);var target=state.target;var kind=state.kind;var index=state.index++;if(!target||index>=target.length){state.target=undefined;return{value:undefined,done:true};}if(kind=='keys')return{value:index,done:false};if(kind=='values')return{value:target[index],done:false};return{value:[index,target[index]],done:false};},'values');iterators.Arguments=iterators.Array;addToUnscopables('keys');addToUnscopables('values');addToUnscopables('entries');var TO_STRING_TAG$1=wellKnownSymbol('toStringTag');var CORRECT_ARGUMENTS=classofRaw(function(){return arguments;}())=='Arguments';var tryGet=function tryGet(it,key){try{return it[key];}catch(error){}};var classof=function classof(it){var O,tag,result;return it===undefined?'Undefined':it===null?'Null':typeof(tag=tryGet(O=Object(it),TO_STRING_TAG$1))=='string'?tag:CORRECT_ARGUMENTS?classofRaw(O):(result=classofRaw(O))=='Object'&&typeof O.callee=='function'?'Arguments':result;};var TO_STRING_TAG$2=wellKnownSymbol('toStringTag');var test={};test[TO_STRING_TAG$2]='z';var objectToString=String(test)!=='[object z]'?function toString(){return'[object '+classof(this)+']';}:test.toString;var ObjectPrototype$2=Object.prototype;if(objectToString!==ObjectPrototype$2.toString){redefine(ObjectPrototype$2,'toString',objectToString,{unsafe:true});}var freezing=!fails(function(){return Object.isExtensible(Object.preventExtensions({}));});var internalMetadata=createCommonjsModule(function(module){var defineProperty=objectDefineProperty.f;var METADATA=uid('meta');var id=0;var isExtensible=Object.isExtensible||function(){return true;};var setMetadata=function setMetadata(it){defineProperty(it,METADATA,{value:{objectID:'O'+ ++id,weakData:{}}});};var fastKey=function fastKey(it,create){if(!isObject(it))return(typeof it==='undefined'?'undefined':_typeof3(it))=='symbol'?it:(typeof it=='string'?'S':'P')+it;if(!has(it,METADATA)){if(!isExtensible(it))return'F';if(!create)return'E';setMetadata(it);}return it[METADATA].objectID;};var getWeakData=function getWeakData(it,create){if(!has(it,METADATA)){if(!isExtensible(it))return true;if(!create)return false;setMetadata(it);}return it[METADATA].weakData;};var onFreeze=function onFreeze(it){if(freezing&&meta.REQUIRED&&isExtensible(it)&&!has(it,METADATA))setMetadata(it);return it;};var meta=module.exports={REQUIRED:false,fastKey:fastKey,getWeakData:getWeakData,onFreeze:onFreeze};hiddenKeys[METADATA]=true;});var ITERATOR$2=wellKnownSymbol('iterator');var ArrayPrototype$1=Array.prototype;var isArrayIteratorMethod=function isArrayIteratorMethod(it){return it!==undefined&&(iterators.Array===it||ArrayPrototype$1[ITERATOR$2]===it);};var ITERATOR$3=wellKnownSymbol('iterator');var getIteratorMethod=function getIteratorMethod(it){if(it!=undefined)return it[ITERATOR$3]||it['@@iterator']||iterators[classof(it)];};var callWithSafeIterationClosing=function callWithSafeIterationClosing(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value);}catch(error){var returnMethod=iterator['return'];if(returnMethod!==undefined)anObject(returnMethod.call(iterator));throw error;}};var iterate_1=createCommonjsModule(function(module){var Result=function Result(stopped,result){this.stopped=stopped;this.result=result;};var iterate=module.exports=function(iterable,fn,that,AS_ENTRIES,IS_ITERATOR){var boundFunction=bindContext(fn,that,AS_ENTRIES?2:1);var iterator,iterFn,index,length,result,next,step;if(IS_ITERATOR){iterator=iterable;}else{iterFn=getIteratorMethod(iterable);if(typeof iterFn!='function')throw TypeError('Target is not iterable');if(isArrayIteratorMethod(iterFn)){for(index=0,length=toLength(iterable.length);length>index;index++){result=AS_ENTRIES?boundFunction(anObject(step=iterable[index])[0],step[1]):boundFunction(iterable[index]);if(result&&result instanceof Result)return result;}return new Result(false);}iterator=iterFn.call(iterable);}next=iterator.next;while(!(step=next.call(iterator)).done){result=callWithSafeIterationClosing(iterator,boundFunction,step.value,AS_ENTRIES);if((typeof result==='undefined'?'undefined':_typeof3(result))=='object'&&result&&result instanceof Result)return result;}return new Result(false);};iterate.stop=function(result){return new Result(true,result);};});var anInstance=function anInstance(it,Constructor,name){if(!(it instanceof Constructor)){throw TypeError('Incorrect '+(name?name+' ':'')+'invocation');}return it;};var ITERATOR$4=wellKnownSymbol('iterator');var SAFE_CLOSING=false;try{var called=0;var iteratorWithReturn={next:function next(){return{done:!!called++};},'return':function _return(){SAFE_CLOSING=true;}};iteratorWithReturn[ITERATOR$4]=function(){return this;};Array.from(iteratorWithReturn,function(){throw 2;});}catch(error){}var checkCorrectnessOfIteration=function checkCorrectnessOfIteration(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return false;var ITERATION_SUPPORT=false;try{var object={};object[ITERATOR$4]=function(){return{next:function next(){return{done:ITERATION_SUPPORT=true};}};};exec(object);}catch(error){}return ITERATION_SUPPORT;};var inheritIfRequired=function inheritIfRequired($this,dummy,Wrapper){var NewTarget,NewTargetPrototype;if(objectSetPrototypeOf&&typeof(NewTarget=dummy.constructor)=='function'&&NewTarget!==Wrapper&&isObject(NewTargetPrototype=NewTarget.prototype)&&NewTargetPrototype!==Wrapper.prototype)objectSetPrototypeOf($this,NewTargetPrototype);return $this;};var collection=function collection(CONSTRUCTOR_NAME,wrapper,common,IS_MAP,IS_WEAK){var NativeConstructor=global_1[CONSTRUCTOR_NAME];var NativePrototype=NativeConstructor&&NativeConstructor.prototype;var Constructor=NativeConstructor;var ADDER=IS_MAP?'set':'add';var exported={};var fixMethod=function fixMethod(KEY){var nativeMethod=NativePrototype[KEY];redefine(NativePrototype,KEY,KEY=='add'?function add(value){nativeMethod.call(this,value===0?0:value);return this;}:KEY=='delete'?function(key){return IS_WEAK&&!isObject(key)?false:nativeMethod.call(this,key===0?0:key);}:KEY=='get'?function get(key){return IS_WEAK&&!isObject(key)?undefined:nativeMethod.call(this,key===0?0:key);}:KEY=='has'?function has(key){return IS_WEAK&&!isObject(key)?false:nativeMethod.call(this,key===0?0:key);}:function set(key,value){nativeMethod.call(this,key===0?0:key,value);return this;});};if(isForced_1(CONSTRUCTOR_NAME,typeof NativeConstructor!='function'||!(IS_WEAK||NativePrototype.forEach&&!fails(function(){new NativeConstructor().entries().next();})))){Constructor=common.getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER);internalMetadata.REQUIRED=true;}else if(isForced_1(CONSTRUCTOR_NAME,true)){var instance=new Constructor();var HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance;var THROWS_ON_PRIMITIVES=fails(function(){instance.has(1);});var ACCEPT_ITERABLES=checkCorrectnessOfIteration(function(iterable){new NativeConstructor(iterable);});var BUGGY_ZERO=!IS_WEAK&&fails(function(){var $instance=new NativeConstructor();var index=5;while(index--){$instance[ADDER](index,index);}return!$instance.has(-0);});if(!ACCEPT_ITERABLES){Constructor=wrapper(function(dummy,iterable){anInstance(dummy,Constructor,CONSTRUCTOR_NAME);var that=inheritIfRequired(new NativeConstructor(),dummy,Constructor);if(iterable!=undefined)iterate_1(iterable,that[ADDER],that,IS_MAP);return that;});Constructor.prototype=NativePrototype;NativePrototype.constructor=Constructor;}if(THROWS_ON_PRIMITIVES||BUGGY_ZERO){fixMethod('delete');fixMethod('has');IS_MAP&&fixMethod('get');}if(BUGGY_ZERO||HASNT_CHAINING)fixMethod(ADDER);if(IS_WEAK&&NativePrototype.clear)delete NativePrototype.clear;}exported[CONSTRUCTOR_NAME]=Constructor;_export({global:true,forced:Constructor!=NativeConstructor},exported);setToStringTag(Constructor,CONSTRUCTOR_NAME);if(!IS_WEAK)common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP);return Constructor;};var redefineAll=function redefineAll(target,src,options){for(var key in src){redefine(target,key,src[key],options);}return target;};var SPECIES$3=wellKnownSymbol('species');var setSpecies=function setSpecies(CONSTRUCTOR_NAME){var Constructor=getBuiltIn(CONSTRUCTOR_NAME);var defineProperty=objectDefineProperty.f;if(descriptors&&Constructor&&!Constructor[SPECIES$3]){defineProperty(Constructor,SPECIES$3,{configurable:true,get:function get(){return this;}});}};var defineProperty$4=objectDefineProperty.f;var fastKey=internalMetadata.fastKey;var setInternalState$2=internalState.set;var internalStateGetterFor=internalState.getterFor;var collectionStrong={getConstructor:function getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,CONSTRUCTOR_NAME);setInternalState$2(that,{type:CONSTRUCTOR_NAME,index:objectCreate(null),first:undefined,last:undefined,size:0});if(!descriptors)that.size=0;if(iterable!=undefined)iterate_1(iterable,that[ADDER],that,IS_MAP);});var getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME);var define=function define(that,key,value){var state=getInternalState(that);var entry=getEntry(that,key);var previous,index;if(entry){entry.value=value;}else{state.last=entry={index:index=fastKey(key,true),key:key,value:value,previous:previous=state.last,next:undefined,removed:false};if(!state.first)state.first=entry;if(previous)previous.next=entry;if(descriptors)state.size++;else that.size++;if(index!=='F')state.index[index]=entry;}return that;};var getEntry=function getEntry(that,key){var state=getInternalState(that);var index=fastKey(key);var entry;if(index!=='F')return state.index[index];for(entry=state.first;entry;entry=entry.next){if(entry.key==key)return entry;}};redefineAll(C.prototype,{clear:function clear(){var that=this;var state=getInternalState(that);var data=state.index;var entry=state.first;while(entry){entry.removed=true;if(entry.previous)entry.previous=entry.previous.next=undefined;delete data[entry.index];entry=entry.next;}state.first=state.last=undefined;if(descriptors)state.size=0;else that.size=0;},'delete':function _delete(key){var that=this;var state=getInternalState(that);var entry=getEntry(that,key);if(entry){var next=entry.next;var prev=entry.previous;delete state.index[entry.index];entry.removed=true;if(prev)prev.next=next;if(next)next.previous=prev;if(state.first==entry)state.first=next;if(state.last==entry)state.last=prev;if(descriptors)state.size--;else that.size--;}return!!entry;},forEach:function forEach(callbackfn){var state=getInternalState(this);var boundFunction=bindContext(callbackfn,arguments.length>1?arguments[1]:undefined,3);var entry;while(entry=entry?entry.next:state.first){boundFunction(entry.value,entry.key,this);while(entry&&entry.removed){entry=entry.previous;}}},has:function has(key){return!!getEntry(this,key);}});redefineAll(C.prototype,IS_MAP?{get:function get(key){var entry=getEntry(this,key);return entry&&entry.value;},set:function set(key,value){return define(this,key===0?0:key,value);}}:{add:function add(value){return define(this,value=value===0?0:value,value);}});if(descriptors)defineProperty$4(C.prototype,'size',{get:function get(){return getInternalState(this).size;}});return C;},setStrong:function setStrong(C,CONSTRUCTOR_NAME,IS_MAP){var ITERATOR_NAME=CONSTRUCTOR_NAME+' Iterator';var getInternalCollectionState=internalStateGetterFor(CONSTRUCTOR_NAME);var getInternalIteratorState=internalStateGetterFor(ITERATOR_NAME);defineIterator(C,CONSTRUCTOR_NAME,function(iterated,kind){setInternalState$2(this,{type:ITERATOR_NAME,target:iterated,state:getInternalCollectionState(iterated),kind:kind,last:undefined});},function(){var state=getInternalIteratorState(this);var kind=state.kind;var entry=state.last;while(entry&&entry.removed){entry=entry.previous;}if(!state.target||!(state.last=entry=entry?entry.next:state.state.first)){state.target=undefined;return{value:undefined,done:true};}if(kind=='keys')return{value:entry.key,done:false};if(kind=='values')return{value:entry.value,done:false};return{value:[entry.key,entry.value],done:false};},IS_MAP?'entries':'values',!IS_MAP,true);setSpecies(CONSTRUCTOR_NAME);}};var es_set=collection('Set',function(get){return function Set(){return get(this,arguments.length?arguments[0]:undefined);};},collectionStrong);var createMethod$2=function createMethod$2(CONVERT_TO_STRING){return function($this,pos){var S=String(requireObjectCoercible($this));var position=toInteger(pos);var size=S.length;var first,second;if(position<0||position>=size)return CONVERT_TO_STRING?'':undefined;first=S.charCodeAt(position);return first<0xD800||first>0xDBFF||position+1===size||(second=S.charCodeAt(position+1))<0xDC00||second>0xDFFF?CONVERT_TO_STRING?S.charAt(position):first:CONVERT_TO_STRING?S.slice(position,position+2):(first-0xD800<<10)+(second-0xDC00)+0x10000;};};var stringMultibyte={codeAt:createMethod$2(false),charAt:createMethod$2(true)};var charAt=stringMultibyte.charAt;var STRING_ITERATOR='String Iterator';var setInternalState$3=internalState.set;var getInternalState$2=internalState.getterFor(STRING_ITERATOR);defineIterator(String,'String',function(iterated){setInternalState$3(this,{type:STRING_ITERATOR,string:String(iterated),index:0});},function next(){var state=getInternalState$2(this);var string=state.string;var index=state.index;var point;if(index>=string.length)return{value:undefined,done:true};point=charAt(string,index);state.index+=point.length;return{value:point,done:false};});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var ITERATOR$5=wellKnownSymbol('iterator');var TO_STRING_TAG$3=wellKnownSymbol('toStringTag');var ArrayValues=es_array_iterator.values;for(var COLLECTION_NAME in domIterables){var Collection=global_1[COLLECTION_NAME];var CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR$5]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR$5,ArrayValues);}catch(error){CollectionPrototype[ITERATOR$5]=ArrayValues;}if(!CollectionPrototype[TO_STRING_TAG$3]){createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG$3,COLLECTION_NAME);}if(domIterables[COLLECTION_NAME])for(var METHOD_NAME in es_array_iterator){if(CollectionPrototype[METHOD_NAME]!==es_array_iterator[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,es_array_iterator[METHOD_NAME]);}catch(error){CollectionPrototype[METHOD_NAME]=es_array_iterator[METHOD_NAME];}}}}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter);}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread();}var methods={};var names=[];function registerMethods(name,m){if(Array.isArray(name)){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=name[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _name=_step.value;registerMethods(_name,m);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}return;}if(_typeof(name)==='object'){for(var _name2 in name){registerMethods(_name2,name[_name2]);}return;}addMethodNames(Object.getOwnPropertyNames(m));methods[name]=Object.assign(methods[name]||{},m);}function getMethodsFor(name){return methods[name]||{};}function getMethodNames(){return _toConsumableArray(new Set(names));}function addMethodNames(_names){names.push.apply(names,_toConsumableArray(_names));}var $includes=arrayIncludes.includes;_export({target:'Array',proto:true},{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined);}});addToUnscopables('includes');var regexpFlags=function regexpFlags(){var that=anObject(this);var result='';if(that.global)result+='g';if(that.ignoreCase)result+='i';if(that.multiline)result+='m';if(that.dotAll)result+='s';if(that.unicode)result+='u';if(that.sticky)result+='y';return result;};var nativeExec=RegExp.prototype.exec;var nativeReplace=String.prototype.replace;var patchedExec=nativeExec;var UPDATES_LAST_INDEX_WRONG=function(){var re1=/a/;var re2=/b*/g;nativeExec.call(re1,'a');nativeExec.call(re2,'a');return re1.lastIndex!==0||re2.lastIndex!==0;}();var NPCG_INCLUDED=/()??/.exec('')[1]!==undefined;var PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED;if(PATCH){patchedExec=function exec(str){var re=this;var lastIndex,reCopy,match,i;if(NPCG_INCLUDED){reCopy=new RegExp('^'+re.source+'$(?!\\s)',regexpFlags.call(re));}if(UPDATES_LAST_INDEX_WRONG)lastIndex=re.lastIndex;match=nativeExec.call(re,str);if(UPDATES_LAST_INDEX_WRONG&&match){re.lastIndex=re.global?match.index+match[0].length:lastIndex;}if(NPCG_INCLUDED&&match&&match.length>1){nativeReplace.call(match[0],reCopy,function(){for(i=1;i<arguments.length-2;i++){if(arguments[i]===undefined)match[i]=undefined;}});}return match;};}var regexpExec=patchedExec;_export({target:'RegExp',proto:true,forced:/./.exec!==regexpExec},{exec:regexpExec});var MATCH=wellKnownSymbol('match');var isRegexp=function isRegexp(it){var isRegExp;return isObject(it)&&((isRegExp=it[MATCH])!==undefined?!!isRegExp:classofRaw(it)=='RegExp');};var notARegexp=function notARegexp(it){if(isRegexp(it)){throw TypeError("The method doesn't accept regular expressions");}return it;};var MATCH$1=wellKnownSymbol('match');var correctIsRegexpLogic=function correctIsRegexpLogic(METHOD_NAME){var regexp=/./;try{'/./'[METHOD_NAME](regexp);}catch(e){try{regexp[MATCH$1]=false;return'/./'[METHOD_NAME](regexp);}catch(f){}}return false;};_export({target:'String',proto:true,forced:!correctIsRegexpLogic('includes')},{includes:function includes(searchString){return!!~String(requireObjectCoercible(this)).indexOf(notARegexp(searchString),arguments.length>1?arguments[1]:undefined);}});var SPECIES$4=wellKnownSymbol('species');var REPLACE_SUPPORTS_NAMED_GROUPS=!fails(function(){var re=/./;re.exec=function(){var result=[];result.groups={a:'7'};return result;};return''.replace(re,'$<a>')!=='7';});var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails(function(){var re=/(?:)/;var originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments);};var result='ab'.split(re);return result.length!==2||result[0]!=='a'||result[1]!=='b';});var fixRegexpWellKnownSymbolLogic=function fixRegexpWellKnownSymbolLogic(KEY,length,exec,sham){var SYMBOL=wellKnownSymbol(KEY);var DELEGATES_TO_SYMBOL=!fails(function(){var O={};O[SYMBOL]=function(){return 7;};return''[KEY](O)!=7;});var DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL&&!fails(function(){var execCalled=false;var re=/a/;if(KEY==='split'){re={};re.constructor={};re.constructor[SPECIES$4]=function(){return re;};re.flags='';re[SYMBOL]=/./[SYMBOL];}re.exec=function(){execCalled=true;return null;};re[SYMBOL]('');return!execCalled;});if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||KEY==='replace'&&!REPLACE_SUPPORTS_NAMED_GROUPS||KEY==='split'&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var nativeRegExpMethod=/./[SYMBOL];var methods=exec(SYMBOL,''[KEY],function(nativeMethod,regexp,str,arg2,forceStringMethod){if(regexp.exec===regexpExec){if(DELEGATES_TO_SYMBOL&&!forceStringMethod){return{done:true,value:nativeRegExpMethod.call(regexp,str,arg2)};}return{done:true,value:nativeMethod.call(str,regexp,arg2)};}return{done:false};});var stringMethod=methods[0];var regexMethod=methods[1];redefine(String.prototype,KEY,stringMethod);redefine(RegExp.prototype,SYMBOL,length==2?function(string,arg){return regexMethod.call(string,this,arg);}:function(string){return regexMethod.call(string,this);});if(sham)createNonEnumerableProperty(RegExp.prototype[SYMBOL],'sham',true);}};var charAt$1=stringMultibyte.charAt;var advanceStringIndex=function advanceStringIndex(S,index,unicode){return index+(unicode?charAt$1(S,index).length:1);};var regexpExecAbstract=function regexpExecAbstract(R,S){var exec=R.exec;if(typeof exec==='function'){var result=exec.call(R,S);if((typeof result==='undefined'?'undefined':_typeof3(result))!=='object'){throw TypeError('RegExp exec method returned something other than an Object or null');}return result;}if(classofRaw(R)!=='RegExp'){throw TypeError('RegExp#exec called on incompatible receiver');}return regexpExec.call(R,S);};var max$2=Math.max;var min$2=Math.min;var floor$1=Math.floor;var SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d\d?|<[^>]*>)/g;var SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d\d?)/g;var maybeToString=function maybeToString(it){return it===undefined?it:String(it);};fixRegexpWellKnownSymbolLogic('replace',2,function(REPLACE,nativeReplace,maybeCallNative){return[function replace(searchValue,replaceValue){var O=requireObjectCoercible(this);var replacer=searchValue==undefined?undefined:searchValue[REPLACE];return replacer!==undefined?replacer.call(searchValue,O,replaceValue):nativeReplace.call(String(O),searchValue,replaceValue);},function(regexp,replaceValue){var res=maybeCallNative(nativeReplace,regexp,this,replaceValue);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);var functionalReplace=typeof replaceValue==='function';if(!functionalReplace)replaceValue=String(replaceValue);var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0;}var results=[];while(true){var result=regexpExecAbstract(rx,S);if(result===null)break;results.push(result);if(!global)break;var matchStr=String(result[0]);if(matchStr==='')rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode);}var accumulatedResult='';var nextSourcePosition=0;for(var i=0;i<results.length;i++){result=results[i];var matched=String(result[0]);var position=max$2(min$2(toInteger(result.index),S.length),0);var captures=[];for(var j=1;j<result.length;j++){captures.push(maybeToString(result[j]));}var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=[matched].concat(captures,position,S);if(namedCaptures!==undefined)replacerArgs.push(namedCaptures);var replacement=String(replaceValue.apply(undefined,replacerArgs));}else{replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue);}if(position>=nextSourcePosition){accumulatedResult+=S.slice(nextSourcePosition,position)+replacement;nextSourcePosition=position+matched.length;}}return accumulatedResult+S.slice(nextSourcePosition);}];function getSubstitution(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length;var m=captures.length;var symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;if(namedCaptures!==undefined){namedCaptures=toObject(namedCaptures);symbols=SUBSTITUTION_SYMBOLS;}return nativeReplace.call(replacement,symbols,function(match,ch){var capture;switch(ch.charAt(0)){case'$':return'$';case'&':return matched;case'`':return str.slice(0,position);case"'":return str.slice(tailPos);case'<':capture=namedCaptures[ch.slice(1,-1)];break;default:var n=+ch;if(n===0)return match;if(n>m){var f=floor$1(n/10);if(f===0)return match;if(f<=m)return captures[f-1]===undefined?ch.charAt(1):captures[f-1]+ch.charAt(1);return match;}capture=captures[n-1];}return capture===undefined?'':capture;});}});var whitespaces='\t\n\x0B\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';var whitespace='['+whitespaces+']';var ltrim=RegExp('^'+whitespace+whitespace+'*');var rtrim=RegExp(whitespace+whitespace+'*$');var createMethod$3=function createMethod$3(TYPE){return function($this){var string=String(requireObjectCoercible($this));if(TYPE&1)string=string.replace(ltrim,'');if(TYPE&2)string=string.replace(rtrim,'');return string;};};var stringTrim={start:createMethod$3(1),end:createMethod$3(2),trim:createMethod$3(3)};var non='\u200B\x85\u180E';var forcedStringTrimMethod=function forcedStringTrimMethod(METHOD_NAME){return fails(function(){return!!whitespaces[METHOD_NAME]()||non[METHOD_NAME]()!=non||whitespaces[METHOD_NAME].name!==METHOD_NAME;});};var $trim=stringTrim.trim;_export({target:'String',proto:true,forced:forcedStringTrimMethod('trim')},{trim:function trim(){return $trim(this);}});function map(array,block){var i;var il=array.length;var result=[];for(i=0;i<il;i++){result.push(block(array[i]));}return result;}function filter(array,block){var i;var il=array.length;var result=[];for(i=0;i<il;i++){if(block(array[i])){result.push(array[i]);}}return result;}function radians(d){return d%360*Math.PI/180;}function degrees(r){return r*180/Math.PI%360;}function camelCase(s){return s.toLowerCase().replace(/-(.)/g,function(m,g){return g.toUpperCase();});}function unCamelCase(s){return s.replace(/([A-Z])/g,function(m,g){return'-'+g.toLowerCase();});}function capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1);}function proportionalSize(element,width,height,box){if(width==null||height==null){box=box||element.bbox();if(width==null){width=box.width/box.height*height;}else if(height==null){height=box.height/box.width*width;}}return{width:width,height:height};}function getOrigin(o,element){var origin=o.origin;var ox,oy;if(typeof origin==='string'||origin==null){var string=(origin||'center').toLowerCase().trim();var _element$bbox=element.bbox(),height=_element$bbox.height,width=_element$bbox.width,x=_element$bbox.x,y=_element$bbox.y;var bx=string.includes('left')?x:string.includes('right')?x+width:x+width/2;var by=string.includes('top')?y:string.includes('bottom')?y+height:y+height/2;ox=o.ox!=null?o.ox:bx;oy=o.oy!=null?o.oy:by;}else{ox=origin[0];oy=origin[1];}return[ox,oy];}var utils={__proto__:null,map:map,filter:filter,radians:radians,degrees:degrees,camelCase:camelCase,unCamelCase:unCamelCase,capitalize:capitalize,proportionalSize:proportionalSize,getOrigin:getOrigin};var ns='http://www.w3.org/2000/svg';var xmlns='http://www.w3.org/2000/xmlns/';var xlink='http://www.w3.org/1999/xlink';var svgjs='http://svgjs.com/svgjs';var namespaces={__proto__:null,ns:ns,xmlns:xmlns,xlink:xlink,svgjs:svgjs};var globals={window:typeof window==='undefined'?null:window,document:typeof document==='undefined'?null:document};function registerWindow(){var win=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var doc=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;globals.window=win;globals.document=doc;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Base=function Base(){_classCallCheck(this,Base);};var elements={};var root='___SYMBOL___ROOT___';function create(name){return globals.document.createElementNS(ns,name);}function makeInstance(element){if(element instanceof Base)return element;if(_typeof(element)==='object'){return adopter(element);}if(element==null){return new elements[root]();}if(typeof element==='string'&&element.charAt(0)!=='<'){return adopter(globals.document.querySelector(element));}var node=create('svg');node.innerHTML=element;element=adopter(node.firstChild);return element;}function nodeOrNew(name,node){return node instanceof globals.window.Node?node:create(name);}function adopt(node){if(!node)return null;if(node.instance instanceof Base)return node.instance;var className=capitalize(node.nodeName||'Dom');if(className==='LinearGradient'||className==='RadialGradient'){className='Gradient';}else if(!elements[className]){className='Dom';}return new elements[className](node);}var adopter=adopt;function mockAdopt(){var mock=arguments.length>0&&arguments[0]!==undefined?arguments[0]:adopt;adopter=mock;}function register(element){var name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:element.name;var asRoot=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;elements[name]=element;if(asRoot)elements[root]=element;addMethodNames(Object.getOwnPropertyNames(element.prototype));return element;}function getClass(name){return elements[name];}var did=1000;function eid(name){return'Svgjs'+capitalize(name)+did++;}function assignNewId(node){for(var i=node.children.length-1;i>=0;i--){assignNewId(node.children[i]);}if(node.id){return adopt(node).id(eid(node.nodeName));}return adopt(node);}function extend(modules,methods,attrCheck){var key,i;modules=Array.isArray(modules)?modules:[modules];for(i=modules.length-1;i>=0;i--){for(key in methods){var method=methods[key];if(attrCheck){method=wrapWithAttrCheck(methods[key]);}modules[i].prototype[key]=method;}}}function wrapWithAttrCheck(fn){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var o=args[args.length-1];if(o&&o.constructor===Object&&!(o instanceof Array)){return fn.apply(this,args.slice(0,-1)).attr(o);}else{return fn.apply(this,args);}};}function invent(config){var initializer=typeof config.create==='function'?config.create:function(node){this.constructor(node||create(config.create));};if(config.inherit){initializer.prototype=new config.inherit();initializer.prototype.constructor=initializer;}if(config.extend){extend(initializer,config.extend);}if(config.construct){extend(config.parent||elements.Container,config.construct);}return initializer;}function siblings(){return this.parent().children();}function position(){return this.parent().index(this);}function next(){return this.siblings()[this.position()+1];}function prev(){return this.siblings()[this.position()-1];}function forward(){var i=this.position()+1;var p=this.parent();p.removeElement(this).add(this,i);if(typeof p.isRoot==='function'&&p.isRoot()){p.node.appendChild(p.defs().node);}return this;}function backward(){var i=this.position();if(i>0){this.parent().removeElement(this).add(this,i-1);}return this;}function front(){var p=this.parent();p.node.appendChild(this.node);if(typeof p.isRoot==='function'&&p.isRoot()){p.node.appendChild(p.defs().node);}return this;}function back(){if(this.position()>0){this.parent().removeElement(this).add(this,0);}return this;}function before(element){element=makeInstance(element);element.remove();var i=this.position();this.parent().add(element,i);return this;}function after(element){element=makeInstance(element);element.remove();var i=this.position();this.parent().add(element,i+1);return this;}function insertBefore(element){element=makeInstance(element);element.before(this);return this;}function insertAfter(element){element=makeInstance(element);element.after(this);return this;}registerMethods('Dom',{siblings:siblings,position:position,next:next,prev:prev,forward:forward,backward:backward,front:front,back:back,before:before,after:after,insertBefore:insertBefore,insertAfter:insertAfter});var $filter=arrayIteration.filter;_export({target:'Array',proto:true,forced:!arrayMethodHasSpeciesSupport('filter')},{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments.length>1?arguments[1]:undefined);}});var sloppyArrayMethod=function sloppyArrayMethod(METHOD_NAME,argument){var method=[][METHOD_NAME];return!method||!fails(function(){method.call(null,argument||function(){throw 1;},1);});};var $indexOf=arrayIncludes.indexOf;var nativeIndexOf=[].indexOf;var NEGATIVE_ZERO=!!nativeIndexOf&&1/[1].indexOf(1,-0)<0;var SLOPPY_METHOD=sloppyArrayMethod('indexOf');_export({target:'Array',proto:true,forced:NEGATIVE_ZERO||SLOPPY_METHOD},{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?nativeIndexOf.apply(this,arguments)||0:$indexOf(this,searchElement,arguments.length>1?arguments[1]:undefined);}});var nativeJoin=[].join;var ES3_STRINGS=indexedObject!=Object;var SLOPPY_METHOD$1=sloppyArrayMethod('join',',');_export({target:'Array',proto:true,forced:ES3_STRINGS||SLOPPY_METHOD$1},{join:function join(separator){return nativeJoin.call(toIndexedObject(this),separator===undefined?',':separator);}});var SPECIES$5=wellKnownSymbol('species');var speciesConstructor=function speciesConstructor(O,defaultConstructor){var C=anObject(O).constructor;var S;return C===undefined||(S=anObject(C)[SPECIES$5])==undefined?defaultConstructor:aFunction$1(S);};var arrayPush=[].push;var min$3=Math.min;var MAX_UINT32=0xFFFFFFFF;var SUPPORTS_Y=!fails(function(){return!RegExp(MAX_UINT32,'y');});fixRegexpWellKnownSymbolLogic('split',2,function(SPLIT,nativeSplit,maybeCallNative){var internalSplit;if('abbc'.split(/(b)*/)[1]=='c'||'test'.split(/(?:)/,-1).length!=4||'ab'.split(/(?:ab)*/).length!=2||'.'.split(/(.?)(.?)/).length!=4||'.'.split(/()()/).length>1||''.split(/.?/).length){internalSplit=function internalSplit(separator,limit){var string=String(requireObjectCoercible(this));var lim=limit===undefined?MAX_UINT32:limit>>>0;if(lim===0)return[];if(separator===undefined)return[string];if(!isRegexp(separator)){return nativeSplit.call(string,separator,lim);}var output=[];var flags=(separator.ignoreCase?'i':'')+(separator.multiline?'m':'')+(separator.unicode?'u':'')+(separator.sticky?'y':'');var lastLastIndex=0;var separatorCopy=new RegExp(separator.source,flags+'g');var match,lastIndex,lastLength;while(match=regexpExec.call(separatorCopy,string)){lastIndex=separatorCopy.lastIndex;if(lastIndex>lastLastIndex){output.push(string.slice(lastLastIndex,match.index));if(match.length>1&&match.index<string.length)arrayPush.apply(output,match.slice(1));lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=lim)break;}if(separatorCopy.lastIndex===match.index)separatorCopy.lastIndex++;}if(lastLastIndex===string.length){if(lastLength||!separatorCopy.test(''))output.push('');}else output.push(string.slice(lastLastIndex));return output.length>lim?output.slice(0,lim):output;};}else if('0'.split(undefined,0).length){internalSplit=function internalSplit(separator,limit){return separator===undefined&&limit===0?[]:nativeSplit.call(this,separator,limit);};}else internalSplit=nativeSplit;return[function split(separator,limit){var O=requireObjectCoercible(this);var splitter=separator==undefined?undefined:separator[SPLIT];return splitter!==undefined?splitter.call(separator,O,limit):internalSplit.call(String(O),separator,limit);},function(regexp,limit){var res=maybeCallNative(internalSplit,regexp,this,limit,internalSplit!==nativeSplit);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);var C=speciesConstructor(rx,RegExp);var unicodeMatching=rx.unicode;var flags=(rx.ignoreCase?'i':'')+(rx.multiline?'m':'')+(rx.unicode?'u':'')+(SUPPORTS_Y?'y':'g');var splitter=new C(SUPPORTS_Y?rx:'^(?:'+rx.source+')',flags);var lim=limit===undefined?MAX_UINT32:limit>>>0;if(lim===0)return[];if(S.length===0)return regexpExecAbstract(splitter,S)===null?[S]:[];var p=0;var q=0;var A=[];while(q<S.length){splitter.lastIndex=SUPPORTS_Y?q:0;var z=regexpExecAbstract(splitter,SUPPORTS_Y?S:S.slice(q));var e;if(z===null||(e=min$3(toLength(splitter.lastIndex+(SUPPORTS_Y?0:q)),S.length))===p){q=advanceStringIndex(S,q,unicodeMatching);}else{A.push(S.slice(p,q));if(A.length===lim)return A;for(var i=1;i<=z.length-1;i++){A.push(z[i]);if(A.length===lim)return A;}q=p=e;}}A.push(S.slice(p));return A;}];},!SUPPORTS_Y);var numberAndUnit=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i;var hex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;var rgb=/rgb\((\d+),(\d+),(\d+)\)/;var reference=/(#[a-z0-9\-_]+)/i;var transforms=/\)\s*,?\s*/;var whitespace$1=/\s/g;var isHex=/^#[a-f0-9]{3,6}$/i;var isRgb=/^rgb\(/;var isCss=/[^:]+:[^;]+;?/;var isBlank=/^(\s+)?$/;var isNumber=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;var isPercent=/^-?[\d.]+%$/;var isImage=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i;var delimiter=/[\s,]+/;var hyphen=/([^e])-/gi;var pathLetters=/[MLHVCSQTAZ]/gi;var isPathLetter=/[MLHVCSQTAZ]/i;var numbersWithDots=/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi;var dots=/\./g;var regex={__proto__:null,numberAndUnit:numberAndUnit,hex:hex,rgb:rgb,reference:reference,transforms:transforms,whitespace:whitespace$1,isHex:isHex,isRgb:isRgb,isCss:isCss,isBlank:isBlank,isNumber:isNumber,isPercent:isPercent,isImage:isImage,delimiter:delimiter,hyphen:hyphen,pathLetters:pathLetters,isPathLetter:isPathLetter,numbersWithDots:numbersWithDots,dots:dots};function classes(){var attr=this.attr('class');return attr==null?[]:attr.trim().split(delimiter);}function hasClass(name){return this.classes().indexOf(name)!==-1;}function addClass(name){if(!this.hasClass(name)){var array=this.classes();array.push(name);this.attr('class',array.join(' '));}return this;}function removeClass(name){if(this.hasClass(name)){this.attr('class',this.classes().filter(function(c){return c!==name;}).join(' '));}return this;}function toggleClass(name){return this.hasClass(name)?this.removeClass(name):this.addClass(name);}registerMethods('Dom',{classes:classes,hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass});var $forEach$1=arrayIteration.forEach;var arrayForEach=sloppyArrayMethod('forEach')?function forEach(callbackfn){return $forEach$1(this,callbackfn,arguments.length>1?arguments[1]:undefined);}:[].forEach;_export({target:'Array',proto:true,forced:[].forEach!=arrayForEach},{forEach:arrayForEach});for(var COLLECTION_NAME$1 in domIterables){var Collection$1=global_1[COLLECTION_NAME$1];var CollectionPrototype$1=Collection$1&&Collection$1.prototype;if(CollectionPrototype$1&&CollectionPrototype$1.forEach!==arrayForEach)try{createNonEnumerableProperty(CollectionPrototype$1,'forEach',arrayForEach);}catch(error){CollectionPrototype$1.forEach=arrayForEach;}}function css(style,val){var ret={};if(arguments.length===0){this.node.style.cssText.split(/\s*;\s*/).filter(function(el){return!!el.length;}).forEach(function(el){var t=el.split(/\s*:\s*/);ret[t[0]]=t[1];});return ret;}if(arguments.length<2){if(Array.isArray(style)){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=style[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var name=_step.value;var cased=camelCase(name);ret[cased]=this.node.style[cased];}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}return ret;}if(typeof style==='string'){return this.node.style[camelCase(style)];}if(_typeof(style)==='object'){for(var _name in style){this.node.style[camelCase(_name)]=style[_name]==null||isBlank.test(style[_name])?'':style[_name];}}}if(arguments.length===2){this.node.style[camelCase(style)]=val==null||isBlank.test(val)?'':val;}return this;}function show(){return this.css('display','');}function hide(){return this.css('display','none');}function visible(){return this.css('display')!=='none';}registerMethods('Dom',{css:css,show:show,hide:hide,visible:visible});function data$1(a,v,r){if(_typeof(a)==='object'){for(v in a){this.data(v,a[v]);}}else if(arguments.length<2){try{return JSON.parse(this.attr('data-'+a));}catch(e){return this.attr('data-'+a);}}else{this.attr('data-'+a,v===null?null:r===true||typeof v==='string'||typeof v==='number'?v:JSON.stringify(v));}return this;}registerMethods('Dom',{data:data$1});function remember(k,v){if(_typeof(arguments[0])==='object'){for(var key in k){this.remember(key,k[key]);}}else if(arguments.length===1){return this.memory()[k];}else{this.memory()[k]=v;}return this;}function forget(){if(arguments.length===0){this._memory={};}else{for(var i=arguments.length-1;i>=0;i--){delete this.memory()[arguments[i]];}}return this;}function memory(){return this._memory=this._memory||{};}registerMethods('Dom',{remember:remember,forget:forget,memory:memory});var createMethod$4=function createMethod$4(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){aFunction$1(callbackfn);var O=toObject(that);var self=indexedObject(O);var length=toLength(O.length);var index=IS_RIGHT?length-1:0;var i=IS_RIGHT?-1:1;if(argumentsLength<2)while(true){if(index in self){memo=self[index];index+=i;break;}index+=i;if(IS_RIGHT?index<0:length<=index){throw TypeError('Reduce of empty array with no initial value');}}for(;IS_RIGHT?index>=0:length>index;index+=i){if(index in self){memo=callbackfn(memo,self[index],index,O);}}return memo;};};var arrayReduce={left:createMethod$4(false),right:createMethod$4(true)};var $reduce=arrayReduce.left;_export({target:'Array',proto:true,forced:sloppyArrayMethod('reduce')},{reduce:function reduce(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments.length>1?arguments[1]:undefined);}});var listenerId=0;var windowEvents={};function getEvents(instance){var n=instance.getEventHolder();if(n===globals.window)n=windowEvents;if(!n.events)n.events={};return n.events;}function getEventTarget(instance){return instance.getEventTarget();}function clearEvents(instance){var n=instance.getEventHolder();if(n.events)n.events={};}function on(node,events,listener,binding,options){var l=listener.bind(binding||node);var instance=makeInstance(node);var bag=getEvents(instance);var n=getEventTarget(instance);events=Array.isArray(events)?events:events.split(delimiter);if(!listener._svgjsListenerId){listener._svgjsListenerId=++listenerId;}events.forEach(function(event){var ev=event.split('.')[0];var ns=event.split('.')[1]||'*';bag[ev]=bag[ev]||{};bag[ev][ns]=bag[ev][ns]||{};bag[ev][ns][listener._svgjsListenerId]=l;n.addEventListener(ev,l,options||false);});}function off(node,events,listener,options){var instance=makeInstance(node);var bag=getEvents(instance);var n=getEventTarget(instance);if(typeof listener==='function'){listener=listener._svgjsListenerId;if(!listener)return;}events=Array.isArray(events)?events:(events||'').split(delimiter);events.forEach(function(event){var ev=event&&event.split('.')[0];var ns=event&&event.split('.')[1];var namespace,l;if(listener){if(bag[ev]&&bag[ev][ns||'*']){n.removeEventListener(ev,bag[ev][ns||'*'][listener],options||false);delete bag[ev][ns||'*'][listener];}}else if(ev&&ns){if(bag[ev]&&bag[ev][ns]){for(l in bag[ev][ns]){off(n,[ev,ns].join('.'),l);}delete bag[ev][ns];}}else if(ns){for(event in bag){for(namespace in bag[event]){if(ns===namespace){off(n,[event,ns].join('.'));}}}}else if(ev){if(bag[ev]){for(namespace in bag[ev]){off(n,[ev,namespace].join('.'));}delete bag[ev];}}else{for(event in bag){off(n,event);}clearEvents(instance);}});}function dispatch(node,event,data){var n=getEventTarget(node);if(event instanceof globals.window.Event){n.dispatchEvent(event);}else{event=new globals.window.CustomEvent(event,{detail:data,cancelable:true});n.dispatchEvent(event);}return event;}var IS_CONCAT_SPREADABLE=wellKnownSymbol('isConcatSpreadable');var MAX_SAFE_INTEGER=0x1FFFFFFFFFFFFF;var MAXIMUM_ALLOWED_INDEX_EXCEEDED='Maximum allowed index exceeded';var IS_CONCAT_SPREADABLE_SUPPORT=v8Version>=51||!fails(function(){var array=[];array[IS_CONCAT_SPREADABLE]=false;return array.concat()[0]!==array;});var SPECIES_SUPPORT=arrayMethodHasSpeciesSupport('concat');var isConcatSpreadable=function isConcatSpreadable(O){if(!isObject(O))return false;var spreadable=O[IS_CONCAT_SPREADABLE];return spreadable!==undefined?!!spreadable:isArray(O);};var FORCED=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;_export({target:'Array',proto:true,forced:FORCED},{concat:function concat(arg){var O=toObject(this);var A=arraySpeciesCreate(O,0);var n=0;var i,k,length,len,E;for(i=-1,length=arguments.length;i<length;i++){E=i===-1?O:arguments[i];if(isConcatSpreadable(E)){len=toLength(E.length);if(n+len>MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);for(k=0;k<len;k++,n++){if(k in E)createProperty(A,n,E[k]);}}else{if(n>=MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);createProperty(A,n++,E);}}A.length=n;return A;}});var $map=arrayIteration.map;_export({target:'Array',proto:true,forced:!arrayMethodHasSpeciesSupport('map')},{map:function map(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:undefined);}});var DatePrototype=Date.prototype;var INVALID_DATE='Invalid Date';var TO_STRING='toString';var nativeDateToString=DatePrototype[TO_STRING];var getTime=DatePrototype.getTime;if(new Date(NaN)+''!=INVALID_DATE){redefine(DatePrototype,TO_STRING,function toString(){var value=getTime.call(this);return value===value?nativeDateToString.call(this):INVALID_DATE;});}var trim=stringTrim.trim;var nativeParseInt=global_1.parseInt;var hex$1=/^[+-]?0[Xx]/;var FORCED$1=nativeParseInt(whitespaces+'08')!==8||nativeParseInt(whitespaces+'0x16')!==22;var _parseInt=FORCED$1?function parseInt(string,radix){var S=trim(String(string));return nativeParseInt(S,radix>>>0||(hex$1.test(S)?16:10));}:nativeParseInt;_export({global:true,forced:parseInt!=_parseInt},{parseInt:_parseInt});var TO_STRING$1='toString';var RegExpPrototype=RegExp.prototype;var nativeToString=RegExpPrototype[TO_STRING$1];var NOT_GENERIC=fails(function(){return nativeToString.call({source:'a',flags:'b'})!='/a/b';});var INCORRECT_NAME=nativeToString.name!=TO_STRING$1;if(NOT_GENERIC||INCORRECT_NAME){redefine(RegExp.prototype,TO_STRING$1,function toString(){var R=anObject(this);var p=String(R.source);var rf=R.flags;var f=String(rf===undefined&&R instanceof RegExp&&!('flags'in RegExpPrototype)?regexpFlags.call(R):rf);return'/'+p+'/'+f;},{unsafe:true});}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return;}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function sixDigitHex(hex){return hex.length===4?['#',hex.substring(1,2),hex.substring(1,2),hex.substring(2,3),hex.substring(2,3),hex.substring(3,4),hex.substring(3,4)].join(''):hex;}function componentHex(component){var integer=Math.round(component);var bounded=Math.max(0,Math.min(255,integer));var hex=bounded.toString(16);return hex.length===1?'0'+hex:hex;}function is(object,space){for(var i=space.length;i--;){if(object[space[i]]==null){return false;}}return true;}function getParameters(a,b){var params=is(a,'rgb')?{_a:a.r,_b:a.g,_c:a.b,space:'rgb'}:is(a,'xyz')?{_a:a.x,_b:a.y,_c:a.z,_d:0,space:'xyz'}:is(a,'hsl')?{_a:a.h,_b:a.s,_c:a.l,_d:0,space:'hsl'}:is(a,'lab')?{_a:a.l,_b:a.a,_c:a.b,_d:0,space:'lab'}:is(a,'lch')?{_a:a.l,_b:a.c,_c:a.h,_d:0,space:'lch'}:is(a,'cmyk')?{_a:a.c,_b:a.m,_c:a.y,_d:a.k,space:'cmyk'}:{_a:0,_b:0,_c:0,space:'rgb'};params.space=b||params.space;return params;}function cieSpace(space){if(space==='lab'||space==='xyz'||space==='lch'){return true;}else{return false;}}function hueToRgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;}var Color=function(){function Color(){_classCallCheck(this,Color);this.init.apply(this,arguments);}_createClass(Color,[{key:"init",value:function init(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var d=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var space=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'rgb';a=!a?0:a;if(this.space){for(var component in this.space){delete this[this.space[component]];}}if(typeof a==='number'){space=typeof d==='string'?d:space;d=typeof d==='string'?0:d;Object.assign(this,{_a:a,_b:b,_c:c,_d:d,space:space});}else if(a instanceof Array){this.space=b||(typeof a[3]==='string'?a[3]:a[4])||'rgb';Object.assign(this,{_a:a[0],_b:a[1],_c:a[2],_d:a[3]||0});}else if(a instanceof Object){var values=getParameters(a,b);Object.assign(this,values);}else if(typeof a==='string'){if(isRgb.test(a)){var noWhitespace=a.replace(whitespace$1,'');var _rgb$exec$slice$map=rgb.exec(noWhitespace).slice(1,4).map(function(v){return parseInt(v);}),_rgb$exec$slice$map2=_slicedToArray(_rgb$exec$slice$map,3),_a2=_rgb$exec$slice$map2[0],_b2=_rgb$exec$slice$map2[1],_c2=_rgb$exec$slice$map2[2];Object.assign(this,{_a:_a2,_b:_b2,_c:_c2,_d:0,space:'rgb'});}else if(isHex.test(a)){var hexParse=function hexParse(v){return parseInt(v,16);};var _hex$exec$map=hex.exec(sixDigitHex(a)).map(hexParse),_hex$exec$map2=_slicedToArray(_hex$exec$map,4),_a3=_hex$exec$map2[1],_b3=_hex$exec$map2[2],_c3=_hex$exec$map2[3];Object.assign(this,{_a:_a3,_b:_b3,_c:_c3,_d:0,space:'rgb'});}else throw Error('Unsupported string format, can\'t construct Color');}var _a=this._a,_b=this._b,_c=this._c,_d=this._d;var components=this.space==='rgb'?{r:_a,g:_b,b:_c}:this.space==='xyz'?{x:_a,y:_b,z:_c}:this.space==='hsl'?{h:_a,s:_b,l:_c}:this.space==='lab'?{l:_a,a:_b,b:_c}:this.space==='lch'?{l:_a,c:_b,h:_c}:this.space==='cmyk'?{c:_a,m:_b,y:_c,k:_d}:{};Object.assign(this,components);}},{key:"rgb",value:function rgb(){if(this.space==='rgb'){return this;}else if(cieSpace(this.space)){var x=this.x,y=this.y,z=this.z;if(this.space==='lab'||this.space==='lch'){var l=this.l,a=this.a,_b4=this.b;if(this.space==='lch'){var c=this.c,h=this.h;var dToR=Math.PI/180;a=c*Math.cos(dToR*h);_b4=c*Math.sin(dToR*h);}var yL=(l+16)/116;var xL=a/500+yL;var zL=yL-_b4/200;var ct=16/116;var mx=0.008856;var nm=7.787;x=0.95047*(Math.pow(xL,3)>mx?Math.pow(xL,3):(xL-ct)/nm);y=1.00000*(Math.pow(yL,3)>mx?Math.pow(yL,3):(yL-ct)/nm);z=1.08883*(Math.pow(zL,3)>mx?Math.pow(zL,3):(zL-ct)/nm);}var rU=x*3.2406+y*-1.5372+z*-0.4986;var gU=x*-0.9689+y*1.8758+z*0.0415;var bU=x*0.0557+y*-0.2040+z*1.0570;var pow=Math.pow;var bd=0.0031308;var r=rU>bd?1.055*pow(rU,1/2.4)-0.055:12.92*rU;var g=gU>bd?1.055*pow(gU,1/2.4)-0.055:12.92*gU;var b=bU>bd?1.055*pow(bU,1/2.4)-0.055:12.92*bU;var color=new Color(255*r,255*g,255*b);return color;}else if(this.space==='hsl'){var _h=this.h,s=this.s,_l=this.l;_h/=360;s/=100;_l/=100;if(s===0){_l*=255;var _color2=new Color(_l,_l,_l);return _color2;}var q=_l<0.5?_l*(1+s):_l+s-_l*s;var p=2*_l-q;var _r=255*hueToRgb(p,q,_h+1/3);var _g=255*hueToRgb(p,q,_h);var _b5=255*hueToRgb(p,q,_h-1/3);var _color=new Color(_r,_g,_b5);return _color;}else if(this.space==='cmyk'){var _c4=this.c,m=this.m,_y=this.y,k=this.k;var _r2=255*(1-Math.min(1,_c4*(1-k)+k));var _g2=255*(1-Math.min(1,m*(1-k)+k));var _b6=255*(1-Math.min(1,_y*(1-k)+k));var _color3=new Color(_r2,_g2,_b6);return _color3;}else{return this;}}},{key:"lab",value:function lab(){var _this$xyz=this.xyz(),x=_this$xyz.x,y=_this$xyz.y,z=_this$xyz.z;var l=116*y-16;var a=500*(x-y);var b=200*(y-z);var color=new Color(l,a,b,'lab');return color;}},{key:"xyz",value:function xyz(){var _this$rgb=this.rgb(),r255=_this$rgb._a,g255=_this$rgb._b,b255=_this$rgb._c;var _map=[r255,g255,b255].map(function(v){return v/255;}),_map2=_slicedToArray(_map,3),r=_map2[0],g=_map2[1],b=_map2[2];var rL=r>0.04045?Math.pow((r+0.055)/1.055,2.4):r/12.92;var gL=g>0.04045?Math.pow((g+0.055)/1.055,2.4):g/12.92;var bL=b>0.04045?Math.pow((b+0.055)/1.055,2.4):b/12.92;var xU=(rL*0.4124+gL*0.3576+bL*0.1805)/0.95047;var yU=(rL*0.2126+gL*0.7152+bL*0.0722)/1.00000;var zU=(rL*0.0193+gL*0.1192+bL*0.9505)/1.08883;var x=xU>0.008856?Math.pow(xU,1/3):7.787*xU+16/116;var y=yU>0.008856?Math.pow(yU,1/3):7.787*yU+16/116;var z=zU>0.008856?Math.pow(zU,1/3):7.787*zU+16/116;var color=new Color(x,y,z,'xyz');return color;}},{key:"lch",value:function lch(){var _this$lab=this.lab(),l=_this$lab.l,a=_this$lab.a,b=_this$lab.b;var c=Math.sqrt(Math.pow(a,2)+Math.pow(b,2));var h=180*Math.atan2(b,a)/Math.PI;if(h<0){h*=-1;h=360-h;}var color=new Color(l,c,h,'lch');return color;}},{key:"hsl",value:function hsl(){var _this$rgb2=this.rgb(),_a=_this$rgb2._a,_b=_this$rgb2._b,_c=_this$rgb2._c;var _map3=[_a,_b,_c].map(function(v){return v/255;}),_map4=_slicedToArray(_map3,3),r=_map4[0],g=_map4[1],b=_map4[2];var max=Math.max(r,g,b);var min=Math.min(r,g,b);var l=(max+min)/2;var isGrey=max===min;var delta=max-min;var s=isGrey?0:l>0.5?delta/(2-max-min):delta/(max+min);var h=isGrey?0:max===r?((g-b)/delta+(g<b?6:0))/6:max===g?((b-r)/delta+2)/6:max===b?((r-g)/delta+4)/6:0;var color=new Color(360*h,100*s,100*l,'hsl');return color;}},{key:"cmyk",value:function cmyk(){var _this$rgb3=this.rgb(),_a=_this$rgb3._a,_b=_this$rgb3._b,_c=_this$rgb3._c;var _map5=[_a,_b,_c].map(function(v){return v/255;}),_map6=_slicedToArray(_map5,3),r=_map6[0],g=_map6[1],b=_map6[2];var k=Math.min(1-r,1-g,1-b);if(k===1){return new Color(0,0,0,1,'cmyk');}var c=(1-r-k)/(1-k);var m=(1-g-k)/(1-k);var y=(1-b-k)/(1-k);var color=new Color(c,m,y,k,'cmyk');return color;}},{key:"_clamped",value:function _clamped(){var _this$rgb4=this.rgb(),_a=_this$rgb4._a,_b=_this$rgb4._b,_c=_this$rgb4._c;var max=Math.max,min=Math.min,round=Math.round;var format=function format(v){return max(0,min(round(v),255));};return[_a,_b,_c].map(format);}},{key:"toHex",value:function toHex(){var _this$_clamped$map=this._clamped().map(componentHex),_this$_clamped$map2=_slicedToArray(_this$_clamped$map,3),r=_this$_clamped$map2[0],g=_this$_clamped$map2[1],b=_this$_clamped$map2[2];return"#".concat(r).concat(g).concat(b);}},{key:"toString",value:function toString(){return this.toHex();}},{key:"toRgb",value:function toRgb(){var _this$_clamped=this._clamped(),_this$_clamped2=_slicedToArray(_this$_clamped,3),rV=_this$_clamped2[0],gV=_this$_clamped2[1],bV=_this$_clamped2[2];var string="rgb(".concat(rV,",").concat(gV,",").concat(bV,")");return string;}},{key:"toArray",value:function toArray(){var _a=this._a,_b=this._b,_c=this._c,_d=this._d,space=this.space;return[_a,_b,_c,_d,space];}}],[{key:"random",value:function random(){var mode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'vibrant';var t=arguments.length>1?arguments[1]:undefined;var random=Math.random,round=Math.round,sin=Math.sin,pi=Math.PI;if(mode==='vibrant'){var l=(81-57)*random()+57;var c=(83-45)*random()+45;var h=360*random();var color=new Color(l,c,h,'lch');return color;}else if(mode==='sine'){t=t==null?random():t;var r=round(80*sin(2*pi*t/0.5+0.01)+150);var g=round(50*sin(2*pi*t/0.5+4.6)+200);var b=round(100*sin(2*pi*t/0.5+2.3)+150);var _color4=new Color(r,g,b);return _color4;}else if(mode==='pastel'){var _l2=(94-86)*random()+86;var _c5=(26-9)*random()+9;var _h2=360*random();var _color5=new Color(_l2,_c5,_h2,'lch');return _color5;}else if(mode==='dark'){var _l3=10+10*random();var _c6=(125-75)*random()+86;var _h3=360*random();var _color6=new Color(_l3,_c6,_h3,'lch');return _color6;}else if(mode==='rgb'){var _r3=255*random();var _g3=255*random();var _b7=255*random();var _color7=new Color(_r3,_g3,_b7);return _color7;}else if(mode==='lab'){var _l4=100*random();var a=256*random()-128;var _b8=256*random()-128;var _color8=new Color(_l4,a,_b8,'lab');return _color8;}else if(mode==='grey'){var grey=255*random();var _color9=new Color(grey,grey,grey);return _color9;}}},{key:"test",value:function test(color){return typeof color==='string'&&(isHex.test(color)||isRgb.test(color));}},{key:"isRgb",value:function isRgb(color){return color&&typeof color.r==='number'&&typeof color.g==='number'&&typeof color.b==='number';}},{key:"isColor",value:function isColor(color){return color&&(color instanceof Color||this.isRgb(color)||this.test(color));}}]);return Color;}();var FAILS_ON_PRIMITIVES$1=fails(function(){objectKeys(1);});_export({target:'Object',stat:true,forced:FAILS_ON_PRIMITIVES$1},{keys:function keys(it){return objectKeys(toObject(it));}});fixRegexpWellKnownSymbolLogic('match',1,function(MATCH,nativeMatch,maybeCallNative){return[function match(regexp){var O=requireObjectCoercible(this);var matcher=regexp==undefined?undefined:regexp[MATCH];return matcher!==undefined?matcher.call(regexp,O):new RegExp(regexp)[MATCH](String(O));},function(regexp){var res=maybeCallNative(nativeMatch,regexp,this);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);if(!rx.global)return regexpExecAbstract(rx,S);var fullUnicode=rx.unicode;rx.lastIndex=0;var A=[];var n=0;var result;while((result=regexpExecAbstract(rx,S))!==null){var matchStr=String(result[0]);A[n]=matchStr;if(matchStr==='')rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode);n++;}return n===0?null:A;}];});function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}var getOwnPropertyNames=objectGetOwnPropertyNames.f;var getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f;var defineProperty$5=objectDefineProperty.f;var trim$1=stringTrim.trim;var NUMBER='Number';var NativeNumber=global_1[NUMBER];var NumberPrototype=NativeNumber.prototype;var BROKEN_CLASSOF=classofRaw(objectCreate(NumberPrototype))==NUMBER;var toNumber=function toNumber(argument){var it=toPrimitive(argument,false);var first,third,radix,maxCode,digits,length,index,code;if(typeof it=='string'&&it.length>2){it=trim$1(it);first=it.charCodeAt(0);if(first===43||first===45){third=it.charCodeAt(2);if(third===88||third===120)return NaN;}else if(first===48){switch(it.charCodeAt(1)){case 66:case 98:radix=2;maxCode=49;break;case 79:case 111:radix=8;maxCode=55;break;default:return+it;}digits=it.slice(2);length=digits.length;for(index=0;index<length;index++){code=digits.charCodeAt(index);if(code<48||code>maxCode)return NaN;}return parseInt(digits,radix);}}return+it;};if(isForced_1(NUMBER,!NativeNumber(' 0o1')||!NativeNumber('0b1')||NativeNumber('+0x1'))){var NumberWrapper=function Number(value){var it=arguments.length<1?0:value;var dummy=this;return dummy instanceof NumberWrapper&&(BROKEN_CLASSOF?fails(function(){NumberPrototype.valueOf.call(dummy);}):classofRaw(dummy)!=NUMBER)?inheritIfRequired(new NativeNumber(toNumber(it)),dummy,NumberWrapper):toNumber(it);};for(var keys$1=descriptors?getOwnPropertyNames(NativeNumber):('MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,'+'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,'+'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger').split(','),j=0,key;keys$1.length>j;j++){if(has(NativeNumber,key=keys$1[j])&&!has(NumberWrapper,key)){defineProperty$5(NumberWrapper,key,getOwnPropertyDescriptor$2(NativeNumber,key));}}NumberWrapper.prototype=NumberPrototype;NumberPrototype.constructor=NumberWrapper;redefine(global_1,NUMBER,NumberWrapper);}var trim$2=stringTrim.trim;var nativeParseFloat=global_1.parseFloat;var FORCED$2=1/nativeParseFloat(whitespaces+'-0')!==-Infinity;var _parseFloat=FORCED$2?function parseFloat(string){var trimmedString=trim$2(String(string));var result=nativeParseFloat(trimmedString);return result===0&&trimmedString.charAt(0)=='-'?-0:result;}:nativeParseFloat;_export({global:true,forced:parseFloat!=_parseFloat},{parseFloat:_parseFloat});var Point=function(){function Point(){_classCallCheck(this,Point);this.init.apply(this,arguments);}_createClass(Point,[{key:"init",value:function init(x,y){var base={x:0,y:0};var source=Array.isArray(x)?{x:x[0],y:x[1]}:_typeof(x)==='object'?{x:x.x,y:x.y}:{x:x,y:y};this.x=source.x==null?base.x:source.x;this.y=source.y==null?base.y:source.y;return this;}},{key:"clone",value:function clone(){return new Point(this);}},{key:"transform",value:function transform(m){return this.clone().transformO(m);}},{key:"transformO",value:function transformO(m){if(!Matrix.isMatrixLike(m)){m=new Matrix(m);}var x=this.x,y=this.y;this.x=m.a*x+m.c*y+m.e;this.y=m.b*x+m.d*y+m.f;return this;}},{key:"toArray",value:function toArray(){return[this.x,this.y];}}]);return Point;}();function point(x,y){return new Point(x,y).transform(this.screenCTM().inverse());}function closeEnough(a,b,threshold){return Math.abs(b-a)<(threshold||1e-6);}var Matrix=function(){function Matrix(){_classCallCheck(this,Matrix);this.init.apply(this,arguments);}_createClass(Matrix,[{key:"init",value:function init(source){var base=Matrix.fromArray([1,0,0,1,0,0]);source=source instanceof Element?source.matrixify():typeof source==='string'?Matrix.fromArray(source.split(delimiter).map(parseFloat)):Array.isArray(source)?Matrix.fromArray(source):_typeof(source)==='object'&&Matrix.isMatrixLike(source)?source:_typeof(source)==='object'?new Matrix().transform(source):arguments.length===6?Matrix.fromArray([].slice.call(arguments)):base;this.a=source.a!=null?source.a:base.a;this.b=source.b!=null?source.b:base.b;this.c=source.c!=null?source.c:base.c;this.d=source.d!=null?source.d:base.d;this.e=source.e!=null?source.e:base.e;this.f=source.f!=null?source.f:base.f;return this;}},{key:"clone",value:function clone(){return new Matrix(this);}},{key:"transform",value:function transform(o){if(Matrix.isMatrixLike(o)){var matrix=new Matrix(o);return matrix.multiplyO(this);}var t=Matrix.formatTransforms(o);var current=this;var _transform=new Point(t.ox,t.oy).transform(current),ox=_transform.x,oy=_transform.y;var transformer=new Matrix().translateO(t.rx,t.ry).lmultiplyO(current).translateO(-ox,-oy).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(ox,oy);if(isFinite(t.px)||isFinite(t.py)){var origin=new Point(ox,oy).transform(transformer);var dx=t.px?t.px-origin.x:0;var dy=t.py?t.py-origin.y:0;transformer.translateO(dx,dy);}transformer.translateO(t.tx,t.ty);return transformer;}},{key:"compose",value:function compose(o){if(o.origin){o.originX=o.origin[0];o.originY=o.origin[1];}var ox=o.originX||0;var oy=o.originY||0;var sx=o.scaleX||1;var sy=o.scaleY||1;var lam=o.shear||0;var theta=o.rotate||0;var tx=o.translateX||0;var ty=o.translateY||0;var result=new Matrix().translateO(-ox,-oy).scaleO(sx,sy).shearO(lam).rotateO(theta).translateO(tx,ty).lmultiplyO(this).translateO(ox,oy);return result;}},{key:"decompose",value:function decompose(){var cx=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var cy=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var a=this.a;var b=this.b;var c=this.c;var d=this.d;var e=this.e;var f=this.f;var determinant=a*d-b*c;var ccw=determinant>0?1:-1;var sx=ccw*Math.sqrt(a*a+b*b);var thetaRad=Math.atan2(ccw*b,ccw*a);var theta=180/Math.PI*thetaRad;var ct=Math.cos(thetaRad);var st=Math.sin(thetaRad);var lam=(a*c+b*d)/determinant;var sy=c*sx/(lam*a-b)||d*sx/(lam*b+a);var tx=e-cx+cx*ct*sx+cy*(lam*ct*sx-st*sy);var ty=f-cy+cx*st*sx+cy*(lam*st*sx+ct*sy);return{scaleX:sx,scaleY:sy,shear:lam,rotate:theta,translateX:tx,translateY:ty,originX:cx,originY:cy,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f};}},{key:"multiply",value:function multiply(matrix){return this.clone().multiplyO(matrix);}},{key:"multiplyO",value:function multiplyO(matrix){var l=this;var r=matrix instanceof Matrix?matrix:new Matrix(matrix);return Matrix.matrixMultiply(l,r,this);}},{key:"lmultiply",value:function lmultiply(matrix){return this.clone().lmultiplyO(matrix);}},{key:"lmultiplyO",value:function lmultiplyO(matrix){var r=this;var l=matrix instanceof Matrix?matrix:new Matrix(matrix);return Matrix.matrixMultiply(l,r,this);}},{key:"inverseO",value:function inverseO(){var a=this.a;var b=this.b;var c=this.c;var d=this.d;var e=this.e;var f=this.f;var det=a*d-b*c;if(!det)throw new Error('Cannot invert '+this);var na=d/det;var nb=-b/det;var nc=-c/det;var nd=a/det;var ne=-(na*e+nc*f);var nf=-(nb*e+nd*f);this.a=na;this.b=nb;this.c=nc;this.d=nd;this.e=ne;this.f=nf;return this;}},{key:"inverse",value:function inverse(){return this.clone().inverseO();}},{key:"translate",value:function translate(x,y){return this.clone().translateO(x,y);}},{key:"translateO",value:function translateO(x,y){this.e+=x||0;this.f+=y||0;return this;}},{key:"scale",value:function scale(x,y,cx,cy){var _this$clone;return(_this$clone=this.clone()).scaleO.apply(_this$clone,arguments);}},{key:"scaleO",value:function scaleO(x){var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:x;var cx=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var cy=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(arguments.length===3){cy=cx;cx=y;y=x;}var a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,f=this.f;this.a=a*x;this.b=b*y;this.c=c*x;this.d=d*y;this.e=e*x-cx*x+cx;this.f=f*y-cy*y+cy;return this;}},{key:"rotate",value:function rotate(r,cx,cy){return this.clone().rotateO(r,cx,cy);}},{key:"rotateO",value:function rotateO(r){var cx=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var cy=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;r=radians(r);var cos=Math.cos(r);var sin=Math.sin(r);var a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,f=this.f;this.a=a*cos-b*sin;this.b=b*cos+a*sin;this.c=c*cos-d*sin;this.d=d*cos+c*sin;this.e=e*cos-f*sin+cy*sin-cx*cos+cx;this.f=f*cos+e*sin-cx*sin-cy*cos+cy;return this;}},{key:"flip",value:function flip(axis,around){return this.clone().flipO(axis,around);}},{key:"flipO",value:function flipO(axis,around){return axis==='x'?this.scaleO(-1,1,around,0):axis==='y'?this.scaleO(1,-1,0,around):this.scaleO(-1,-1,axis,around||axis);}},{key:"shear",value:function shear(a,cx,cy){return this.clone().shearO(a,cx,cy);}},{key:"shearO",value:function shearO(lx){var cy=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,f=this.f;this.a=a+b*lx;this.c=c+d*lx;this.e=e+f*lx-cy*lx;return this;}},{key:"skew",value:function skew(x,y,cx,cy){var _this$clone2;return(_this$clone2=this.clone()).skewO.apply(_this$clone2,arguments);}},{key:"skewO",value:function skewO(x){var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:x;var cx=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var cy=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(arguments.length===3){cy=cx;cx=y;y=x;}x=radians(x);y=radians(y);var lx=Math.tan(x);var ly=Math.tan(y);var a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,f=this.f;this.a=a+b*lx;this.b=b+a*ly;this.c=c+d*lx;this.d=d+c*ly;this.e=e+f*lx-cy*lx;this.f=f+e*ly-cx*ly;return this;}},{key:"skewX",value:function skewX(x,cx,cy){return this.skew(x,0,cx,cy);}},{key:"skewXO",value:function skewXO(x,cx,cy){return this.skewO(x,0,cx,cy);}},{key:"skewY",value:function skewY(y,cx,cy){return this.skew(0,y,cx,cy);}},{key:"skewYO",value:function skewYO(y,cx,cy){return this.skewO(0,y,cx,cy);}},{key:"aroundO",value:function aroundO(cx,cy,matrix){var dx=cx||0;var dy=cy||0;return this.translateO(-dx,-dy).lmultiplyO(matrix).translateO(dx,dy);}},{key:"around",value:function around(cx,cy,matrix){return this.clone().aroundO(cx,cy,matrix);}},{key:"equals",value:function equals(other){var comp=new Matrix(other);return closeEnough(this.a,comp.a)&&closeEnough(this.b,comp.b)&&closeEnough(this.c,comp.c)&&closeEnough(this.d,comp.d)&&closeEnough(this.e,comp.e)&&closeEnough(this.f,comp.f);}},{key:"toString",value:function toString(){return'matrix('+this.a+','+this.b+','+this.c+','+this.d+','+this.e+','+this.f+')';}},{key:"toArray",value:function toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f];}},{key:"valueOf",value:function valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f};}}],[{key:"fromArray",value:function fromArray(a){return{a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]};}},{key:"isMatrixLike",value:function isMatrixLike(o){return o.a!=null||o.b!=null||o.c!=null||o.d!=null||o.e!=null||o.f!=null;}},{key:"formatTransforms",value:function formatTransforms(o){var flipBoth=o.flip==='both'||o.flip===true;var flipX=o.flip&&(flipBoth||o.flip==='x')?-1:1;var flipY=o.flip&&(flipBoth||o.flip==='y')?-1:1;var skewX=o.skew&&o.skew.length?o.skew[0]:isFinite(o.skew)?o.skew:isFinite(o.skewX)?o.skewX:0;var skewY=o.skew&&o.skew.length?o.skew[1]:isFinite(o.skew)?o.skew:isFinite(o.skewY)?o.skewY:0;var scaleX=o.scale&&o.scale.length?o.scale[0]*flipX:isFinite(o.scale)?o.scale*flipX:isFinite(o.scaleX)?o.scaleX*flipX:flipX;var scaleY=o.scale&&o.scale.length?o.scale[1]*flipY:isFinite(o.scale)?o.scale*flipY:isFinite(o.scaleY)?o.scaleY*flipY:flipY;var shear=o.shear||0;var theta=o.rotate||o.theta||0;var origin=new Point(o.origin||o.around||o.ox||o.originX,o.oy||o.originY);var ox=origin.x;var oy=origin.y;var position=new Point(o.position||o.px||o.positionX,o.py||o.positionY);var px=position.x;var py=position.y;var translate=new Point(o.translate||o.tx||o.translateX,o.ty||o.translateY);var tx=translate.x;var ty=translate.y;var relative=new Point(o.relative||o.rx||o.relativeX,o.ry||o.relativeY);var rx=relative.x;var ry=relative.y;return{scaleX:scaleX,scaleY:scaleY,skewX:skewX,skewY:skewY,shear:shear,theta:theta,rx:rx,ry:ry,tx:tx,ty:ty,ox:ox,oy:oy,px:px,py:py};}},{key:"matrixMultiply",value:function matrixMultiply(l,r,o){var a=l.a*r.a+l.c*r.b;var b=l.b*r.a+l.d*r.b;var c=l.a*r.c+l.c*r.d;var d=l.b*r.c+l.d*r.d;var e=l.e+l.a*r.e+l.c*r.f;var f=l.f+l.b*r.e+l.d*r.f;o.a=a;o.b=b;o.c=c;o.d=d;o.e=e;o.f=f;return o;}}]);return Matrix;}();function ctm(){return new Matrix(this.node.getCTM());}function screenCTM(){if(typeof this.isRoot==='function'&&!this.isRoot()){var rect=this.rect(1,1);var m=rect.node.getScreenCTM();rect.remove();return new Matrix(m);}return new Matrix(this.node.getScreenCTM());}register(Matrix,'Matrix');function parser(){if(!parser.nodes){var svg=makeInstance().size(2,0);svg.node.style.cssText=['opacity: 0','position: absolute','left: -100%','top: -100%','overflow: hidden'].join(';');svg.attr('focusable','false');svg.attr('aria-hidden','true');var path=svg.path().node;parser.nodes={svg:svg,path:path};}if(!parser.nodes.svg.node.parentNode){var b=globals.document.body||globals.document.documentElement;parser.nodes.svg.addTo(b);}return parser.nodes;}function isNulledBox(box){return!box.width&&!box.height&&!box.x&&!box.y;}function domContains(node){return node===globals.document||(globals.document.documentElement.contains||function(node){while(node.parentNode){node=node.parentNode;}return node===globals.document;}).call(globals.document.documentElement,node);}var Box=function(){function Box(){_classCallCheck(this,Box);this.init.apply(this,arguments);}_createClass(Box,[{key:"init",value:function init(source){var base=[0,0,0,0];source=typeof source==='string'?source.split(delimiter).map(parseFloat):Array.isArray(source)?source:_typeof(source)==='object'?[source.left!=null?source.left:source.x,source.top!=null?source.top:source.y,source.width,source.height]:arguments.length===4?[].slice.call(arguments):base;this.x=source[0]||0;this.y=source[1]||0;this.width=this.w=source[2]||0;this.height=this.h=source[3]||0;this.x2=this.x+this.w;this.y2=this.y+this.h;this.cx=this.x+this.w/2;this.cy=this.y+this.h/2;return this;}},{key:"merge",value:function merge(box){var x=Math.min(this.x,box.x);var y=Math.min(this.y,box.y);var width=Math.max(this.x+this.width,box.x+box.width)-x;var height=Math.max(this.y+this.height,box.y+box.height)-y;return new Box(x,y,width,height);}},{key:"transform",value:function transform(m){if(!(m instanceof Matrix)){m=new Matrix(m);}var xMin=Infinity;var xMax=-Infinity;var yMin=Infinity;var yMax=-Infinity;var pts=[new Point(this.x,this.y),new Point(this.x2,this.y),new Point(this.x,this.y2),new Point(this.x2,this.y2)];pts.forEach(function(p){p=p.transform(m);xMin=Math.min(xMin,p.x);xMax=Math.max(xMax,p.x);yMin=Math.min(yMin,p.y);yMax=Math.max(yMax,p.y);});return new Box(xMin,yMin,xMax-xMin,yMax-yMin);}},{key:"addOffset",value:function addOffset(){this.x+=globals.window.pageXOffset;this.y+=globals.window.pageYOffset;return this;}},{key:"toString",value:function toString(){return this.x+' '+this.y+' '+this.width+' '+this.height;}},{key:"toArray",value:function toArray(){return[this.x,this.y,this.width,this.height];}},{key:"isNulled",value:function isNulled(){return isNulledBox(this);}}]);return Box;}();function getBox(cb,retry){var box;try{box=cb(this.node);if(isNulledBox(box)&&!domContains(this.node)){throw new Error('Element not in the dom');}}catch(e){box=retry(this);}return box;}function bbox(){return new Box(getBox.call(this,function(node){return node.getBBox();},function(el){try{var clone=el.clone().addTo(parser().svg).show();var box=clone.node.getBBox();clone.remove();return box;}catch(e){throw new Error('Getting bbox of element "'+el.node.nodeName+'" is not possible. '+e.toString());}}));}function rbox(el){var box=new Box(getBox.call(this,function(node){return node.getBoundingClientRect();},function(el){throw new Error('Getting rbox of element "'+el.node.nodeName+'" is not possible');}));if(el)return box.transform(el.screenCTM().inverse());return box.addOffset();}registerMethods({viewbox:{viewbox:function viewbox(x,y,width,height){if(x==null)return new Box(this.attr('viewBox'));return this.attr('viewBox',new Box(x,y,width,height));},zoom:function zoom(level,point){var width=this.node.clientWidth;var height=this.node.clientHeight;var v=this.viewbox();if(!width&&!height){var style=window.getComputedStyle(this.node);width=parseFloat(style.getPropertyValue('width'));height=parseFloat(style.getPropertyValue('height'));}var zoomX=width/v.width;var zoomY=height/v.height;var zoom=Math.min(zoomX,zoomY);if(level==null){return zoom;}var zoomAmount=zoom/level;if(zoomAmount===Infinity)zoomAmount=Number.MIN_VALUE;point=point||new Point(width/2/zoomX+v.x,height/2/zoomY+v.y);var box=new Box(v).transform(new Matrix({scale:zoomAmount,origin:point}));return this.viewbox(box);}}});register(Box,'Box');var subClassArray=function(){try{return Function('name','baseClass','_constructor',['baseClass = baseClass || Array','return {','  [name]: class extends baseClass {','    constructor (...args) {','      super(...args)','      _constructor && _constructor.apply(this, args)','    }','  }','}[name]'].join('\n'));}catch(e){return function(name){var baseClass=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Array;var _constructor=arguments.length>2?arguments[2]:undefined;var Arr=function Arr(){baseClass.apply(this,arguments);_constructor&&_constructor.apply(this,arguments);};Arr.prototype=Object.create(baseClass.prototype);Arr.prototype.constructor=Arr;Arr.prototype.map=function(fn){var arr=new Arr();arr.push.apply(arr,Array.prototype.map.call(this,fn));return arr;};return Arr;};}}();var List=subClassArray('List',Array,function(){var arr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(typeof arr==='number')return this;this.length=0;this.push.apply(this,_toConsumableArray(arr));});extend(List,{each:function each(fnOrMethodName){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}if(typeof fnOrMethodName==='function'){return this.map(function(el){return fnOrMethodName.call(el,el);});}else{return this.map(function(el){return el[fnOrMethodName].apply(el,args);});}},toArray:function toArray(){return Array.prototype.concat.apply([],this);}});var reserved=['toArray','constructor','each'];List.extend=function(methods){methods=methods.reduce(function(obj,name){if(reserved.includes(name))return obj;if(name[0]==='_')return obj;obj[name]=function(){for(var _len2=arguments.length,attrs=new Array(_len2),_key2=0;_key2<_len2;_key2++){attrs[_key2]=arguments[_key2];}return this.each.apply(this,[name].concat(attrs));};return obj;},{});extend(List,methods);};function baseFind(query,parent){return new List(map((parent||globals.document).querySelectorAll(query),function(node){return adopt(node);}));}function find(query){return baseFind(query,this.node);}function findOne(query){return adopt(this.node.querySelector(query));}var EventTarget=function(_Base){_inherits(EventTarget,_Base);function EventTarget(){var _this;var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$events=_ref.events,events=_ref$events===void 0?{}:_ref$events;_classCallCheck(this,EventTarget);_this=_possibleConstructorReturn(this,_getPrototypeOf(EventTarget).call(this));_this.events=events;return _this;}_createClass(EventTarget,[{key:"addEventListener",value:function addEventListener(){}},{key:"dispatch",value:function dispatch$1(event,data){return dispatch(this,event,data);}},{key:"dispatchEvent",value:function dispatchEvent(event){var bag=this.getEventHolder().events;if(!bag)return true;var events=bag[event.type];for(var i in events){for(var j in events[i]){events[i][j](event);}}return!event.defaultPrevented;}},{key:"fire",value:function fire(event,data){this.dispatch(event,data);return this;}},{key:"getEventHolder",value:function getEventHolder(){return this;}},{key:"getEventTarget",value:function getEventTarget(){return this;}},{key:"off",value:function off$1(event,listener){off(this,event,listener);return this;}},{key:"on",value:function on$1(event,listener,binding,options){on(this,event,listener,binding,options);return this;}},{key:"removeEventListener",value:function removeEventListener(){}}]);return EventTarget;}(Base);register(EventTarget,'EventTarget');function noop(){}var timeline={duration:400,ease:'>',delay:0};var attrs={'fill-opacity':1,'stroke-opacity':1,'stroke-width':0,'stroke-linejoin':'miter','stroke-linecap':'butt',fill:'#000000',stroke:'#000000',opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,'stop-opacity':1,'stop-color':'#000000','text-anchor':'start'};var defaults={__proto__:null,noop:noop,timeline:timeline,attrs:attrs};var SVGArray=subClassArray('SVGArray',Array,function(arr){this.init(arr);});extend(SVGArray,{init:function init(arr){if(typeof arr==='number')return this;this.length=0;this.push.apply(this,_toConsumableArray(this.parse(arr)));return this;},toArray:function toArray(){return Array.prototype.concat.apply([],this);},toString:function toString(){return this.join(' ');},valueOf:function valueOf(){var ret=[];ret.push.apply(ret,_toConsumableArray(this));return ret;},parse:function parse(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(array instanceof Array)return array;return array.trim().split(delimiter).map(parseFloat);},clone:function clone(){return new this.constructor(this);},toSet:function toSet(){return new Set(this);}});var SVGNumber=function(){function SVGNumber(){_classCallCheck(this,SVGNumber);this.init.apply(this,arguments);}_createClass(SVGNumber,[{key:"init",value:function init(value,unit){unit=Array.isArray(value)?value[1]:unit;value=Array.isArray(value)?value[0]:value;this.value=0;this.unit=unit||'';if(typeof value==='number'){this.value=isNaN(value)?0:!isFinite(value)?value<0?-3.4e+38:+3.4e+38:value;}else if(typeof value==='string'){unit=value.match(numberAndUnit);if(unit){this.value=parseFloat(unit[1]);if(unit[5]==='%'){this.value/=100;}else if(unit[5]==='s'){this.value*=1000;}this.unit=unit[5];}}else{if(value instanceof SVGNumber){this.value=value.valueOf();this.unit=value.unit;}}return this;}},{key:"toString",value:function toString(){return(this.unit==='%'?~~(this.value*1e8)/1e6:this.unit==='s'?this.value/1e3:this.value)+this.unit;}},{key:"toJSON",value:function toJSON(){return this.toString();}},{key:"toArray",value:function toArray(){return[this.value,this.unit];}},{key:"valueOf",value:function valueOf(){return this.value;}},{key:"plus",value:function plus(number){number=new SVGNumber(number);return new SVGNumber(this+number,this.unit||number.unit);}},{key:"minus",value:function minus(number){number=new SVGNumber(number);return new SVGNumber(this-number,this.unit||number.unit);}},{key:"times",value:function times(number){number=new SVGNumber(number);return new SVGNumber(this*number,this.unit||number.unit);}},{key:"divide",value:function divide(number){number=new SVGNumber(number);return new SVGNumber(this/number,this.unit||number.unit);}},{key:"convert",value:function convert(unit){return new SVGNumber(this.value,unit);}}]);return SVGNumber;}();var hooks=[];function registerAttrHook(fn){hooks.push(fn);}function attr(attr,val,ns){var _this=this;if(attr==null){attr={};val=this.node.attributes;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=val[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var node=_step.value;attr[node.nodeName]=isNumber.test(node.nodeValue)?parseFloat(node.nodeValue):node.nodeValue;}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}return attr;}else if(attr instanceof Array){return attr.reduce(function(last,curr){last[curr]=_this.attr(curr);return last;},{});}else if(_typeof(attr)==='object'&&attr.constructor===Object){for(val in attr){this.attr(val,attr[val]);}}else if(val===null){this.node.removeAttribute(attr);}else if(val==null){val=this.node.getAttribute(attr);return val==null?attrs[attr]:isNumber.test(val)?parseFloat(val):val;}else{val=hooks.reduce(function(_val,hook){return hook(attr,_val,_this);},val);if(typeof val==='number'){val=new SVGNumber(val);}else if(Color.isColor(val)){val=new Color(val);}else if(val.constructor===Array){val=new SVGArray(val);}if(attr==='leading'){if(this.leading){this.leading(val);}}else{typeof ns==='string'?this.node.setAttributeNS(ns,attr,val.toString()):this.node.setAttribute(attr,val.toString());}if(this.rebuild&&(attr==='font-size'||attr==='x')){this.rebuild();}}return this;}var Dom=function(_EventTarget){_inherits(Dom,_EventTarget);function Dom(node,attrs){var _this2;_classCallCheck(this,Dom);_this2=_possibleConstructorReturn(this,_getPrototypeOf(Dom).call(this,node));_this2.node=node;_this2.type=node.nodeName;if(attrs&&node!==attrs){_this2.attr(attrs);}return _this2;}_createClass(Dom,[{key:"add",value:function add(element,i){element=makeInstance(element);if(i==null){this.node.appendChild(element.node);}else if(element.node!==this.node.childNodes[i]){this.node.insertBefore(element.node,this.node.childNodes[i]);}return this;}},{key:"addTo",value:function addTo(parent){return makeInstance(parent).put(this);}},{key:"children",value:function children(){return new List(map(this.node.children,function(node){return adopt(node);}));}},{key:"clear",value:function clear(){while(this.node.hasChildNodes()){this.node.removeChild(this.node.lastChild);}return this;}},{key:"clone",value:function clone(){this.writeDataToDom();return assignNewId(this.node.cloneNode(true));}},{key:"each",value:function each(block,deep){var children=this.children();var i,il;for(i=0,il=children.length;i<il;i++){block.apply(children[i],[i,children]);if(deep){children[i].each(block,deep);}}return this;}},{key:"element",value:function element(nodeName){return this.put(new Dom(create(nodeName)));}},{key:"first",value:function first(){return adopt(this.node.firstChild);}},{key:"get",value:function get(i){return adopt(this.node.childNodes[i]);}},{key:"getEventHolder",value:function getEventHolder(){return this.node;}},{key:"getEventTarget",value:function getEventTarget(){return this.node;}},{key:"has",value:function has(element){return this.index(element)>=0;}},{key:"id",value:function id(_id){if(typeof _id==='undefined'&&!this.node.id){this.node.id=eid(this.type);}return this.attr('id',_id);}},{key:"index",value:function index(element){return[].slice.call(this.node.childNodes).indexOf(element.node);}},{key:"last",value:function last(){return adopt(this.node.lastChild);}},{key:"matches",value:function matches(selector){var el=this.node;return(el.matches||el.matchesSelector||el.msMatchesSelector||el.mozMatchesSelector||el.webkitMatchesSelector||el.oMatchesSelector).call(el,selector);}},{key:"parent",value:function parent(type){var parent=this;if(!parent.node.parentNode)return null;parent=adopt(parent.node.parentNode);if(!type)return parent;while(parent){if(typeof type==='string'?parent.matches(type):parent instanceof type)return parent;if(!parent.node.parentNode||parent.node.parentNode.nodeName==='#document'||parent.node.parentNode.nodeName==='#document-fragment')return null;parent=adopt(parent.node.parentNode);}}},{key:"put",value:function put(element,i){this.add(element,i);return element;}},{key:"putIn",value:function putIn(parent){return makeInstance(parent).add(this);}},{key:"remove",value:function remove(){if(this.parent()){this.parent().removeElement(this);}return this;}},{key:"removeElement",value:function removeElement(element){this.node.removeChild(element.node);return this;}},{key:"replace",value:function replace(element){element=makeInstance(element);this.node.parentNode.replaceChild(element.node,this.node);return element;}},{key:"round",value:function round(){var precision=arguments.length>0&&arguments[0]!==undefined?arguments[0]:2;var map=arguments.length>1?arguments[1]:undefined;var factor=Math.pow(10,precision);var attrs=this.attr();if(!map){map=Object.keys(attrs);}var newAttrs={};map.forEach(function(key){newAttrs[key]=Math.round(attrs[key]*factor)/factor;});this.attr(newAttrs);return this;}},{key:"toString",value:function toString(){return this.id();}},{key:"svg",value:function svg(svgOrFn,outerHTML){var well,len,fragment;if(svgOrFn===false){outerHTML=false;svgOrFn=null;}if(svgOrFn==null||typeof svgOrFn==='function'){outerHTML=outerHTML==null?true:outerHTML;this.writeDataToDom();var current=this;if(svgOrFn!=null){current=adopt(current.node.cloneNode(true));if(outerHTML){var result=svgOrFn(current);current=result||current;if(result===false)return'';}current.each(function(){var result=svgOrFn(this);var _this=result||this;if(result===false){this.remove();}else if(result&&this!==_this){this.replace(_this);}},true);}return outerHTML?current.node.outerHTML:current.node.innerHTML;}outerHTML=outerHTML==null?false:outerHTML;well=globals.document.createElementNS(ns,'svg');fragment=globals.document.createDocumentFragment();well.innerHTML=svgOrFn;for(len=well.children.length;len--;){fragment.appendChild(well.firstElementChild);}var parent=this.parent();return outerHTML?this.replace(fragment)&&parent:this.add(fragment);}},{key:"words",value:function words(text){this.node.textContent=text;return this;}},{key:"writeDataToDom",value:function writeDataToDom(){this.each(function(){this.writeDataToDom();});return this;}}]);return Dom;}(EventTarget);extend(Dom,{attr:attr,find:find,findOne:findOne});register(Dom,'Dom');var Element=function(_Dom){_inherits(Element,_Dom);function Element(node,attrs){var _this;_classCallCheck(this,Element);_this=_possibleConstructorReturn(this,_getPrototypeOf(Element).call(this,node,attrs));_this.dom={};_this.node.instance=_assertThisInitialized(_this);if(node.hasAttribute('svgjs:data')){_this.setData(JSON.parse(node.getAttribute('svgjs:data'))||{});}return _this;}_createClass(Element,[{key:"center",value:function center(x,y){return this.cx(x).cy(y);}},{key:"cx",value:function cx(x){return x==null?this.x()+this.width()/2:this.x(x-this.width()/2);}},{key:"cy",value:function cy(y){return y==null?this.y()+this.height()/2:this.y(y-this.height()/2);}},{key:"defs",value:function defs(){return this.root().defs();}},{key:"dmove",value:function dmove(x,y){return this.dx(x).dy(y);}},{key:"dx",value:function dx(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return this.x(new SVGNumber(x).plus(this.x()));}},{key:"dy",value:function dy(){var y=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return this.y(new SVGNumber(y).plus(this.y()));}},{key:"root",value:function root$1(){var p=this.parent(getClass(root));return p&&p.root();}},{key:"getEventHolder",value:function getEventHolder(){return this;}},{key:"height",value:function height(_height){return this.attr('height',_height);}},{key:"inside",value:function inside(x,y){var box=this.bbox();return x>box.x&&y>box.y&&x<box.x+box.width&&y<box.y+box.height;}},{key:"move",value:function move(x,y){return this.x(x).y(y);}},{key:"parents",value:function parents(){var until=arguments.length>0&&arguments[0]!==undefined?arguments[0]:globals.document;until=makeInstance(until);var parents=new List();var parent=this;while((parent=parent.parent())&&parent.node!==until.node&&parent.node!==globals.document){parents.push(parent);}return parents;}},{key:"reference",value:function reference$1(attr){attr=this.attr(attr);if(!attr)return null;var m=attr.match(reference);return m?makeInstance(m[1]):null;}},{key:"setData",value:function setData(o){this.dom=o;return this;}},{key:"size",value:function size(width,height){var p=proportionalSize(this,width,height);return this.width(new SVGNumber(p.width)).height(new SVGNumber(p.height));}},{key:"width",value:function width(_width){return this.attr('width',_width);}},{key:"writeDataToDom",value:function writeDataToDom(){this.node.removeAttribute('svgjs:data');if(Object.keys(this.dom).length){this.node.setAttribute('svgjs:data',JSON.stringify(this.dom));}return _get(_getPrototypeOf(Element.prototype),"writeDataToDom",this).call(this);}},{key:"x",value:function x(_x){return this.attr('x',_x);}},{key:"y",value:function y(_y){return this.attr('y',_y);}}]);return Element;}(Dom);extend(Element,{bbox:bbox,rbox:rbox,point:point,ctm:ctm,screenCTM:screenCTM});register(Element,'Element');var sugar={stroke:['color','width','opacity','linecap','linejoin','miterlimit','dasharray','dashoffset'],fill:['color','opacity','rule'],prefix:function prefix(t,a){return a==='color'?t:t+'-'+a;}};['fill','stroke'].forEach(function(m){var extension={};var i;extension[m]=function(o){if(typeof o==='undefined'){return this.attr(m);}if(typeof o==='string'||o instanceof Color||Color.isRgb(o)||o instanceof Element){this.attr(m,o);}else{for(i=sugar[m].length-1;i>=0;i--){if(o[sugar[m][i]]!=null){this.attr(sugar.prefix(m,sugar[m][i]),o[sugar[m][i]]);}}}return this;};registerMethods(['Element','Runner'],extension);});registerMethods(['Element','Runner'],{matrix:function matrix(mat,b,c,d,e,f){if(mat==null){return new Matrix(this);}return this.attr('transform',new Matrix(mat,b,c,d,e,f));},rotate:function rotate(angle,cx,cy){return this.transform({rotate:angle,ox:cx,oy:cy},true);},skew:function skew(x,y,cx,cy){return arguments.length===1||arguments.length===3?this.transform({skew:x,ox:y,oy:cx},true):this.transform({skew:[x,y],ox:cx,oy:cy},true);},shear:function shear(lam,cx,cy){return this.transform({shear:lam,ox:cx,oy:cy},true);},scale:function scale(x,y,cx,cy){return arguments.length===1||arguments.length===3?this.transform({scale:x,ox:y,oy:cx},true):this.transform({scale:[x,y],ox:cx,oy:cy},true);},translate:function translate(x,y){return this.transform({translate:[x,y]},true);},relative:function relative(x,y){return this.transform({relative:[x,y]},true);},flip:function flip(direction,around){var directionString=typeof direction==='string'?direction:isFinite(direction)?'both':'both';var origin=direction==='both'&&isFinite(around)?[around,around]:direction==='x'?[around,0]:direction==='y'?[0,around]:isFinite(direction)?[direction,direction]:[0,0];return this.transform({flip:directionString,origin:origin},true);},opacity:function opacity(value){return this.attr('opacity',value);}});registerMethods('radius',{radius:function radius(x,y){var type=(this._element||this).type;return type==='radialGradient'||type==='radialGradient'?this.attr('r',new SVGNumber(x)):this.rx(x).ry(y==null?x:y);}});registerMethods('Path',{length:function length(){return this.node.getTotalLength();},pointAt:function pointAt(length){return new Point(this.node.getPointAtLength(length));}});registerMethods(['Element','Runner'],{font:function font(a,v){if(_typeof(a)==='object'){for(v in a){this.font(v,a[v]);}return this;}return a==='leading'?this.leading(v):a==='anchor'?this.attr('text-anchor',v):a==='size'||a==='family'||a==='weight'||a==='stretch'||a==='variant'||a==='style'?this.attr('font-'+a,v):this.attr(a,v);}});registerMethods('Text',{ax:function ax(x){return this.attr('x',x);},ay:function ay(y){return this.attr('y',y);},amove:function amove(x,y){return this.ax(x).ay(y);}});var methods$1=['click','dblclick','mousedown','mouseup','mouseover','mouseout','mousemove','mouseenter','mouseleave','touchstart','touchmove','touchleave','touchend','touchcancel'].reduce(function(last,event){var fn=function fn(f){if(f===null){off(this,event);}else{on(this,event,f);}return this;};last[event]=fn;return last;},{});registerMethods('Element',methods$1);var nativeReverse=[].reverse;var test$1=[1,2];_export({target:'Array',proto:true,forced:String(test$1)===String(test$1.reverse())},{reverse:function reverse(){if(isArray(this))this.length=this.length;return nativeReverse.call(this);}});_export({target:'Object',stat:true,forced:!descriptors,sham:!descriptors},{defineProperties:objectDefineProperties});_export({target:'Object',stat:true,forced:!descriptors,sham:!descriptors},{defineProperty:objectDefineProperty.f});var nativeGetOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f;var FAILS_ON_PRIMITIVES$2=fails(function(){nativeGetOwnPropertyDescriptor$2(1);});var FORCED$3=!descriptors||FAILS_ON_PRIMITIVES$2;_export({target:'Object',stat:true,forced:FORCED$3,sham:!descriptors},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(it,key){return nativeGetOwnPropertyDescriptor$2(toIndexedObject(it),key);}});_export({target:'Object',stat:true,sham:!descriptors},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){var O=toIndexedObject(object);var getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f;var keys=ownKeys(O);var result={};var index=0;var key,descriptor;while(keys.length>index){descriptor=getOwnPropertyDescriptor(O,key=keys[index++]);if(descriptor!==undefined)createProperty(result,key,descriptor);}return result;}});function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys$1(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys$1(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function untransform(){return this.attr('transform',null);}function matrixify(){var matrix=(this.attr('transform')||'').split(transforms).slice(0,-1).map(function(str){var kv=str.trim().split('(');return[kv[0],kv[1].split(delimiter).map(function(str){return parseFloat(str);})];}).reverse().reduce(function(matrix,transform){if(transform[0]==='matrix'){return matrix.lmultiply(Matrix.fromArray(transform[1]));}return matrix[transform[0]].apply(matrix,transform[1]);},new Matrix());return matrix;}function toParent(parent){if(this===parent)return this;var ctm=this.screenCTM();var pCtm=parent.screenCTM().inverse();this.addTo(parent).untransform().transform(pCtm.multiply(ctm));return this;}function toRoot(){return this.toParent(this.root());}function transform(o,relative){if(o==null||typeof o==='string'){var decomposed=new Matrix(this).decompose();return o==null?decomposed:decomposed[o];}if(!Matrix.isMatrixLike(o)){o=_objectSpread({},o,{origin:getOrigin(o,this)});}var cleanRelative=relative===true?this:relative||false;var result=new Matrix(cleanRelative).transform(o);return this.attr('transform',result);}registerMethods('Element',{untransform:untransform,matrixify:matrixify,toParent:toParent,toRoot:toRoot,transform:transform});function rx(rx){return this.attr('rx',rx);}function ry(ry){return this.attr('ry',ry);}function x(x){return x==null?this.cx()-this.rx():this.cx(x+this.rx());}function y(y){return y==null?this.cy()-this.ry():this.cy(y+this.ry());}function cx(x){return x==null?this.attr('cx'):this.attr('cx',x);}function cy(y){return y==null?this.attr('cy'):this.attr('cy',y);}function width(width){return width==null?this.rx()*2:this.rx(new SVGNumber(width).divide(2));}function height(height){return height==null?this.ry()*2:this.ry(new SVGNumber(height).divide(2));}var circled={__proto__:null,rx:rx,ry:ry,x:x,y:y,cx:cx,cy:cy,width:width,height:height};var Shape=function(_Element){_inherits(Shape,_Element);function Shape(){_classCallCheck(this,Shape);return _possibleConstructorReturn(this,_getPrototypeOf(Shape).apply(this,arguments));}return Shape;}(Element);register(Shape,'Shape');var Circle=function(_Shape){_inherits(Circle,_Shape);function Circle(node){_classCallCheck(this,Circle);return _possibleConstructorReturn(this,_getPrototypeOf(Circle).call(this,nodeOrNew('circle',node),node));}_createClass(Circle,[{key:"radius",value:function radius(r){return this.attr('r',r);}},{key:"rx",value:function rx(_rx){return this.attr('r',_rx);}},{key:"ry",value:function ry(_ry){return this.rx(_ry);}},{key:"size",value:function size(_size){return this.radius(new SVGNumber(_size).divide(2));}}]);return Circle;}(Shape);extend(Circle,{x:x,y:y,cx:cx,cy:cy,width:width,height:height});registerMethods({Container:{circle:wrapWithAttrCheck(function(size){return this.put(new Circle()).size(size).move(0,0);})}});register(Circle,'Circle');var Container=function(_Element){_inherits(Container,_Element);function Container(){_classCallCheck(this,Container);return _possibleConstructorReturn(this,_getPrototypeOf(Container).apply(this,arguments));}_createClass(Container,[{key:"flatten",value:function flatten(parent){this.each(function(){if(this instanceof Container)return this.flatten(parent).ungroup(parent);return this.toParent(parent);});this.node.firstElementChild||this.remove();return this;}},{key:"ungroup",value:function ungroup(parent){parent=parent||this.parent();this.each(function(){return this.toParent(parent);});this.remove();return this;}}]);return Container;}(Element);register(Container,'Container');var Defs=function(_Container){_inherits(Defs,_Container);function Defs(node){_classCallCheck(this,Defs);return _possibleConstructorReturn(this,_getPrototypeOf(Defs).call(this,nodeOrNew('defs',node),node));}_createClass(Defs,[{key:"flatten",value:function flatten(){return this;}},{key:"ungroup",value:function ungroup(){return this;}}]);return Defs;}(Container);register(Defs,'Defs');var Ellipse=function(_Shape){_inherits(Ellipse,_Shape);function Ellipse(node){_classCallCheck(this,Ellipse);return _possibleConstructorReturn(this,_getPrototypeOf(Ellipse).call(this,nodeOrNew('ellipse',node),node));}_createClass(Ellipse,[{key:"size",value:function size(width,height){var p=proportionalSize(this,width,height);return this.rx(new SVGNumber(p.width).divide(2)).ry(new SVGNumber(p.height).divide(2));}}]);return Ellipse;}(Shape);extend(Ellipse,circled);registerMethods('Container',{ellipse:wrapWithAttrCheck(function(){var width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:width;return this.put(new Ellipse()).size(width,height).move(0,0);})});register(Ellipse,'Ellipse');var Stop=function(_Element){_inherits(Stop,_Element);function Stop(node){_classCallCheck(this,Stop);return _possibleConstructorReturn(this,_getPrototypeOf(Stop).call(this,nodeOrNew('stop',node),node));}_createClass(Stop,[{key:"update",value:function update(o){if(typeof o==='number'||o instanceof SVGNumber){o={offset:arguments[0],color:arguments[1],opacity:arguments[2]};}if(o.opacity!=null)this.attr('stop-opacity',o.opacity);if(o.color!=null)this.attr('stop-color',o.color);if(o.offset!=null)this.attr('offset',new SVGNumber(o.offset));return this;}}]);return Stop;}(Element);register(Stop,'Stop');function from(x,y){return(this._element||this).type==='radialGradient'?this.attr({fx:new SVGNumber(x),fy:new SVGNumber(y)}):this.attr({x1:new SVGNumber(x),y1:new SVGNumber(y)});}function to(x,y){return(this._element||this).type==='radialGradient'?this.attr({cx:new SVGNumber(x),cy:new SVGNumber(y)}):this.attr({x2:new SVGNumber(x),y2:new SVGNumber(y)});}var gradiented={__proto__:null,from:from,to:to};var Gradient=function(_Container){_inherits(Gradient,_Container);function Gradient(type,attrs){_classCallCheck(this,Gradient);return _possibleConstructorReturn(this,_getPrototypeOf(Gradient).call(this,nodeOrNew(type+'Gradient',typeof type==='string'?null:type),attrs));}_createClass(Gradient,[{key:"stop",value:function stop(offset,color,opacity){return this.put(new Stop()).update(offset,color,opacity);}},{key:"update",value:function update(block){this.clear();if(typeof block==='function'){block.call(this,this);}return this;}},{key:"url",value:function url(){return'url(#'+this.id()+')';}},{key:"toString",value:function toString(){return this.url();}},{key:"attr",value:function attr(a,b,c){if(a==='transform')a='gradientTransform';return _get(_getPrototypeOf(Gradient.prototype),"attr",this).call(this,a,b,c);}},{key:"targets",value:function targets(){return baseFind('svg [fill*="'+this.id()+'"]');}},{key:"bbox",value:function bbox(){return new Box();}}]);return Gradient;}(Container);extend(Gradient,gradiented);registerMethods({Container:{gradient:wrapWithAttrCheck(function(type,block){return this.defs().gradient(type,block);})},Defs:{gradient:wrapWithAttrCheck(function(type,block){return this.put(new Gradient(type)).update(block);})}});register(Gradient,'Gradient');var Pattern=function(_Container){_inherits(Pattern,_Container);function Pattern(node){_classCallCheck(this,Pattern);return _possibleConstructorReturn(this,_getPrototypeOf(Pattern).call(this,nodeOrNew('pattern',node),node));}_createClass(Pattern,[{key:"url",value:function url(){return'url(#'+this.id()+')';}},{key:"update",value:function update(block){this.clear();if(typeof block==='function'){block.call(this,this);}return this;}},{key:"toString",value:function toString(){return this.url();}},{key:"attr",value:function attr(a,b,c){if(a==='transform')a='patternTransform';return _get(_getPrototypeOf(Pattern.prototype),"attr",this).call(this,a,b,c);}},{key:"targets",value:function targets(){return baseFind('svg [fill*="'+this.id()+'"]');}},{key:"bbox",value:function bbox(){return new Box();}}]);return Pattern;}(Container);registerMethods({Container:{pattern:function pattern(){var _this$defs;return(_this$defs=this.defs()).pattern.apply(_this$defs,arguments);}},Defs:{pattern:wrapWithAttrCheck(function(width,height,block){return this.put(new Pattern()).update(block).attr({x:0,y:0,width:width,height:height,patternUnits:'userSpaceOnUse'});})}});register(Pattern,'Pattern');var Image=function(_Shape){_inherits(Image,_Shape);function Image(node){_classCallCheck(this,Image);return _possibleConstructorReturn(this,_getPrototypeOf(Image).call(this,nodeOrNew('image',node),node));}_createClass(Image,[{key:"load",value:function load(url,callback){if(!url)return this;var img=new globals.window.Image();on(img,'load',function(e){var p=this.parent(Pattern);if(this.width()===0&&this.height()===0){this.size(img.width,img.height);}if(p instanceof Pattern){if(p.width()===0&&p.height()===0){p.size(this.width(),this.height());}}if(typeof callback==='function'){callback.call(this,e);}},this);on(img,'load error',function(){off(img);});return this.attr('href',img.src=url,xlink);}}]);return Image;}(Shape);registerAttrHook(function(attr,val,_this){if(attr==='fill'||attr==='stroke'){if(isImage.test(val)){val=_this.root().defs().image(val);}}if(val instanceof Image){val=_this.root().defs().pattern(0,0,function(pattern){pattern.add(val);});}return val;});registerMethods({Container:{image:wrapWithAttrCheck(function(source,callback){return this.put(new Image()).size(0,0).load(source,callback);})}});register(Image,'Image');var PointArray=subClassArray('PointArray',SVGArray);extend(PointArray,{toString:function toString(){for(var i=0,il=this.length,array=[];i<il;i++){array.push(this[i].join(','));}return array.join(' ');},toLine:function toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]};},at:function at(pos){if(!this.destination)return this;for(var i=0,il=this.length,array=[];i<il;i++){array.push([this[i][0]+(this.destination[i][0]-this[i][0])*pos,this[i][1]+(this.destination[i][1]-this[i][1])*pos]);}return new PointArray(array);},parse:function parse(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[[0,0]];var points=[];if(array instanceof Array){if(array[0]instanceof Array){return array;}}else{array=array.trim().split(delimiter).map(parseFloat);}if(array.length%2!==0)array.pop();for(var i=0,len=array.length;i<len;i=i+2){points.push([array[i],array[i+1]]);}return points;},transform:function transform(m){var points=[];for(var i=0;i<this.length;i++){var point=this[i];points.push([m.a*point[0]+m.c*point[1]+m.e,m.b*point[0]+m.d*point[1]+m.f]);}return new PointArray(points);},move:function move(x,y){var box=this.bbox();x-=box.x;y-=box.y;if(!isNaN(x)&&!isNaN(y)){for(var i=this.length-1;i>=0;i--){this[i]=[this[i][0]+x,this[i][1]+y];}}return this;},size:function size(width,height){var i;var box=this.bbox();for(i=this.length-1;i>=0;i--){if(box.width)this[i][0]=(this[i][0]-box.x)*width/box.width+box.x;if(box.height)this[i][1]=(this[i][1]-box.y)*height/box.height+box.y;}return this;},bbox:function bbox(){var maxX=-Infinity;var maxY=-Infinity;var minX=Infinity;var minY=Infinity;this.forEach(function(el){maxX=Math.max(el[0],maxX);maxY=Math.max(el[1],maxY);minX=Math.min(el[0],minX);minY=Math.min(el[1],minY);});return{x:minX,y:minY,width:maxX-minX,height:maxY-minY};}});var MorphArray=PointArray;function x$1(x){return x==null?this.bbox().x:this.move(x,this.bbox().y);}function y$1(y){return y==null?this.bbox().y:this.move(this.bbox().x,y);}function width$1(width){var b=this.bbox();return width==null?b.width:this.size(width,b.height);}function height$1(height){var b=this.bbox();return height==null?b.height:this.size(b.width,height);}var pointed={__proto__:null,MorphArray:MorphArray,x:x$1,y:y$1,width:width$1,height:height$1};var Line=function(_Shape){_inherits(Line,_Shape);function Line(node){_classCallCheck(this,Line);return _possibleConstructorReturn(this,_getPrototypeOf(Line).call(this,nodeOrNew('line',node),node));}_createClass(Line,[{key:"array",value:function array(){return new PointArray([[this.attr('x1'),this.attr('y1')],[this.attr('x2'),this.attr('y2')]]);}},{key:"plot",value:function plot(x1,y1,x2,y2){if(x1==null){return this.array();}else if(typeof y1!=='undefined'){x1={x1:x1,y1:y1,x2:x2,y2:y2};}else{x1=new PointArray(x1).toLine();}return this.attr(x1);}},{key:"move",value:function move(x,y){return this.attr(this.array().move(x,y).toLine());}},{key:"size",value:function size(width,height){var p=proportionalSize(this,width,height);return this.attr(this.array().size(p.width,p.height).toLine());}}]);return Line;}(Shape);extend(Line,pointed);registerMethods({Container:{line:wrapWithAttrCheck(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return Line.prototype.plot.apply(this.put(new Line()),args[0]!=null?args:[0,0,0,0]);})}});register(Line,'Line');var Marker=function(_Container){_inherits(Marker,_Container);function Marker(node){_classCallCheck(this,Marker);return _possibleConstructorReturn(this,_getPrototypeOf(Marker).call(this,nodeOrNew('marker',node),node));}_createClass(Marker,[{key:"width",value:function width(_width){return this.attr('markerWidth',_width);}},{key:"height",value:function height(_height){return this.attr('markerHeight',_height);}},{key:"ref",value:function ref(x,y){return this.attr('refX',x).attr('refY',y);}},{key:"update",value:function update(block){this.clear();if(typeof block==='function'){block.call(this,this);}return this;}},{key:"toString",value:function toString(){return'url(#'+this.id()+')';}}]);return Marker;}(Container);registerMethods({Container:{marker:function marker(){var _this$defs;return(_this$defs=this.defs()).marker.apply(_this$defs,arguments);}},Defs:{marker:wrapWithAttrCheck(function(width,height,block){return this.put(new Marker()).size(width,height).ref(width/2,height/2).viewbox(0,0,width,height).attr('orient','auto').update(block);})},marker:{marker:function marker(_marker,width,height,block){var attr=['marker'];if(_marker!=='all')attr.push(_marker);attr=attr.join('-');_marker=arguments[1]instanceof Marker?arguments[1]:this.defs().marker(width,height,block);return this.attr(attr,_marker);}}});register(Marker,'Marker');var nativeSort=[].sort;var test$2=[1,2,3];var FAILS_ON_UNDEFINED=fails(function(){test$2.sort(undefined);});var FAILS_ON_NULL=fails(function(){test$2.sort(null);});var SLOPPY_METHOD$2=sloppyArrayMethod('sort');var FORCED$4=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||SLOPPY_METHOD$2;_export({target:'Array',proto:true,forced:FORCED$4},{sort:function sort(comparefn){return comparefn===undefined?nativeSort.call(toObject(this)):nativeSort.call(toObject(this),aFunction$1(comparefn));}});function makeSetterGetter(k,f){return function(v){if(v==null)return this[v];this[k]=v;if(f)f.call(this);return this;};}var easing={'-':function _(pos){return pos;},'<>':function _(pos){return-Math.cos(pos*Math.PI)/2+0.5;},'>':function _(pos){return Math.sin(pos*Math.PI/2);},'<':function _(pos){return-Math.cos(pos*Math.PI/2)+1;},bezier:function bezier(x1,y1,x2,y2){return function(t){if(t<0){if(x1>0){return y1/x1*t;}else if(x2>0){return y2/x2*t;}else{return 0;}}else if(t>1){if(x2<1){return(1-y2)/(1-x2)*t+(y2-x2)/(1-x2);}else if(x1<1){return(1-y1)/(1-x1)*t+(y1-x1)/(1-x1);}else{return 1;}}else{return 3*t*Math.pow(1-t,2)*y1+3*Math.pow(t,2)*(1-t)*y2+Math.pow(t,3);}};},steps:function steps(_steps){var stepPosition=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'end';stepPosition=stepPosition.split('-').reverse()[0];var jumps=_steps;if(stepPosition==='none'){--jumps;}else if(stepPosition==='both'){++jumps;}return function(t){var beforeFlag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var step=Math.floor(t*_steps);var jumping=t*step%1===0;if(stepPosition==='start'||stepPosition==='both'){++step;}if(beforeFlag&&jumping){--step;}if(t>=0&&step<0){step=0;}if(t<=1&&step>jumps){step=jumps;}return step/jumps;};}};var Stepper=function(){function Stepper(){_classCallCheck(this,Stepper);}_createClass(Stepper,[{key:"done",value:function done(){return false;}}]);return Stepper;}();var Ease=function(_Stepper){_inherits(Ease,_Stepper);function Ease(fn){var _this;_classCallCheck(this,Ease);_this=_possibleConstructorReturn(this,_getPrototypeOf(Ease).call(this));_this.ease=easing[fn||timeline.ease]||fn;return _this;}_createClass(Ease,[{key:"step",value:function step(from,to,pos){if(typeof from!=='number'){return pos<1?from:to;}return from+(to-from)*this.ease(pos);}}]);return Ease;}(Stepper);var Controller=function(_Stepper2){_inherits(Controller,_Stepper2);function Controller(fn){var _this2;_classCallCheck(this,Controller);_this2=_possibleConstructorReturn(this,_getPrototypeOf(Controller).call(this));_this2.stepper=fn;return _this2;}_createClass(Controller,[{key:"step",value:function step(current,target,dt,c){return this.stepper(current,target,dt,c);}},{key:"done",value:function done(c){return c.done;}}]);return Controller;}(Stepper);function recalculate(){var duration=(this._duration||500)/1000;var overshoot=this._overshoot||0;var eps=1e-10;var pi=Math.PI;var os=Math.log(overshoot/100+eps);var zeta=-os/Math.sqrt(pi*pi+os*os);var wn=3.9/(zeta*duration);this.d=2*zeta*wn;this.k=wn*wn;}var Spring=function(_Controller){_inherits(Spring,_Controller);function Spring(duration,overshoot){var _this3;_classCallCheck(this,Spring);_this3=_possibleConstructorReturn(this,_getPrototypeOf(Spring).call(this));_this3.duration(duration||500).overshoot(overshoot||0);return _this3;}_createClass(Spring,[{key:"step",value:function step(current,target,dt,c){if(typeof current==='string')return current;c.done=dt===Infinity;if(dt===Infinity)return target;if(dt===0)return current;if(dt>100)dt=16;dt/=1000;var velocity=c.velocity||0;var acceleration=-this.d*velocity-this.k*(current-target);var newPosition=current+velocity*dt+acceleration*dt*dt/2;c.velocity=velocity+acceleration*dt;c.done=Math.abs(target-newPosition)+Math.abs(velocity)<0.002;return c.done?target:newPosition;}}]);return Spring;}(Controller);extend(Spring,{duration:makeSetterGetter('_duration',recalculate),overshoot:makeSetterGetter('_overshoot',recalculate)});var PID=function(_Controller2){_inherits(PID,_Controller2);function PID(p,i,d,windup){var _this4;_classCallCheck(this,PID);_this4=_possibleConstructorReturn(this,_getPrototypeOf(PID).call(this));p=p==null?0.1:p;i=i==null?0.01:i;d=d==null?0:d;windup=windup==null?1000:windup;_this4.p(p).i(i).d(d).windup(windup);return _this4;}_createClass(PID,[{key:"step",value:function step(current,target,dt,c){if(typeof current==='string')return current;c.done=dt===Infinity;if(dt===Infinity)return target;if(dt===0)return current;var p=target-current;var i=(c.integral||0)+p*dt;var d=(p-(c.error||0))/dt;var windup=this.windup;if(windup!==false){i=Math.max(-windup,Math.min(i,windup));}c.error=p;c.integral=i;c.done=Math.abs(p)<0.001;return c.done?target:current+(this.P*p+this.I*i+this.D*d);}}]);return PID;}(Controller);extend(PID,{windup:makeSetterGetter('windup'),p:makeSetterGetter('P'),i:makeSetterGetter('I'),d:makeSetterGetter('D')});var PathArray=subClassArray('PathArray',SVGArray);function pathRegReplace(a,b,c,d){return c+d.replace(dots,' .');}function arrayToString(a){for(var i=0,il=a.length,s='';i<il;i++){s+=a[i][0];if(a[i][1]!=null){s+=a[i][1];if(a[i][2]!=null){s+=' ';s+=a[i][2];if(a[i][3]!=null){s+=' ';s+=a[i][3];s+=' ';s+=a[i][4];if(a[i][5]!=null){s+=' ';s+=a[i][5];s+=' ';s+=a[i][6];if(a[i][7]!=null){s+=' ';s+=a[i][7];}}}}}}return s+' ';}var pathHandlers={M:function M(c,p,p0){p.x=p0.x=c[0];p.y=p0.y=c[1];return['M',p.x,p.y];},L:function L(c,p){p.x=c[0];p.y=c[1];return['L',c[0],c[1]];},H:function H(c,p){p.x=c[0];return['H',c[0]];},V:function V(c,p){p.y=c[0];return['V',c[0]];},C:function C(c,p){p.x=c[4];p.y=c[5];return['C',c[0],c[1],c[2],c[3],c[4],c[5]];},S:function S(c,p){p.x=c[2];p.y=c[3];return['S',c[0],c[1],c[2],c[3]];},Q:function Q(c,p){p.x=c[2];p.y=c[3];return['Q',c[0],c[1],c[2],c[3]];},T:function T(c,p){p.x=c[0];p.y=c[1];return['T',c[0],c[1]];},Z:function Z(c,p,p0){p.x=p0.x;p.y=p0.y;return['Z'];},A:function A(c,p){p.x=c[5];p.y=c[6];return['A',c[0],c[1],c[2],c[3],c[4],c[5],c[6]];}};var mlhvqtcsaz='mlhvqtcsaz'.split('');for(var i=0,il=mlhvqtcsaz.length;i<il;++i){pathHandlers[mlhvqtcsaz[i]]=function(i){return function(c,p,p0){if(i==='H')c[0]=c[0]+p.x;else if(i==='V')c[0]=c[0]+p.y;else if(i==='A'){c[5]=c[5]+p.x;c[6]=c[6]+p.y;}else{for(var j=0,jl=c.length;j<jl;++j){c[j]=c[j]+(j%2?p.y:p.x);}}return pathHandlers[i](c,p,p0);};}(mlhvqtcsaz[i].toUpperCase());}extend(PathArray,{toString:function toString(){return arrayToString(this);},move:function move(x,y){var box=this.bbox();x-=box.x;y-=box.y;if(!isNaN(x)&&!isNaN(y)){for(var l,i=this.length-1;i>=0;i--){l=this[i][0];if(l==='M'||l==='L'||l==='T'){this[i][1]+=x;this[i][2]+=y;}else if(l==='H'){this[i][1]+=x;}else if(l==='V'){this[i][1]+=y;}else if(l==='C'||l==='S'||l==='Q'){this[i][1]+=x;this[i][2]+=y;this[i][3]+=x;this[i][4]+=y;if(l==='C'){this[i][5]+=x;this[i][6]+=y;}}else if(l==='A'){this[i][6]+=x;this[i][7]+=y;}}}return this;},size:function size(width,height){var box=this.bbox();var i,l;box.width=box.width===0?1:box.width;box.height=box.height===0?1:box.height;for(i=this.length-1;i>=0;i--){l=this[i][0];if(l==='M'||l==='L'||l==='T'){this[i][1]=(this[i][1]-box.x)*width/box.width+box.x;this[i][2]=(this[i][2]-box.y)*height/box.height+box.y;}else if(l==='H'){this[i][1]=(this[i][1]-box.x)*width/box.width+box.x;}else if(l==='V'){this[i][1]=(this[i][1]-box.y)*height/box.height+box.y;}else if(l==='C'||l==='S'||l==='Q'){this[i][1]=(this[i][1]-box.x)*width/box.width+box.x;this[i][2]=(this[i][2]-box.y)*height/box.height+box.y;this[i][3]=(this[i][3]-box.x)*width/box.width+box.x;this[i][4]=(this[i][4]-box.y)*height/box.height+box.y;if(l==='C'){this[i][5]=(this[i][5]-box.x)*width/box.width+box.x;this[i][6]=(this[i][6]-box.y)*height/box.height+box.y;}}else if(l==='A'){this[i][1]=this[i][1]*width/box.width;this[i][2]=this[i][2]*height/box.height;this[i][6]=(this[i][6]-box.x)*width/box.width+box.x;this[i][7]=(this[i][7]-box.y)*height/box.height+box.y;}}return this;},equalCommands:function equalCommands(pathArray){var i,il,equalCommands;pathArray=new PathArray(pathArray);equalCommands=this.length===pathArray.length;for(i=0,il=this.length;equalCommands&&i<il;i++){equalCommands=this[i][0]===pathArray[i][0];}return equalCommands;},morph:function morph(pathArray){pathArray=new PathArray(pathArray);if(this.equalCommands(pathArray)){this.destination=pathArray;}else{this.destination=null;}return this;},at:function at(pos){if(!this.destination)return this;var sourceArray=this;var destinationArray=this.destination.value;var array=[];var pathArray=new PathArray();var i,il,j,jl;for(i=0,il=sourceArray.length;i<il;i++){array[i]=[sourceArray[i][0]];for(j=1,jl=sourceArray[i].length;j<jl;j++){array[i][j]=sourceArray[i][j]+(destinationArray[i][j]-sourceArray[i][j])*pos;}if(array[i][0]==='A'){array[i][4]=+(array[i][4]!==0);array[i][5]=+(array[i][5]!==0);}}pathArray.value=array;return pathArray;},parse:function parse(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[['M',0,0]];if(array instanceof PathArray)return array;var s;var paramCnt={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};if(typeof array==='string'){array=array.replace(numbersWithDots,pathRegReplace).replace(pathLetters,' $& ').replace(hyphen,'$1 -').trim().split(delimiter);}else{array=array.reduce(function(prev,curr){return[].concat.call(prev,curr);},[]);}var result=[];var p=new Point();var p0=new Point();var index=0;var len=array.length;do{if(isPathLetter.test(array[index])){s=array[index];++index;}else if(s==='M'){s='L';}else if(s==='m'){s='l';}result.push(pathHandlers[s].call(null,array.slice(index,index=index+paramCnt[s.toUpperCase()]).map(parseFloat),p,p0));}while(len>index);return result;},bbox:function bbox(){parser().path.setAttribute('d',this.toString());return parser.nodes.path.getBBox();}});var Morphable=function(){function Morphable(stepper){_classCallCheck(this,Morphable);this._stepper=stepper||new Ease('-');this._from=null;this._to=null;this._type=null;this._context=null;this._morphObj=null;}_createClass(Morphable,[{key:"from",value:function from(val){if(val==null){return this._from;}this._from=this._set(val);return this;}},{key:"to",value:function to(val){if(val==null){return this._to;}this._to=this._set(val);return this;}},{key:"type",value:function type(_type){if(_type==null){return this._type;}this._type=_type;return this;}},{key:"_set",value:function _set(value){if(!this._type){var type=_typeof(value);if(type==='number'){this.type(SVGNumber);}else if(type==='string'){if(Color.isColor(value)){this.type(Color);}else if(delimiter.test(value)){this.type(pathLetters.test(value)?PathArray:SVGArray);}else if(numberAndUnit.test(value)){this.type(SVGNumber);}else{this.type(NonMorphable);}}else if(morphableTypes.indexOf(value.constructor)>-1){this.type(value.constructor);}else if(Array.isArray(value)){this.type(SVGArray);}else if(type==='object'){this.type(ObjectBag);}else{this.type(NonMorphable);}}var result=new this._type(value);if(this._type===Color){result=this._to?result[this._to[4]]():this._from?result[this._from[4]]():result;}result=result.toArray();this._morphObj=this._morphObj||new this._type();this._context=this._context||Array.apply(null,Array(result.length)).map(Object).map(function(o){o.done=true;return o;});return result;}},{key:"stepper",value:function stepper(_stepper){if(_stepper==null)return this._stepper;this._stepper=_stepper;return this;}},{key:"done",value:function done(){var complete=this._context.map(this._stepper.done).reduce(function(last,curr){return last&&curr;},true);return complete;}},{key:"at",value:function at(pos){var _this=this;return this._morphObj.fromArray(this._from.map(function(i,index){return _this._stepper.step(i,_this._to[index],pos,_this._context[index],_this._context);}));}}]);return Morphable;}();var NonMorphable=function(){function NonMorphable(){_classCallCheck(this,NonMorphable);this.init.apply(this,arguments);}_createClass(NonMorphable,[{key:"init",value:function init(val){val=Array.isArray(val)?val[0]:val;this.value=val;return this;}},{key:"valueOf",value:function valueOf(){return this.value;}},{key:"toArray",value:function toArray(){return[this.value];}}]);return NonMorphable;}();var TransformBag=function(){function TransformBag(){_classCallCheck(this,TransformBag);this.init.apply(this,arguments);}_createClass(TransformBag,[{key:"init",value:function init(obj){if(Array.isArray(obj)){obj={scaleX:obj[0],scaleY:obj[1],shear:obj[2],rotate:obj[3],translateX:obj[4],translateY:obj[5],originX:obj[6],originY:obj[7]};}Object.assign(this,TransformBag.defaults,obj);return this;}},{key:"toArray",value:function toArray(){var v=this;return[v.scaleX,v.scaleY,v.shear,v.rotate,v.translateX,v.translateY,v.originX,v.originY];}}]);return TransformBag;}();TransformBag.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};var ObjectBag=function(){function ObjectBag(){_classCallCheck(this,ObjectBag);this.init.apply(this,arguments);}_createClass(ObjectBag,[{key:"init",value:function init(objOrArr){this.values=[];if(Array.isArray(objOrArr)){this.values=objOrArr;return;}objOrArr=objOrArr||{};var entries=[];for(var i in objOrArr){entries.push([i,objOrArr[i]]);}entries.sort(function(a,b){return a[0]-b[0];});this.values=entries.reduce(function(last,curr){return last.concat(curr);},[]);return this;}},{key:"valueOf",value:function valueOf(){var obj={};var arr=this.values;for(var i=0,len=arr.length;i<len;i+=2){obj[arr[i]]=arr[i+1];}return obj;}},{key:"toArray",value:function toArray(){return this.values;}}]);return ObjectBag;}();var morphableTypes=[NonMorphable,TransformBag,ObjectBag];function registerMorphableType(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];morphableTypes.push.apply(morphableTypes,_toConsumableArray([].concat(type)));}function makeMorphable(){extend(morphableTypes,{to:function to(val){return new Morphable().type(this.constructor).from(this.valueOf()).to(val);},fromArray:function fromArray(arr){this.init(arr);return this;}});}var Path=function(_Shape){_inherits(Path,_Shape);function Path(node){_classCallCheck(this,Path);return _possibleConstructorReturn(this,_getPrototypeOf(Path).call(this,nodeOrNew('path',node),node));}_createClass(Path,[{key:"array",value:function array(){return this._array||(this._array=new PathArray(this.attr('d')));}},{key:"plot",value:function plot(d){return d==null?this.array():this.clear().attr('d',typeof d==='string'?d:this._array=new PathArray(d));}},{key:"clear",value:function clear(){delete this._array;return this;}},{key:"move",value:function move(x,y){return this.attr('d',this.array().move(x,y));}},{key:"x",value:function x(_x){return _x==null?this.bbox().x:this.move(_x,this.bbox().y);}},{key:"y",value:function y(_y){return _y==null?this.bbox().y:this.move(this.bbox().x,_y);}},{key:"size",value:function size(width,height){var p=proportionalSize(this,width,height);return this.attr('d',this.array().size(p.width,p.height));}},{key:"width",value:function width(_width){return _width==null?this.bbox().width:this.size(_width,this.bbox().height);}},{key:"height",value:function height(_height){return _height==null?this.bbox().height:this.size(this.bbox().width,_height);}},{key:"targets",value:function targets(){return baseFind('svg textpath [href*="'+this.id()+'"]');}}]);return Path;}(Shape);Path.prototype.MorphArray=PathArray;registerMethods({Container:{path:wrapWithAttrCheck(function(d){return this.put(new Path()).plot(d||new PathArray());})}});register(Path,'Path');function array(){return this._array||(this._array=new PointArray(this.attr('points')));}function plot(p){return p==null?this.array():this.clear().attr('points',typeof p==='string'?p:this._array=new PointArray(p));}function clear(){delete this._array;return this;}function move(x,y){return this.attr('points',this.array().move(x,y));}function size(width,height){var p=proportionalSize(this,width,height);return this.attr('points',this.array().size(p.width,p.height));}var poly={__proto__:null,array:array,plot:plot,clear:clear,move:move,size:size};var Polygon=function(_Shape){_inherits(Polygon,_Shape);function Polygon(node){_classCallCheck(this,Polygon);return _possibleConstructorReturn(this,_getPrototypeOf(Polygon).call(this,nodeOrNew('polygon',node),node));}return Polygon;}(Shape);registerMethods({Container:{polygon:wrapWithAttrCheck(function(p){return this.put(new Polygon()).plot(p||new PointArray());})}});extend(Polygon,pointed);extend(Polygon,poly);register(Polygon,'Polygon');var Polyline=function(_Shape){_inherits(Polyline,_Shape);function Polyline(node){_classCallCheck(this,Polyline);return _possibleConstructorReturn(this,_getPrototypeOf(Polyline).call(this,nodeOrNew('polyline',node),node));}return Polyline;}(Shape);registerMethods({Container:{polyline:wrapWithAttrCheck(function(p){return this.put(new Polyline()).plot(p||new PointArray());})}});extend(Polyline,pointed);extend(Polyline,poly);register(Polyline,'Polyline');var Rect=function(_Shape){_inherits(Rect,_Shape);function Rect(node){_classCallCheck(this,Rect);return _possibleConstructorReturn(this,_getPrototypeOf(Rect).call(this,nodeOrNew('rect',node),node));}return Rect;}(Shape);extend(Rect,{rx:rx,ry:ry});registerMethods({Container:{rect:wrapWithAttrCheck(function(width,height){return this.put(new Rect()).size(width,height);})}});register(Rect,'Rect');var max$3=Math.max;var min$4=Math.min;var MAX_SAFE_INTEGER$1=0x1FFFFFFFFFFFFF;var MAXIMUM_ALLOWED_LENGTH_EXCEEDED='Maximum allowed length exceeded';_export({target:'Array',proto:true,forced:!arrayMethodHasSpeciesSupport('splice')},{splice:function splice(start,deleteCount){var O=toObject(this);var len=toLength(O.length);var actualStart=toAbsoluteIndex(start,len);var argumentsLength=arguments.length;var insertCount,actualDeleteCount,A,k,from,to;if(argumentsLength===0){insertCount=actualDeleteCount=0;}else if(argumentsLength===1){insertCount=0;actualDeleteCount=len-actualStart;}else{insertCount=argumentsLength-2;actualDeleteCount=min$4(max$3(toInteger(deleteCount),0),len-actualStart);}if(len+insertCount-actualDeleteCount>MAX_SAFE_INTEGER$1){throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);}A=arraySpeciesCreate(O,actualDeleteCount);for(k=0;k<actualDeleteCount;k++){from=actualStart+k;if(from in O)createProperty(A,k,O[from]);}A.length=actualDeleteCount;if(insertCount<actualDeleteCount){for(k=actualStart;k<len-actualDeleteCount;k++){from=k+actualDeleteCount;to=k+insertCount;if(from in O)O[to]=O[from];else delete O[to];}for(k=len;k>len-actualDeleteCount+insertCount;k--){delete O[k-1];}}else if(insertCount>actualDeleteCount){for(k=len-actualDeleteCount;k>actualStart;k--){from=k+actualDeleteCount-1;to=k+insertCount-1;if(from in O)O[to]=O[from];else delete O[to];}}for(k=0;k<insertCount;k++){O[k+actualStart]=arguments[k+2];}O.length=len-actualDeleteCount+insertCount;return A;}});var Queue=function(){function Queue(){_classCallCheck(this,Queue);this._first=null;this._last=null;}_createClass(Queue,[{key:"push",value:function push(value){var item=value.next?value:{value:value,next:null,prev:null};if(this._last){item.prev=this._last;this._last.next=item;this._last=item;}else{this._last=item;this._first=item;}return item;}},{key:"shift",value:function shift(){var remove=this._first;if(!remove)return null;this._first=remove.next;if(this._first)this._first.prev=null;this._last=this._first?this._last:null;return remove.value;}},{key:"first",value:function first(){return this._first&&this._first.value;}},{key:"last",value:function last(){return this._last&&this._last.value;}},{key:"remove",value:function remove(item){if(item.prev)item.prev.next=item.next;if(item.next)item.next.prev=item.prev;if(item===this._last)this._last=item.prev;if(item===this._first)this._first=item.next;item.prev=null;item.next=null;}}]);return Queue;}();var Animator={nextDraw:null,frames:new Queue(),timeouts:new Queue(),immediates:new Queue(),timer:function timer(){return globals.window.performance||globals.window.Date;},transforms:[],frame:function frame(fn){var node=Animator.frames.push({run:fn});if(Animator.nextDraw===null){Animator.nextDraw=globals.window.requestAnimationFrame(Animator._draw);}return node;},timeout:function timeout(fn,delay){delay=delay||0;var time=Animator.timer().now()+delay;var node=Animator.timeouts.push({run:fn,time:time});if(Animator.nextDraw===null){Animator.nextDraw=globals.window.requestAnimationFrame(Animator._draw);}return node;},immediate:function immediate(fn){var node=Animator.immediates.push(fn);if(Animator.nextDraw===null){Animator.nextDraw=globals.window.requestAnimationFrame(Animator._draw);}return node;},cancelFrame:function cancelFrame(node){node!=null&&Animator.frames.remove(node);},clearTimeout:function clearTimeout(node){node!=null&&Animator.timeouts.remove(node);},cancelImmediate:function cancelImmediate(node){node!=null&&Animator.immediates.remove(node);},_draw:function _draw(now){var nextTimeout=null;var lastTimeout=Animator.timeouts.last();while(nextTimeout=Animator.timeouts.shift()){if(now>=nextTimeout.time){nextTimeout.run();}else{Animator.timeouts.push(nextTimeout);}if(nextTimeout===lastTimeout)break;}var nextFrame=null;var lastFrame=Animator.frames.last();while(nextFrame!==lastFrame&&(nextFrame=Animator.frames.shift())){nextFrame.run(now);}var nextImmediate=null;while(nextImmediate=Animator.immediates.shift()){nextImmediate();}Animator.nextDraw=Animator.timeouts.first()||Animator.frames.first()?globals.window.requestAnimationFrame(Animator._draw):null;}};var makeSchedule=function makeSchedule(runnerInfo){var start=runnerInfo.start;var duration=runnerInfo.runner.duration();var end=start+duration;return{start:start,duration:duration,end:end,runner:runnerInfo.runner};};var defaultSource=function defaultSource(){var w=globals.window;return(w.performance||w.Date).now();};var Timeline=function(_EventTarget){_inherits(Timeline,_EventTarget);function Timeline(){var _this;var timeSource=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultSource;_classCallCheck(this,Timeline);_this=_possibleConstructorReturn(this,_getPrototypeOf(Timeline).call(this));_this._timeSource=timeSource;_this._startTime=0;_this._speed=1.0;_this._persist=0;_this._nextFrame=null;_this._paused=true;_this._runners=[];_this._runnerIds=[];_this._lastRunnerId=-1;_this._time=0;_this._lastSourceTime=0;_this._lastStepTime=0;_this._step=_this._stepFn.bind(_assertThisInitialized(_this),false);_this._stepImmediate=_this._stepFn.bind(_assertThisInitialized(_this),true);return _this;}_createClass(Timeline,[{key:"schedule",value:function schedule(runner,delay,when){if(runner==null){return this._runners.map(makeSchedule);}var absoluteStartTime=0;var endTime=this.getEndTime();delay=delay||0;if(when==null||when==='last'||when==='after'){absoluteStartTime=endTime;}else if(when==='absolute'||when==='start'){absoluteStartTime=delay;delay=0;}else if(when==='now'){absoluteStartTime=this._time;}else if(when==='relative'){var _runnerInfo=this._runners[runner.id];if(_runnerInfo){absoluteStartTime=_runnerInfo.start+delay;delay=0;}}else{throw new Error('Invalid value for the "when" parameter');}runner.unschedule();runner.timeline(this);var persist=runner.persist();var runnerInfo={persist:persist===null?this._persist:persist,start:absoluteStartTime+delay,runner:runner};this._lastRunnerId=runner.id;this._runners.push(runnerInfo);this._runners.sort(function(a,b){return a.start-b.start;});this._runnerIds=this._runners.map(function(info){return info.runner.id;});this.updateTime()._continue();return this;}},{key:"unschedule",value:function unschedule(runner){var index=this._runnerIds.indexOf(runner.id);if(index<0)return this;this._runners.splice(index,1);this._runnerIds.splice(index,1);runner.timeline(null);return this;}},{key:"getEndTime",value:function getEndTime(){var lastRunnerInfo=this._runners[this._runnerIds.indexOf(this._lastRunnerId)];var lastDuration=lastRunnerInfo?lastRunnerInfo.runner.duration():0;var lastStartTime=lastRunnerInfo?lastRunnerInfo.start:0;return lastStartTime+lastDuration;}},{key:"getEndTimeOfTimeline",value:function getEndTimeOfTimeline(){var lastEndTime=0;for(var i=0;i<this._runners.length;i++){var runnerInfo=this._runners[i];var duration=runnerInfo?runnerInfo.runner.duration():0;var startTime=runnerInfo?runnerInfo.start:0;var endTime=startTime+duration;if(endTime>lastEndTime){lastEndTime=endTime;}}return lastEndTime;}},{key:"updateTime",value:function updateTime(){if(!this.active()){this._lastSourceTime=this._timeSource();}return this;}},{key:"play",value:function play(){this._paused=false;return this.updateTime()._continue();}},{key:"pause",value:function pause(){this._paused=true;return this._continue();}},{key:"stop",value:function stop(){this.time(0);return this.pause();}},{key:"finish",value:function finish(){this.time(this.getEndTimeOfTimeline()+1);return this.pause();}},{key:"speed",value:function speed(_speed){if(_speed==null)return this._speed;this._speed=_speed;return this;}},{key:"reverse",value:function reverse(yes){var currentSpeed=this.speed();if(yes==null)return this.speed(-currentSpeed);var positive=Math.abs(currentSpeed);return this.speed(yes?positive:-positive);}},{key:"seek",value:function seek(dt){return this.time(this._time+dt);}},{key:"time",value:function time(_time){if(_time==null)return this._time;this._time=_time;return this._continue(true);}},{key:"persist",value:function persist(dtOrForever){if(dtOrForever==null)return this._persist;this._persist=dtOrForever;return this;}},{key:"source",value:function source(fn){if(fn==null)return this._timeSource;this._timeSource=fn;return this;}},{key:"_stepFn",value:function _stepFn(){var immediateStep=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var time=this._timeSource();var dtSource=time-this._lastSourceTime;if(immediateStep)dtSource=0;var dtTime=this._speed*dtSource+(this._time-this._lastStepTime);this._lastSourceTime=time;if(!immediateStep){this._time+=dtTime;this._time=this._time<0?0:this._time;}this._lastStepTime=this._time;this.fire('time',this._time);for(var k=this._runners.length;k--;){var runnerInfo=this._runners[k];var runner=runnerInfo.runner;var dtToStart=this._time-runnerInfo.start;if(dtToStart<=0){runner.reset();}}var runnersLeft=false;for(var i=0,len=this._runners.length;i<len;i++){var _runnerInfo2=this._runners[i];var _runner=_runnerInfo2.runner;var dt=dtTime;var _dtToStart=this._time-_runnerInfo2.start;if(_dtToStart<=0){runnersLeft=true;continue;}else if(_dtToStart<dt){dt=_dtToStart;}if(!_runner.active())continue;var finished=_runner.step(dt).done;if(!finished){runnersLeft=true;}else if(_runnerInfo2.persist!==true){var endTime=_runner.duration()-_runner.time()+this._time;if(endTime+_runnerInfo2.persist<this._time){_runner.unschedule();--i;--len;}}}if(runnersLeft&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0){this._continue();}else{this.pause();this.fire('finished');}return this;}},{key:"_continue",value:function _continue(){var immediateStep=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;Animator.cancelFrame(this._nextFrame);this._nextFrame=null;if(immediateStep)return this._stepImmediate();if(this._paused)return this;this._nextFrame=Animator.frame(this._step);return this;}},{key:"active",value:function active(){return!!this._nextFrame;}}]);return Timeline;}(EventTarget);registerMethods({Element:{timeline:function timeline(_timeline){if(_timeline==null){this._timeline=this._timeline||new Timeline();return this._timeline;}else{this._timeline=_timeline;return this;}}}});function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread$1(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys$2(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys$2(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Runner=function(_EventTarget){_inherits(Runner,_EventTarget);function Runner(options){var _this;_classCallCheck(this,Runner);_this=_possibleConstructorReturn(this,_getPrototypeOf(Runner).call(this));_this.id=Runner.id++;options=options==null?timeline.duration:options;options=typeof options==='function'?new Controller(options):options;_this._element=null;_this._timeline=null;_this.done=false;_this._queue=[];_this._duration=typeof options==='number'&&options;_this._isDeclarative=options instanceof Controller;_this._stepper=_this._isDeclarative?options:new Ease();_this._history={};_this.enabled=true;_this._time=0;_this._lastTime=0;_this._reseted=true;_this.transforms=new Matrix();_this.transformId=1;_this._haveReversed=false;_this._reverse=false;_this._loopsDone=0;_this._swing=false;_this._wait=0;_this._times=1;_this._frameId=null;_this._persist=_this._isDeclarative?true:null;return _this;}_createClass(Runner,[{key:"element",value:function element(_element){if(_element==null)return this._element;this._element=_element;_element._prepareRunner();return this;}},{key:"timeline",value:function timeline(_timeline){if(typeof _timeline==='undefined')return this._timeline;this._timeline=_timeline;return this;}},{key:"animate",value:function animate(duration,delay,when){var o=Runner.sanitise(duration,delay,when);var runner=new Runner(o.duration);if(this._timeline)runner.timeline(this._timeline);if(this._element)runner.element(this._element);return runner.loop(o).schedule(o.delay,o.when);}},{key:"schedule",value:function schedule(timeline,delay,when){if(!(timeline instanceof Timeline)){when=delay;delay=timeline;timeline=this.timeline();}if(!timeline){throw Error('Runner cannot be scheduled without timeline');}timeline.schedule(this,delay,when);return this;}},{key:"unschedule",value:function unschedule(){var timeline=this.timeline();timeline&&timeline.unschedule(this);return this;}},{key:"loop",value:function loop(times,swing,wait){if(_typeof(times)==='object'){swing=times.swing;wait=times.wait;times=times.times;}this._times=times||Infinity;this._swing=swing||false;this._wait=wait||0;if(this._times===true){this._times=Infinity;}return this;}},{key:"delay",value:function delay(_delay){return this.animate(0,_delay);}},{key:"queue",value:function queue(initFn,runFn,retargetFn,isTransform){this._queue.push({initialiser:initFn||noop,runner:runFn||noop,retarget:retargetFn,isTransform:isTransform,initialised:false,finished:false});var timeline=this.timeline();timeline&&this.timeline()._continue();return this;}},{key:"during",value:function during(fn){return this.queue(null,fn);}},{key:"after",value:function after(fn){return this.on('finished',fn);}},{key:"time",value:function time(_time){if(_time==null){return this._time;}var dt=_time-this._time;this.step(dt);return this;}},{key:"duration",value:function duration(){return this._times*(this._wait+this._duration)-this._wait;}},{key:"loops",value:function loops(p){var loopDuration=this._duration+this._wait;if(p==null){var loopsDone=Math.floor(this._time/loopDuration);var relativeTime=this._time-loopsDone*loopDuration;var position=relativeTime/this._duration;return Math.min(loopsDone+position,this._times);}var whole=Math.floor(p);var partial=p%1;var time=loopDuration*whole+this._duration*partial;return this.time(time);}},{key:"persist",value:function persist(dtOrForever){if(dtOrForever==null)return this._persist;this._persist=dtOrForever;return this;}},{key:"position",value:function position(p){var x=this._time;var d=this._duration;var w=this._wait;var t=this._times;var s=this._swing;var r=this._reverse;var position;if(p==null){var f=function f(x){var swinging=s*Math.floor(x%(2*(w+d))/(w+d));var backwards=swinging&&!r||!swinging&&r;var uncliped=Math.pow(-1,backwards)*(x%(w+d))/d+backwards;var clipped=Math.max(Math.min(uncliped,1),0);return clipped;};var endTime=t*(w+d)-w;position=x<=0?Math.round(f(1e-5)):x<endTime?f(x):Math.round(f(endTime-1e-5));return position;}var loopsDone=Math.floor(this.loops());var swingForward=s&&loopsDone%2===0;var forwards=swingForward&&!r||r&&swingForward;position=loopsDone+(forwards?p:1-p);return this.loops(position);}},{key:"progress",value:function progress(p){if(p==null){return Math.min(1,this._time/this.duration());}return this.time(p*this.duration());}},{key:"step",value:function step(dt){if(!this.enabled)return this;dt=dt==null?16:dt;this._time+=dt;var position=this.position();var running=this._lastPosition!==position&&this._time>=0;this._lastPosition=position;var duration=this.duration();var justStarted=this._lastTime<=0&&this._time>0;var justFinished=this._lastTime<duration&&this._time>=duration;this._lastTime=this._time;if(justStarted){this.fire('start',this);}var declarative=this._isDeclarative;this.done=!declarative&&!justFinished&&this._time>=duration;this._reseted=false;if(running||declarative){this._initialise(running);this.transforms=new Matrix();var converged=this._run(declarative?dt:position);this.fire('step',this);}this.done=this.done||converged&&declarative;if(justFinished){this.fire('finished',this);}return this;}},{key:"reset",value:function reset(){if(this._reseted)return this;this.time(0);this._reseted=true;return this;}},{key:"finish",value:function finish(){return this.step(Infinity);}},{key:"reverse",value:function reverse(_reverse){this._reverse=_reverse==null?!this._reverse:_reverse;return this;}},{key:"ease",value:function ease(fn){this._stepper=new Ease(fn);return this;}},{key:"active",value:function active(enabled){if(enabled==null)return this.enabled;this.enabled=enabled;return this;}},{key:"_rememberMorpher",value:function _rememberMorpher(method,morpher){this._history[method]={morpher:morpher,caller:this._queue[this._queue.length-1]};if(this._isDeclarative){var timeline=this.timeline();timeline&&timeline.play();}}},{key:"_tryRetarget",value:function _tryRetarget(method,target,extra){if(this._history[method]){if(!this._history[method].caller.initialised){var index=this._queue.indexOf(this._history[method].caller);this._queue.splice(index,1);return false;}if(this._history[method].caller.retarget){this._history[method].caller.retarget(target,extra);}else{this._history[method].morpher.to(target);}this._history[method].caller.finished=false;var timeline=this.timeline();timeline&&timeline.play();return true;}return false;}},{key:"_initialise",value:function _initialise(running){if(!running&&!this._isDeclarative)return;for(var i=0,len=this._queue.length;i<len;++i){var current=this._queue[i];var needsIt=this._isDeclarative||!current.initialised&&running;running=!current.finished;if(needsIt&&running){current.initialiser.call(this);current.initialised=true;}}}},{key:"_run",value:function _run(positionOrDt){var allfinished=true;for(var i=0,len=this._queue.length;i<len;++i){var current=this._queue[i];var converged=current.runner.call(this,positionOrDt);current.finished=current.finished||converged===true;allfinished=allfinished&&current.finished;}return allfinished;}},{key:"addTransform",value:function addTransform(transform,index){this.transforms.lmultiplyO(transform);return this;}},{key:"clearTransform",value:function clearTransform(){this.transforms=new Matrix();return this;}},{key:"clearTransformsFromQueue",value:function clearTransformsFromQueue(){if(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id)){this._queue=this._queue.filter(function(item){return!item.isTransform;});}}}],[{key:"sanitise",value:function sanitise(duration,delay,when){var times=1;var swing=false;var wait=0;duration=duration||timeline.duration;delay=delay||timeline.delay;when=when||'last';if(_typeof(duration)==='object'&&!(duration instanceof Stepper)){delay=duration.delay||delay;when=duration.when||when;swing=duration.swing||swing;times=duration.times||times;wait=duration.wait||wait;duration=duration.duration||timeline.duration;}return{duration:duration,delay:delay,swing:swing,times:times,wait:wait,when:when};}}]);return Runner;}(EventTarget);Runner.id=0;var FakeRunner=function(){function FakeRunner(){var transforms=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Matrix();var id=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;var done=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;_classCallCheck(this,FakeRunner);this.transforms=transforms;this.id=id;this.done=done;}_createClass(FakeRunner,[{key:"clearTransformsFromQueue",value:function clearTransformsFromQueue(){}}]);return FakeRunner;}();extend([Runner,FakeRunner],{mergeWith:function mergeWith(runner){return new FakeRunner(runner.transforms.lmultiply(this.transforms),runner.id);}});var lmultiply=function lmultiply(last,curr){return last.lmultiplyO(curr);};var getRunnerTransform=function getRunnerTransform(runner){return runner.transforms;};function mergeTransforms(){var runners=this._transformationRunners.runners;var netTransform=runners.map(getRunnerTransform).reduce(lmultiply,new Matrix());this.transform(netTransform);this._transformationRunners.merge();if(this._transformationRunners.length()===1){this._frameId=null;}}var RunnerArray=function(){function RunnerArray(){_classCallCheck(this,RunnerArray);this.runners=[];this.ids=[];}_createClass(RunnerArray,[{key:"add",value:function add(runner){if(this.runners.includes(runner))return;var id=runner.id+1;this.runners.push(runner);this.ids.push(id);return this;}},{key:"getByID",value:function getByID(id){return this.runners[this.ids.indexOf(id+1)];}},{key:"remove",value:function remove(id){var index=this.ids.indexOf(id+1);this.ids.splice(index,1);this.runners.splice(index,1);return this;}},{key:"merge",value:function merge(){var _this2=this;var lastRunner=null;this.runners.forEach(function(runner,i){var condition=lastRunner&&runner.done&&lastRunner.done&&(!runner._timeline||!runner._timeline._runnerIds.includes(runner.id))&&(!lastRunner._timeline||!lastRunner._timeline._runnerIds.includes(lastRunner.id));if(condition){_this2.remove(runner.id);_this2.edit(lastRunner.id,runner.mergeWith(lastRunner));}lastRunner=runner;});return this;}},{key:"edit",value:function edit(id,newRunner){var index=this.ids.indexOf(id+1);this.ids.splice(index,1,id+1);this.runners.splice(index,1,newRunner);return this;}},{key:"length",value:function length(){return this.ids.length;}},{key:"clearBefore",value:function clearBefore(id){var deleteCnt=this.ids.indexOf(id+1)||1;this.ids.splice(0,deleteCnt,0);this.runners.splice(0,deleteCnt,new FakeRunner()).forEach(function(r){return r.clearTransformsFromQueue();});return this;}}]);return RunnerArray;}();registerMethods({Element:{animate:function animate(duration,delay,when){var o=Runner.sanitise(duration,delay,when);var timeline=this.timeline();return new Runner(o.duration).loop(o).element(this).timeline(timeline.play()).schedule(o.delay,o.when);},delay:function delay(by,when){return this.animate(0,by,when);},_clearTransformRunnersBefore:function _clearTransformRunnersBefore(currentRunner){this._transformationRunners.clearBefore(currentRunner.id);},_currentTransform:function _currentTransform(current){return this._transformationRunners.runners.filter(function(runner){return runner.id<=current.id;}).map(getRunnerTransform).reduce(lmultiply,new Matrix());},_addRunner:function _addRunner(runner){this._transformationRunners.add(runner);Animator.cancelImmediate(this._frameId);this._frameId=Animator.immediate(mergeTransforms.bind(this));},_prepareRunner:function _prepareRunner(){if(this._frameId==null){this._transformationRunners=new RunnerArray().add(new FakeRunner(new Matrix(this)));}}}});extend(Runner,{attr:function attr(a,v){return this.styleAttr('attr',a,v);},css:function css(s,v){return this.styleAttr('css',s,v);},styleAttr:function styleAttr(type,name,val){if(_typeof(name)==='object'){for(var key in name){this.styleAttr(type,key,name[key]);}return this;}var morpher=new Morphable(this._stepper).to(val);this.queue(function(){morpher=morpher.from(this.element()[type](name));},function(pos){this.element()[type](name,morpher.at(pos));return morpher.done();});return this;},zoom:function zoom(level,point){if(this._tryRetarget('zoom',to,point))return this;var morpher=new Morphable(this._stepper).to(new SVGNumber(level));this.queue(function(){morpher=morpher.from(this.element().zoom());},function(pos){this.element().zoom(morpher.at(pos),point);return morpher.done();},function(newLevel,newPoint){point=newPoint;morpher.to(newLevel);});this._rememberMorpher('zoom',morpher);return this;},transform:function transform(transforms,relative,affine){relative=transforms.relative||relative;if(this._isDeclarative&&!relative&&this._tryRetarget('transform',transforms)){return this;}var isMatrix=Matrix.isMatrixLike(transforms);affine=transforms.affine!=null?transforms.affine:affine!=null?affine:!isMatrix;var morpher=new Morphable(this._stepper).type(affine?TransformBag:Matrix);var origin;var element;var current;var currentAngle;var startTransform;function setup(){element=element||this.element();origin=origin||getOrigin(transforms,element);startTransform=new Matrix(relative?undefined:element);element._addRunner(this);if(!relative){element._clearTransformRunnersBefore(this);}}function run(pos){if(!relative)this.clearTransform();var _transform=new Point(origin).transform(element._currentTransform(this)),x=_transform.x,y=_transform.y;var target=new Matrix(_objectSpread$1({},transforms,{origin:[x,y]}));var start=this._isDeclarative&&current?current:startTransform;if(affine){target=target.decompose(x,y);start=start.decompose(x,y);var rTarget=target.rotate;var rCurrent=start.rotate;var possibilities=[rTarget-360,rTarget,rTarget+360];var distances=possibilities.map(function(a){return Math.abs(a-rCurrent);});var shortest=Math.min.apply(Math,_toConsumableArray(distances));var index=distances.indexOf(shortest);target.rotate=possibilities[index];}if(relative){if(!isMatrix){target.rotate=transforms.rotate||0;}if(this._isDeclarative&&currentAngle){start.rotate=currentAngle;}}morpher.from(start);morpher.to(target);var affineParameters=morpher.at(pos);currentAngle=affineParameters.rotate;current=new Matrix(affineParameters);this.addTransform(current);element._addRunner(this);return morpher.done();}function retarget(newTransforms){if((newTransforms.origin||'center').toString()!==(transforms.origin||'center').toString()){origin=getOrigin(transforms,element);}transforms=_objectSpread$1({},newTransforms,{origin:origin});}this.queue(setup,run,retarget,true);this._isDeclarative&&this._rememberMorpher('transform',morpher);return this;},x:function x(_x,relative){return this._queueNumber('x',_x);},y:function y(_y){return this._queueNumber('y',_y);},dx:function dx(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return this._queueNumberDelta('x',x);},dy:function dy(){var y=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return this._queueNumberDelta('y',y);},dmove:function dmove(x,y){return this.dx(x).dy(y);},_queueNumberDelta:function _queueNumberDelta(method,to){to=new SVGNumber(to);if(this._tryRetarget(method,to))return this;var morpher=new Morphable(this._stepper).to(to);var from=null;this.queue(function(){from=this.element()[method]();morpher.from(from);morpher.to(from+to);},function(pos){this.element()[method](morpher.at(pos));return morpher.done();},function(newTo){morpher.to(from+new SVGNumber(newTo));});this._rememberMorpher(method,morpher);return this;},_queueObject:function _queueObject(method,to){if(this._tryRetarget(method,to))return this;var morpher=new Morphable(this._stepper).to(to);this.queue(function(){morpher.from(this.element()[method]());},function(pos){this.element()[method](morpher.at(pos));return morpher.done();});this._rememberMorpher(method,morpher);return this;},_queueNumber:function _queueNumber(method,value){return this._queueObject(method,new SVGNumber(value));},cx:function cx(x){return this._queueNumber('cx',x);},cy:function cy(y){return this._queueNumber('cy',y);},move:function move(x,y){return this.x(x).y(y);},center:function center(x,y){return this.cx(x).cy(y);},size:function size(width,height){var box;if(!width||!height){box=this._element.bbox();}if(!width){width=box.width/box.height*height;}if(!height){height=box.height/box.width*width;}return this.width(width).height(height);},width:function width(_width){return this._queueNumber('width',_width);},height:function height(_height){return this._queueNumber('height',_height);},plot:function plot(a,b,c,d){if(arguments.length===4){return this.plot([a,b,c,d]);}if(this._tryRetarget('plot',a))return this;var morpher=new Morphable(this._stepper).type(this._element.MorphArray).to(a);this.queue(function(){morpher.from(this._element.array());},function(pos){this._element.plot(morpher.at(pos));return morpher.done();});this._rememberMorpher('plot',morpher);return this;},leading:function leading(value){return this._queueNumber('leading',value);},viewbox:function viewbox(x,y,width,height){return this._queueObject('viewbox',new Box(x,y,width,height));},update:function update(o){if(_typeof(o)!=='object'){return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});}if(o.opacity!=null)this.attr('stop-opacity',o.opacity);if(o.color!=null)this.attr('stop-color',o.color);if(o.offset!=null)this.attr('offset',o.offset);return this;}});extend(Runner,{rx:rx,ry:ry,from:from,to:to});register(Runner,'Runner');var Svg=function(_Container){_inherits(Svg,_Container);function Svg(node){var _this;_classCallCheck(this,Svg);_this=_possibleConstructorReturn(this,_getPrototypeOf(Svg).call(this,nodeOrNew('svg',node),node));_this.namespace();return _this;}_createClass(Svg,[{key:"isRoot",value:function isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof globals.window.SVGElement)||this.node.parentNode.nodeName==='#document';}},{key:"root",value:function root(){if(this.isRoot())return this;return _get(_getPrototypeOf(Svg.prototype),"root",this).call(this);}},{key:"namespace",value:function namespace(){if(!this.isRoot())return this.root().namespace();return this.attr({xmlns:ns,version:'1.1'}).attr('xmlns:xlink',xlink,xmlns).attr('xmlns:svgjs',svgjs,xmlns);}},{key:"defs",value:function defs(){if(!this.isRoot())return this.root().defs();return adopt(this.node.querySelector('defs'))||this.put(new Defs());}},{key:"parent",value:function parent(type){if(this.isRoot()){return this.node.parentNode.nodeName==='#document'?null:adopt(this.node.parentNode);}return _get(_getPrototypeOf(Svg.prototype),"parent",this).call(this,type);}},{key:"clear",value:function clear(){while(this.node.hasChildNodes()){this.node.removeChild(this.node.lastChild);}delete this._defs;return this;}}]);return Svg;}(Container);registerMethods({Container:{nested:wrapWithAttrCheck(function(){return this.put(new Svg());})}});register(Svg,'Svg',true);var _Symbol=function(_Container){_inherits(_Symbol,_Container);function _Symbol(node){_classCallCheck(this,_Symbol);return _possibleConstructorReturn(this,_getPrototypeOf(_Symbol).call(this,nodeOrNew('symbol',node),node));}return _Symbol;}(Container);registerMethods({Container:{symbol:wrapWithAttrCheck(function(){return this.put(new _Symbol());})}});register(_Symbol,'Symbol');function plain(text){if(this._build===false){this.clear();}this.node.appendChild(globals.document.createTextNode(text));return this;}function length(){return this.node.getComputedTextLength();}var textable={__proto__:null,plain:plain,length:length};var Text=function(_Shape){_inherits(Text,_Shape);function Text(node){var _this;_classCallCheck(this,Text);_this=_possibleConstructorReturn(this,_getPrototypeOf(Text).call(this,nodeOrNew('text',node),node));_this.dom.leading=new SVGNumber(1.3);_this._rebuild=true;_this._build=false;return _this;}_createClass(Text,[{key:"x",value:function x(_x){var box=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.bbox();if(_x==null){return box.x;}return this.attr('x',this.attr('x')+_x-box.x);}},{key:"y",value:function y(_y){var box=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.bbox();if(_y==null){return box.y;}return this.attr('y',this.attr('y')+_y-box.y);}},{key:"move",value:function move(x,y){var box=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.bbox();return this.x(x,box).y(y,box);}},{key:"cx",value:function cx(x){var box=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.bbox();if(x==null){return box.cx;}return this.attr('x',this.attr('x')+x-box.cx);}},{key:"cy",value:function cy(y){var box=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.bbox();if(y==null){return box.cy;}return this.attr('y',this.attr('y')+y-box.cy);}},{key:"center",value:function center(x,y){var box=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.bbox();return this.cx(x,box).cy(y,box);}},{key:"text",value:function text(_text){if(_text===undefined){var children=this.node.childNodes;var firstLine=0;_text='';for(var i=0,len=children.length;i<len;++i){if(children[i].nodeName==='textPath'){if(i===0)firstLine=1;continue;}if(i!==firstLine&&children[i].nodeType!==3&&adopt(children[i]).dom.newLined===true){_text+='\n';}_text+=children[i].textContent;}return _text;}this.clear().build(true);if(typeof _text==='function'){_text.call(this,this);}else{_text=_text.split('\n');for(var j=0,jl=_text.length;j<jl;j++){this.tspan(_text[j]).newLine();}}return this.build(false).rebuild();}},{key:"leading",value:function leading(value){if(value==null){return this.dom.leading;}this.dom.leading=new SVGNumber(value);return this.rebuild();}},{key:"rebuild",value:function rebuild(_rebuild){if(typeof _rebuild==='boolean'){this._rebuild=_rebuild;}if(this._rebuild){var self=this;var blankLineOffset=0;var leading=this.dom.leading;this.each(function(){var fontSize=globals.window.getComputedStyle(this.node).getPropertyValue('font-size');var dy=leading*new SVGNumber(fontSize);if(this.dom.newLined){this.attr('x',self.attr('x'));if(this.text()==='\n'){blankLineOffset+=dy;}else{this.attr('dy',dy+blankLineOffset);blankLineOffset=0;}}});this.fire('rebuild');}return this;}},{key:"build",value:function build(_build){this._build=!!_build;return this;}},{key:"setData",value:function setData(o){this.dom=o;this.dom.leading=new SVGNumber(o.leading||1.3);return this;}}]);return Text;}(Shape);extend(Text,textable);registerMethods({Container:{text:wrapWithAttrCheck(function(text){return this.put(new Text()).text(text);}),plain:wrapWithAttrCheck(function(text){return this.put(new Text()).plain(text);})}});register(Text,'Text');var Tspan=function(_Text){_inherits(Tspan,_Text);function Tspan(node){_classCallCheck(this,Tspan);return _possibleConstructorReturn(this,_getPrototypeOf(Tspan).call(this,nodeOrNew('tspan',node),node));}_createClass(Tspan,[{key:"text",value:function text(_text){if(_text==null)return this.node.textContent+(this.dom.newLined?'\n':'');typeof _text==='function'?_text.call(this,this):this.plain(_text);return this;}},{key:"dx",value:function dx(_dx){return this.attr('dx',_dx);}},{key:"dy",value:function dy(_dy){return this.attr('dy',_dy);}},{key:"x",value:function x(_x){return this.attr('x',_x);}},{key:"y",value:function y(_y){return this.attr('x',_y);}},{key:"move",value:function move(x,y){return this.x(x).y(y);}},{key:"newLine",value:function newLine(){var t=this.parent(Text);this.dom.newLined=true;var fontSize=globals.window.getComputedStyle(this.node).getPropertyValue('font-size');var dy=t.dom.leading*new SVGNumber(fontSize);return this.dy(dy).attr('x',t.x());}}]);return Tspan;}(Text);extend(Tspan,textable);registerMethods({Tspan:{tspan:wrapWithAttrCheck(function(text){var tspan=new Tspan();if(!this._build){this.clear();}this.node.appendChild(tspan.node);return tspan.text(text);})}});register(Tspan,'Tspan');var ClipPath=function(_Container){_inherits(ClipPath,_Container);function ClipPath(node){_classCallCheck(this,ClipPath);return _possibleConstructorReturn(this,_getPrototypeOf(ClipPath).call(this,nodeOrNew('clipPath',node),node));}_createClass(ClipPath,[{key:"remove",value:function remove(){this.targets().forEach(function(el){el.unclip();});return _get(_getPrototypeOf(ClipPath.prototype),"remove",this).call(this);}},{key:"targets",value:function targets(){return baseFind('svg [clip-path*="'+this.id()+'"]');}}]);return ClipPath;}(Container);registerMethods({Container:{clip:wrapWithAttrCheck(function(){return this.defs().put(new ClipPath());})},Element:{clipWith:function clipWith(element){var clipper=element instanceof ClipPath?element:this.parent().clip().add(element);return this.attr('clip-path','url("#'+clipper.id()+'")');},unclip:function unclip(){return this.attr('clip-path',null);},clipper:function clipper(){return this.reference('clip-path');}}});register(ClipPath,'ClipPath');var ForeignObject=function(_Element){_inherits(ForeignObject,_Element);function ForeignObject(node){_classCallCheck(this,ForeignObject);return _possibleConstructorReturn(this,_getPrototypeOf(ForeignObject).call(this,nodeOrNew('foreignObject',node),node));}return ForeignObject;}(Element);registerMethods({Container:{foreignObject:wrapWithAttrCheck(function(width,height){return this.put(new ForeignObject()).size(width,height);})}});register(ForeignObject,'ForeignObject');var G=function(_Container){_inherits(G,_Container);function G(node){_classCallCheck(this,G);return _possibleConstructorReturn(this,_getPrototypeOf(G).call(this,nodeOrNew('g',node),node));}_createClass(G,[{key:"x",value:function x(_x){var box=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.bbox();if(_x==null)return box.x;return this.move(_x,box.y,box);}},{key:"y",value:function y(_y){var box=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.bbox();if(_y==null)return box.y;return this.move(box.x,_y,box);}},{key:"move",value:function move(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var box=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.bbox();var dx=x-box.x;var dy=y-box.y;return this.dmove(dx,dy);}},{key:"dx",value:function dx(_dx){return this.dmove(_dx,0);}},{key:"dy",value:function dy(_dy){return this.dmove(0,_dy);}},{key:"dmove",value:function dmove(dx,dy){this.children().forEach(function(child,i){var bbox=child.bbox();var m=new Matrix(child);var matrix=m.translate(dx,dy).transform(m.inverse());var p=new Point(bbox.x,bbox.y).transform(matrix);child.move(p.x,p.y);});return this;}},{key:"width",value:function width(_width){var box=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.bbox();if(_width==null)return box.width;return this.size(_width,box.height,box);}},{key:"height",value:function height(_height){var box=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.bbox();if(_height==null)return box.height;return this.size(box.width,_height,box);}},{key:"size",value:function size(width,height){var box=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.bbox();var p=proportionalSize(this,width,height,box);var scaleX=p.width/box.width;var scaleY=p.height/box.height;this.children().forEach(function(child,i){var o=new Point(box).transform(new Matrix(child).inverse());child.scale(scaleX,scaleY,o.x,o.y);});return this;}}]);return G;}(Container);registerMethods({Container:{group:wrapWithAttrCheck(function(){return this.put(new G());})}});register(G,'G');var A=function(_Container){_inherits(A,_Container);function A(node){_classCallCheck(this,A);return _possibleConstructorReturn(this,_getPrototypeOf(A).call(this,nodeOrNew('a',node),node));}_createClass(A,[{key:"to",value:function to(url){return this.attr('href',url,xlink);}},{key:"target",value:function target(_target){return this.attr('target',_target);}}]);return A;}(Container);registerMethods({Container:{link:wrapWithAttrCheck(function(url){return this.put(new A()).to(url);})},Element:{linkTo:function linkTo(url){var link=new A();if(typeof url==='function'){url.call(link,link);}else{link.to(url);}return this.parent().put(link).put(this);}}});register(A,'A');var Mask=function(_Container){_inherits(Mask,_Container);function Mask(node){_classCallCheck(this,Mask);return _possibleConstructorReturn(this,_getPrototypeOf(Mask).call(this,nodeOrNew('mask',node),node));}_createClass(Mask,[{key:"remove",value:function remove(){this.targets().forEach(function(el){el.unmask();});return _get(_getPrototypeOf(Mask.prototype),"remove",this).call(this);}},{key:"targets",value:function targets(){return baseFind('svg [mask*="'+this.id()+'"]');}}]);return Mask;}(Container);registerMethods({Container:{mask:wrapWithAttrCheck(function(){return this.defs().put(new Mask());})},Element:{maskWith:function maskWith(element){var masker=element instanceof Mask?element:this.parent().mask().add(element);return this.attr('mask','url("#'+masker.id()+'")');},unmask:function unmask(){return this.attr('mask',null);},masker:function masker(){return this.reference('mask');}}});register(Mask,'Mask');function ownKeys$3(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread$2(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys$3(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys$3(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function cssRule(selector,rule){if(!selector)return'';if(!rule)return selector;var ret=selector+'{';for(var i in rule){ret+=unCamelCase(i)+':'+rule[i]+';';}ret+='}';return ret;}var Style=function(_Element){_inherits(Style,_Element);function Style(node){_classCallCheck(this,Style);return _possibleConstructorReturn(this,_getPrototypeOf(Style).call(this,nodeOrNew('style',node),node));}_createClass(Style,[{key:"addText",value:function addText(){var w=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';this.node.textContent+=w;return this;}},{key:"font",value:function font(name,src){var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.rule('@font-face',_objectSpread$2({fontFamily:name,src:src},params));}},{key:"rule",value:function rule(selector,obj){return this.addText(cssRule(selector,obj));}}]);return Style;}(Element);registerMethods('Dom',{style:wrapWithAttrCheck(function(selector,obj){return this.put(new Style()).rule(selector,obj);}),fontface:wrapWithAttrCheck(function(name,src,params){return this.put(new Style()).font(name,src,params);})});register(Style,'Style');var TextPath=function(_Text){_inherits(TextPath,_Text);function TextPath(node){_classCallCheck(this,TextPath);return _possibleConstructorReturn(this,_getPrototypeOf(TextPath).call(this,nodeOrNew('textPath',node),node));}_createClass(TextPath,[{key:"array",value:function array(){var track=this.track();return track?track.array():null;}},{key:"plot",value:function plot(d){var track=this.track();var pathArray=null;if(track){pathArray=track.plot(d);}return d==null?pathArray:this;}},{key:"track",value:function track(){return this.reference('href');}}]);return TextPath;}(Text);registerMethods({Container:{textPath:wrapWithAttrCheck(function(text,path){if(!(text instanceof Text)){text=this.text(text);}return text.path(path);})},Text:{path:wrapWithAttrCheck(function(track){var importNodes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var textPath=new TextPath();if(!(track instanceof Path)){track=this.defs().path(track);}textPath.attr('href','#'+track,xlink);var node;if(importNodes){while(node=this.node.firstChild){textPath.node.appendChild(node);}}return this.put(textPath);}),textPath:function textPath(){return this.findOne('textPath');}},Path:{text:wrapWithAttrCheck(function(text){if(!(text instanceof Text)){text=new Text().addTo(this.parent()).text(text);}return text.path(this);}),targets:function targets(){return baseFind('svg [href*="'+this.id()+'"]');}}});TextPath.prototype.MorphArray=PathArray;register(TextPath,'TextPath');var Use=function(_Shape){_inherits(Use,_Shape);function Use(node){_classCallCheck(this,Use);return _possibleConstructorReturn(this,_getPrototypeOf(Use).call(this,nodeOrNew('use',node),node));}_createClass(Use,[{key:"element",value:function element(_element,file){return this.attr('href',(file||'')+'#'+_element,xlink);}}]);return Use;}(Shape);registerMethods({Container:{use:wrapWithAttrCheck(function(element,file){return this.put(new Use()).element(element,file);})}});register(Use,'Use');var SVG=makeInstance;extend([Svg,_Symbol,Image,Pattern,Marker],getMethodsFor('viewbox'));extend([Line,Polyline,Polygon,Path],getMethodsFor('marker'));extend(Text,getMethodsFor('Text'));extend(Path,getMethodsFor('Path'));extend(Defs,getMethodsFor('Defs'));extend([Text,Tspan],getMethodsFor('Tspan'));extend([Rect,Ellipse,Circle,Gradient],getMethodsFor('radius'));extend(EventTarget,getMethodsFor('EventTarget'));extend(Dom,getMethodsFor('Dom'));extend(Element,getMethodsFor('Element'));extend(Shape,getMethodsFor('Shape'));extend(Container,getMethodsFor('Container'));extend(Runner,getMethodsFor('Runner'));List.extend(getMethodNames());registerMorphableType([SVGNumber,Color,Box,Matrix,SVGArray,PointArray,PathArray]);makeMorphable();var svgMembers={__proto__:null,Morphable:Morphable,registerMorphableType:registerMorphableType,makeMorphable:makeMorphable,TransformBag:TransformBag,ObjectBag:ObjectBag,NonMorphable:NonMorphable,defaults:defaults,utils:utils,namespaces:namespaces,regex:regex,SVG:SVG,parser:parser,find:baseFind,registerWindow:registerWindow,Animator:Animator,Controller:Controller,Ease:Ease,PID:PID,Spring:Spring,easing:easing,Queue:Queue,Runner:Runner,Timeline:Timeline,Array:SVGArray,Box:Box,Color:Color,EventTarget:EventTarget,Matrix:Matrix,Number:SVGNumber,PathArray:PathArray,Point:Point,PointArray:PointArray,List:List,Circle:Circle,ClipPath:ClipPath,Container:Container,Defs:Defs,Dom:Dom,Element:Element,Ellipse:Ellipse,ForeignObject:ForeignObject,Gradient:Gradient,G:G,A:A,Image:Image,Line:Line,Marker:Marker,Mask:Mask,Path:Path,Pattern:Pattern,Polygon:Polygon,Polyline:Polyline,Rect:Rect,Shape:Shape,Stop:Stop,Style:Style,Svg:Svg,Symbol:_Symbol,Text:Text,TextPath:TextPath,Tspan:Tspan,Use:Use,on:on,off:off,dispatch:dispatch,root:root,create:create,makeInstance:makeInstance,nodeOrNew:nodeOrNew,adopt:adopt,mockAdopt:mockAdopt,register:register,getClass:getClass,eid:eid,assignNewId:assignNewId,extend:extend,wrapWithAttrCheck:wrapWithAttrCheck,invent:invent};function SVG$1(element){return makeInstance(element);}Object.assign(SVG$1,svgMembers);return SVG$1;}();__webpack_exports__["default"]=SVG.SVG;}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"));}});});